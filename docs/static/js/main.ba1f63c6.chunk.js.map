{"version":3,"sources":["lib/min2phase.js","lib/time.js","lib/inverse.js","lib/scramble.js","About.js","component/MyButton.js","component/NotationButton.js","component/ErrorDisplay.js","Game.js","Home.js","Results.js","App.js","index.js"],"names":["min2phase","PARTIAL_INIT_LEVEL","Search","this","move","moveSol","nodeUD","valid1","allowShorter","cc","CubieCube","urfCubieCube","urfCoordCube","phase1Cubie","preMoveCubes","preMoves","preMoveLen","maxPreMoves","isRec","i","CoordCube","N_PERM_SYM","N_SLICE","N_COMB","Cnk","fact","move2str","ud2std","std2ud","ckmv2bit","urfMove","ix","j","jx","setVal","val0","val","isEdge","getVal","setPruning","table","index","value","getPruning","getPruningMax","maxValue","Math","min","hasZero","ESym2CSym","idx","getPermSymInv","sym","isCorner","idxi","PermInvEdgeSym","SymMult","ca","ea","setNPerm","arr","n","p","v","m","getNPerm","setNPermFull","getNPermFull","getComb","mask","idxC","r","length","setComb","end","fill","getNParity","EdgeMult","a","b","prod","ed","CornMult","corn","ori","CornMultFull","oriA","oriB","CornConjugate","sinv","SymCube","SymMultInv","s","EdgeConjugate","prototype","init","slice","initCoord","cperm","twist","eperm","flip","setTwist","setFlip","isEqual","c","parity","getFlip","getFlipSym","FlipR2S","twst","getTwist","getTwistSym","TwistR2S","setCPerm","getCPerm","getCPermSym","EPermR2S","setEPerm","getEPerm","getEPermSym","getUDSlice","setUDSlice","getMPerm","setMPerm","getCComb","setCComb","URFConjugate","temps","urf2","urf1","cornerFacelet","edgeFacelet","tsym","fsym","prun","twistc","flipc","toFaceCube","cFacelet","eFacelet","ts","f","e","join","invFrom","edge","fromFacelet","facelet","col1","col2","count","centers","indexOf","set","node","calcPruning","isPhase1","max","UDSliceTwistPrunMax","UDSliceTwistPrun","UDSliceConj","UDSliceFlipPrunMax","UDSliceFlipPrun","TwistFlipPrunMax","TwistFlipPrun","FlipS2RF","setWithPrun","depth","pc","doMovePrun","UDSliceMove","FlipMove","Sym8Move","TwistMove","doMovePrunConj","SymMove","solution","facelets","maxDepth","probeMax","probeMin","verbose","initPrunTables","check","verify","abs","undefined","sol","probe","initSearch","search","conjMask","tmp","next","sum","edgeMask","cornMask","phase1PreMoves","maxl","lm","depth1","length1","phase1","skipMoves","moveCube","urfIdx","initPhase2Pre","ret","initPhase2","phase2Cubie","p2corn","p2csym","p2edge","p2esym","depth2","p2mid","p2edgei","p2corni","MCPermPrunMax","MCPermPrun","MPermConj","EPermCCombPPrunMax","EPermCCombPPrun","CCombPConj","Perm2CombP","maxDep2","phase2","appendSolMove","solutionToString","axis","power","curMove","pow","axisCur","axisLast","pop","push","esym","csym","mid","moveMask","midx","MPermMove","cornx","CPermMove","SymMoveUD","csymx","edgex","EPermMove","esymx","edgei","corni","sb","urf","FlipS2R","TwistS2R","EPermS2R","SymStateFlip","SymStateTwist","SymStatePerm","CCombPMove","InitPrunProgress","initRawSymPrun","PrunTable","N_RAW","N_SYM","RawMove","RawConj","SymState","PrunFlag","SYM_SHIFT","SYM_E2C_MAGIC","INV_DEPTH","MAX_DEPTH","MIN_DEPTH","SYM_MASK","ISTFP","N_SIZE","N_MOVES","NEXT_AXIS_MAGIC","SEARCH_DEPTH","inv","select","selArrMask","xorVal","raw","rawx","symx","symState","idxx","doInitPrunTables","targetProgress","d","f2","u4","lr2","outloop","t","initSym2Raw","Sym2Raw","Raw2Sym","coord","setFunc","getFunc","sym_inc","conjFunc","call","initSymMoveTable","moveTable","SymS2R","multFunc","initBasic","solve","randomCube","ep","cp","eo","random","co","fromScramble","c1","c2","initFull","module","exports","timeLib","format","time","date","Date","minute","getMinutes","getSeconds","getMilliseconds","inverse","faceNames","0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","faceNums","U","R","F","D","L","B","E","M","S","x","y","z","u","l","parseAlg","arg","k","len","part","ref","results","split","Error","face","result","str","reverse","substring","scrambleLib","makeShortScramble","faceList","turnList","scrambleList","floor","turn","scrambleText","forEach","trim","makeCorrectScramble","scr1","scr2","scr1ListTmp","scr1List","item","itemTmp","scr2ListTmp","scr2List","scr1ListRes","scr2ListRes","flag","shift","scrList","concat","scrStr","About","props","classes","makeStyles","theme","container","margin","padding","maxWidth","link","useStyles","AppBar","position","Toolbar","Typography","Box","className","display","flexDirection","justifyContent","variant","Button","onClick","history","MyButton","content","spacing","width","height","color","children","NotationButton","ErrorDisplay","error","message","Game","inputContent","backgroundColor","errorDisplay","moveCount","location","state","Number","intervalRef","useRef","useState","setTime","realTime","setRealTime","startDateTime","setStartDateTime","shortScramble","setShortScramble","scramble","setScramble","mySolution","setMySolution","mySolutionStr","setMySolutionStr","isCorrect","setIsCorrect","incorrectMessage","setIncorrectMessage","storageData","setStorageData","giveUp","setGiveUp","useEffect","localStorage","data","JSON","parse","startGame","stopTimer","redundantSolution","redundantScramble","makeScramble","startTimer","current","getTime","setInterval","clearInterval","solutionListToString","solutionList","tmpSolutionStr","moment","realTimeTmp","storageDataTmp","toString","setItem","stringify","setTimeout","tmpSolution","map","oneNotationList","notation","addMove","Dialog","open","DialogTitle","DialogContent","DialogContentText","align","DialogActions","TwitterShareButton","url","Home","setOpen","size","onClose","List","ListItem","button","pathname","ListItemText","primary","TabPanel","hidden","TableContainer","Table","TableBody","sort","TableRow","TableCell","Results","tabValue","setTabValue","Tabs","onChange","event","newValue","Tab","label","App","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ba1f63c6.chunk.js","sourcesContent":["\"use strict\";\n\nvar min2phase = (function() {\n\tvar USE_TWIST_FLIP_PRUN = true;\n\tvar PARTIAL_INIT_LEVEL = 2;\n\n\tvar MAX_PRE_MOVES = 20;\n\tvar TRY_INVERSE = true;\n\tvar TRY_THREE_AXES = true;\n\n\tvar USE_COMBP_PRUN = true; //USE_TWIST_FLIP_PRUN;\n\tvar USE_CONJ_PRUN = USE_TWIST_FLIP_PRUN;\n\tvar MIN_P1LENGTH_PRE = 7;\n\tvar MAX_DEPTH2 = 13;\n\n\tvar INVERSE_SOLUTION = 0x2;\n\n\tfunction Search() {\n\t\tthis.move = [];\n\t\tthis.moveSol = [];\n\n\t\tthis.nodeUD = [];\n\n\t\tthis.valid1 = 0;\n\t\tthis.allowShorter = false;\n\t\tthis.cc = new CubieCube();\n\t\tthis.urfCubieCube = [];\n\t\tthis.urfCoordCube = [];\n\t\tthis.phase1Cubie = [];\n\n\t\tthis.preMoveCubes = [];\n\t\tthis.preMoves = [];\n\t\tthis.preMoveLen = 0;\n\t\tthis.maxPreMoves = 0;\n\n\t\tthis.isRec = false;\n\t\tfor (var i = 0; i < 21; i++) {\n\t\t\tthis.nodeUD[i] = new CoordCube();\n\t\t\tthis.phase1Cubie[i] = new CubieCube();\n\t\t}\n\t\tfor (var i = 0; i < 6; i++) {\n\t\t\tthis.urfCubieCube[i] = new CubieCube();\n\t\t\tthis.urfCoordCube[i] = new CoordCube();\n\t\t}\n\t\tfor (var i = 0; i < MAX_PRE_MOVES; i++) {\n\t\t\tthis.preMoveCubes[i + 1] = new CubieCube();\n\t\t}\n\t}\n\n\tvar Ux1 = 0;\n\tvar Ux2 = 1;\n\tvar Ux3 = 2;\n\tvar Rx1 = 3;\n\tvar Rx2 = 4;\n\tvar Rx3 = 5;\n\tvar Fx1 = 6;\n\tvar Fx2 = 7;\n\tvar Fx3 = 8;\n\tvar Dx1 = 9;\n\tvar Dx2 = 10;\n\tvar Dx3 = 11;\n\tvar Lx1 = 12;\n\tvar Lx2 = 13;\n\tvar Lx3 = 14;\n\tvar Bx1 = 15;\n\tvar Bx2 = 16;\n\tvar Bx3 = 17;\n\n\tvar N_MOVES = 18;\n\tvar N_MOVES2 = 10;\n\tvar N_FLIP = 2048;\n\tvar N_FLIP_SYM = 336;\n\tvar N_TWIST = 2187;\n\tvar N_TWIST_SYM = 324;\n\tvar N_PERM = 40320;\n\tvar N_PERM_SYM = 2768;\n\tvar N_MPERM = 24;\n\tvar N_SLICE = 495;\n\tvar N_COMB = USE_COMBP_PRUN ? 140 : 70;\n\tvar P2_PARITY_MOVE = USE_COMBP_PRUN ? 0xA5 : 0;\n\n\tvar SYM_E2C_MAGIC = 0x00DDDD00;\n\tvar Cnk = [];\n\tvar fact = [1];\n\tvar move2str = [\n\t\t\"U \", \"U2\", \"U'\", \"R \", \"R2\", \"R'\", \"F \", \"F2\", \"F'\",\n\t\t\"D \", \"D2\", \"D'\", \"L \", \"L2\", \"L'\", \"B \", \"B2\", \"B'\"\n\t];\n\tvar ud2std = [Ux1, Ux2, Ux3, Rx2, Fx2, Dx1, Dx2, Dx3, Lx2, Bx2, Rx1, Rx3, Fx1, Fx3, Lx1, Lx3, Bx1, Bx3];\n\tvar std2ud = [];\n\tvar ckmv2bit = [];\n\tvar urfMove = [\n\t\t[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17],\n\t\t[6, 7, 8, 0, 1, 2, 3, 4, 5, 15, 16, 17, 9, 10, 11, 12, 13, 14],\n\t\t[3, 4, 5, 6, 7, 8, 0, 1, 2, 12, 13, 14, 15, 16, 17, 9, 10, 11],\n\t\t[2, 1, 0, 5, 4, 3, 8, 7, 6, 11, 10, 9, 14, 13, 12, 17, 16, 15],\n\t\t[8, 7, 6, 2, 1, 0, 5, 4, 3, 17, 16, 15, 11, 10, 9, 14, 13, 12],\n\t\t[5, 4, 3, 8, 7, 6, 2, 1, 0, 14, 13, 12, 17, 16, 15, 11, 10, 9]\n\t];\n\n\t{ // init util\n\t\tfor (var i = 0; i < 18; i++) {\n\t\t\tstd2ud[ud2std[i]] = i;\n\t\t}\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\tvar ix = ~~(ud2std[i] / 3);\n\t\t\tckmv2bit[i] = 0;\n\t\t\tfor (var j = 0; j < 10; j++) {\n\t\t\t\tvar jx = ~~(ud2std[j] / 3);\n\t\t\t\tckmv2bit[i] |= ((ix == jx) || ((ix % 3 == jx % 3) && (ix >= jx)) ? 1 : 0) << j;\n\t\t\t}\n\t\t}\n\t\tckmv2bit[10] = 0;\n\t\tfor (var i = 0; i < 13; i++) {\n\t\t\tCnk[i] = [];\n\t\t\tfact[i + 1] = fact[i] * (i + 1);\n\t\t\tCnk[i][0] = Cnk[i][i] = 1;\n\t\t\tfor (var j = 1; j < 13; j++) {\n\t\t\t\tCnk[i][j] = j <= i ? Cnk[i - 1][j - 1] + Cnk[i - 1][j] : 0;\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction setVal(val0, val, isEdge) {\n\t\treturn isEdge ? (val << 1 | val0 & 1) : (val | val0 & 0xf8);\n\t}\n\n\tfunction getVal(val0, isEdge) {\n\t\treturn isEdge ? val0 >> 1 : val0 & 7;\n\t}\n\n\tfunction setPruning(table, index, value) {\n\t\ttable[index >> 3] ^= value << (index << 2); // index << 2 <=> (index & 7) << 2\n\t}\n\n\tfunction getPruning(table, index) {\n\t\treturn table[index >> 3] >> (index << 2) & 0xf; // index << 2 <=> (index & 7) << 2\n\t}\n\n\tfunction getPruningMax(maxValue, table, index) {\n\t\treturn Math.min(maxValue, table[index >> 3] >> (index << 2) & 0xf);\n\t}\n\n\tfunction hasZero(val) {\n\t\treturn ((val - 0x11111111) & ~val & 0x88888888) != 0;\n\t}\n\n\tfunction ESym2CSym(idx) {\n\t\treturn idx ^ (SYM_E2C_MAGIC >> ((idx & 0xf) << 1) & 3);\n\t}\n\n\tfunction getPermSymInv(idx, sym, isCorner) {\n\t\tvar idxi = PermInvEdgeSym[idx];\n\t\tif (isCorner) {\n\t\t\tidxi = ESym2CSym(idxi);\n\t\t}\n\t\treturn idxi & 0xfff0 | SymMult[idxi & 0xf][sym];\n\t}\n\n\tfunction CubieCube() {\n\t\tthis.ca = [0, 1, 2, 3, 4, 5, 6, 7];\n\t\tthis.ea = [0, 2, 4, 6, 8, 10, 12, 14, 16, 18, 20, 22];\n\t}\n\n\tfunction setNPerm(arr, idx, n, isEdge) {\n\t\tn--;\n\t\tvar val = 0x76543210;\n\t\tfor (var i = 0; i < n; ++i) {\n\t\t\tvar p = fact[n - i];\n\t\t\tvar v = ~~(idx / p);\n\t\t\tidx %= p;\n\t\t\tv <<= 2;\n\t\t\tarr[i] = setVal(arr[i], val >> v & 0xf, isEdge);\n\t\t\tvar m = (1 << v) - 1;\n\t\t\tval = (val & m) + (val >> 4 & ~m);\n\t\t}\n\t\tarr[n] = setVal(arr[n], val & 0xf, isEdge);\n\t}\n\n\tfunction getNPerm(arr, n, isEdge) {\n\t\tvar idx = 0,\n\t\t\tval = 0x76543210;\n\t\tfor (var i = 0; i < n - 1; ++i) {\n\t\t\tvar v = getVal(arr[i], isEdge) << 2;\n\t\t\tidx = (n - i) * idx + (val >> v & 0xf);\n\t\t\tval -= 0x11111110 << v;\n\t\t}\n\t\treturn idx;\n\t}\n\n\tfunction setNPermFull(arr, idx, n, isEdge) {\n\t\tarr[n - 1] = setVal(arr[n - 1], 0, isEdge);;\n\t\tfor (var i = n - 2; i >= 0; --i) {\n\t\t\tarr[i] = setVal(arr[i], idx % (n - i), isEdge);\n\t\t\tidx = ~~(idx / (n - i));\n\t\t\tfor (var j = i + 1; j < n; ++j) {\n\t\t\t\tif (getVal(arr[j], isEdge) >= getVal(arr[i], isEdge)) {\n\t\t\t\t\tarr[j] = setVal(arr[j], getVal(arr[j], isEdge) + 1, isEdge);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction getNPermFull(arr, n, isEdge) {\n\t\tvar idx = 0;\n\t\tfor (var i = 0; i < n; ++i) {\n\t\t\tidx *= n - i;\n\t\t\tfor (var j = i + 1; j < n; ++j) {\n\t\t\t\tif (getVal(arr[j], isEdge) < getVal(arr[i], isEdge)) {\n\t\t\t\t\t++idx;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn idx;\n\t}\n\n\tfunction getComb(arr, mask, isEdge) {\n\t\tvar end = arr.length - 1;\n\t\tvar idxC = 0,\n\t\t\tr = 4;\n\t\tfor (var i = end; i >= 0; i--) {\n\t\t\tvar perm = getVal(arr[i], isEdge);\n\t\t\tif ((perm & 0xc) == mask) {\n\t\t\t\tidxC += Cnk[i][r--];\n\t\t\t}\n\t\t}\n\t\treturn idxC;\n\t}\n\n\tfunction setComb(arr, idxC, mask, isEdge) {\n\t\tvar end = arr.length - 1;\n\t\tvar r = 4,\n\t\t\tfill = end;\n\t\tfor (var i = end; i >= 0; i--) {\n\t\t\tif (idxC >= Cnk[i][r]) {\n\t\t\t\tidxC -= Cnk[i][r--];\n\t\t\t\tarr[i] = setVal(arr[i], r | mask, isEdge);\n\t\t\t} else {\n\t\t\t\tif ((fill & 0xc) == mask) {\n\t\t\t\t\tfill -= 4;\n\t\t\t\t}\n\t\t\t\tarr[i] = setVal(arr[i], fill--, isEdge);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction getNParity(idx, n) {\n\t\tvar p = 0;\n\t\tfor (var i = n - 2; i >= 0; i--) {\n\t\t\tp ^= idx % (n - i);\n\t\t\tidx = ~~(idx / (n - i));\n\t\t}\n\t\treturn p & 1;\n\t}\n\tCubieCube.EdgeMult = function(a, b, prod) {\n\t\tfor (var ed = 0; ed < 12; ed++) {\n\t\t\tprod.ea[ed] = a.ea[b.ea[ed] >> 1] ^ (b.ea[ed] & 1);\n\t\t}\n\t}\n\tCubieCube.CornMult = function(a, b, prod) {\n\t\tfor (var corn = 0; corn < 8; corn++) {\n\t\t\tvar ori = ((a.ca[b.ca[corn] & 7] >> 3) + (b.ca[corn] >> 3)) % 3;\n\t\t\tprod.ca[corn] = a.ca[b.ca[corn] & 7] & 7 | ori << 3;\n\t\t}\n\t}\n\tCubieCube.CornMultFull = function(a, b, prod) {\n\t\tfor (var corn = 0; corn < 8; corn++) {\n\t\t\tvar oriA = a.ca[b.ca[corn] & 7] >> 3;\n\t\t\tvar oriB = b.ca[corn] >> 3;\n\t\t\tvar ori = oriA + ((oriA < 3) ? oriB : 6 - oriB);\n\t\t\tori = ori % 3 + ((oriA < 3) == (oriB < 3) ? 0 : 3);\n\t\t\tprod.ca[corn] = a.ca[b.ca[corn] & 7] & 7 | ori << 3;\n\t\t}\n\t}\n\tCubieCube.CornConjugate = function(a, idx, b) {\n\t\tvar sinv = SymCube[SymMultInv[0][idx]];\n\t\tvar s = SymCube[idx];\n\t\tfor (var corn = 0; corn < 8; corn++) {\n\t\t\tvar oriA = sinv.ca[a.ca[s.ca[corn] & 7] & 7] >> 3;\n\t\t\tvar oriB = a.ca[s.ca[corn] & 7] >> 3;\n\t\t\tvar ori = (oriA < 3) ? oriB : (3 - oriB) % 3;\n\t\t\tb.ca[corn] = sinv.ca[a.ca[s.ca[corn] & 7] & 7] & 7 | ori << 3;\n\t\t}\n\t}\n\tCubieCube.EdgeConjugate = function(a, idx, b) {\n\t\tvar sinv = SymCube[SymMultInv[0][idx]];\n\t\tvar s = SymCube[idx];\n\t\tfor (var ed = 0; ed < 12; ed++) {\n\t\t\tb.ea[ed] = sinv.ea[a.ea[s.ea[ed] >> 1] >> 1] ^ (a.ea[s.ea[ed] >> 1] & 1) ^ (s.ea[ed] & 1);\n\t\t}\n\t}\n\tCubieCube.prototype.init = function(ca, ea) {\n\t\tthis.ca = ca.slice();\n\t\tthis.ea = ea.slice();\n\t\treturn this;\n\t}\n\tCubieCube.prototype.initCoord = function(cperm, twist, eperm, flip) {\n\t\tsetNPerm(this.ca, cperm, 8, false);\n\t\tthis.setTwist(twist);\n\t\tsetNPermFull(this.ea, eperm, 12, true);\n\t\tthis.setFlip(flip);\n\t\treturn this;\n\t}\n\tCubieCube.prototype.isEqual = function(c) {\n\t\tfor (var i = 0; i < 8; i++) {\n\t\t\tif (this.ca[i] != c.ca[i]) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\tfor (var i = 0; i < 12; i++) {\n\t\t\tif (this.ea[i] != c.ea[i]) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\tCubieCube.prototype.setFlip = function(idx) {\n\t\tvar parity = 0,\n\t\t\tval;\n\t\tfor (var i = 10; i >= 0; i--, idx >>= 1) {\n\t\t\tparity ^= (val = idx & 1);\n\t\t\tthis.ea[i] = this.ea[i] & 0xfe | val;\n\t\t}\n\t\tthis.ea[11] = this.ea[11] & 0xfe | parity;\n\t}\n\tCubieCube.prototype.getFlip = function() {\n\t\tvar idx = 0;\n\t\tfor (var i = 0; i < 11; i++) {\n\t\t\tidx = idx << 1 | this.ea[i] & 1;\n\t\t}\n\t\treturn idx;\n\t}\n\tCubieCube.prototype.getFlipSym = function() {\n\t\treturn FlipR2S[this.getFlip()];\n\t}\n\tCubieCube.prototype.setTwist = function(idx) {\n\t\tvar twst = 15,\n\t\t\tval;\n\t\tfor (var i = 6; i >= 0; i--, idx = ~~(idx / 3)) {\n\t\t\ttwst -= (val = idx % 3);\n\t\t\tthis.ca[i] = this.ca[i] & 0x7 | val << 3;\n\t\t}\n\t\tthis.ca[7] = this.ca[7] & 0x7 | (twst % 3) << 3;\n\t}\n\tCubieCube.prototype.getTwist = function() {\n\t\tvar idx = 0;\n\t\tfor (var i = 0; i < 7; i++) {\n\t\t\tidx += (idx << 1) + (this.ca[i] >> 3);\n\t\t}\n\t\treturn idx;\n\t}\n\tCubieCube.prototype.getTwistSym = function() {\n\t\treturn TwistR2S[this.getTwist()];\n\n\t}\n\tCubieCube.prototype.setCPerm = function(idx) {\n\t\tsetNPerm(this.ca, idx, 8, false);\n\t}\n\tCubieCube.prototype.getCPerm = function() {\n\t\treturn getNPerm(this.ca, 8, false);\n\t}\n\tCubieCube.prototype.getCPermSym = function() {\n\t\treturn ESym2CSym(EPermR2S[getNPerm(this.ca, 8, false)]);\n\t}\n\tCubieCube.prototype.setEPerm = function(idx) {\n\t\tsetNPerm(this.ea, idx, 8, true);\n\t}\n\tCubieCube.prototype.getEPerm = function() {\n\t\treturn getNPerm(this.ea, 8, true);\n\t}\n\tCubieCube.prototype.getEPermSym = function() {\n\t\treturn EPermR2S[getNPerm(this.ea, 8, true)];\n\t}\n\tCubieCube.prototype.getUDSlice = function() {\n\t\treturn 494 - getComb(this.ea, 8, true);\n\t}\n\tCubieCube.prototype.setUDSlice = function(idx) {\n\t\tsetComb(this.ea, 494 - idx, 8, true);\n\t}\n\tCubieCube.prototype.getMPerm = function() {\n\t\treturn getNPermFull(this.ea, 12, true) % 24;\n\t}\n\tCubieCube.prototype.setMPerm = function(idx) {\n\t\tsetNPermFull(this.ea, idx, 12, true);\n\t}\n\tCubieCube.prototype.getCComb = function() {\n\t\treturn getComb(this.ca, 0, false);\n\t}\n\tCubieCube.prototype.setCComb = function(idx) {\n\t\tsetComb(this.ca, idx, 0, false);\n\t}\n\tCubieCube.prototype.URFConjugate = function() {\n\t\tvar temps = new CubieCube();\n\t\tCubieCube.CornMult(CubieCube.urf2, this, temps);\n\t\tCubieCube.CornMult(temps, CubieCube.urf1, this);\n\t\tCubieCube.EdgeMult(CubieCube.urf2, this, temps);\n\t\tCubieCube.EdgeMult(temps, CubieCube.urf1, this);\n\t}\n\tvar cornerFacelet = [\n\t\t[8, 9, 20],\n\t\t[6, 18, 38],\n\t\t[0, 36, 47],\n\t\t[2, 45, 11],\n\t\t[29, 26, 15],\n\t\t[27, 44, 24],\n\t\t[33, 53, 42],\n\t\t[35, 17, 51]\n\t];\n\tvar edgeFacelet = [\n\t\t[5, 10],\n\t\t[7, 19],\n\t\t[3, 37],\n\t\t[1, 46],\n\t\t[32, 16],\n\t\t[28, 25],\n\t\t[30, 43],\n\t\t[34, 52],\n\t\t[23, 12],\n\t\t[21, 41],\n\t\t[50, 39],\n\t\t[48, 14]\n\t];\n\tCubieCube.prototype.toFaceCube = function(cFacelet, eFacelet) {\n\t\tcFacelet = cFacelet || cornerFacelet;\n\t\teFacelet = eFacelet || edgeFacelet;\n\t\tvar ts = \"URFDLB\";\n\t\tvar f = [];\n\t\tfor (var i = 0; i < 54; i++) {\n\t\t\tf[i] = ts[~~(i / 9)];\n\t\t}\n\t\tfor (var c = 0; c < 8; c++) {\n\t\t\tvar j = this.ca[c] & 0x7; // cornercubie with index j is at\n\t\t\tvar ori = this.ca[c] >> 3; // Orientation of this cubie\n\t\t\tfor (var n = 0; n < 3; n++)\n\t\t\t\tf[cFacelet[c][(n + ori) % 3]] = ts[~~(cFacelet[j][n] / 9)];\n\t\t}\n\t\tfor (var e = 0; e < 12; e++) {\n\t\t\tvar j = this.ea[e] >> 1; // edgecubie with index j is at edgeposition\n\t\t\tvar ori = this.ea[e] & 1; // Orientation of this cubie\n\t\t\tfor (var n = 0; n < 2; n++)\n\t\t\t\tf[eFacelet[e][(n + ori) % 2]] = ts[~~(eFacelet[j][n] / 9)];\n\t\t}\n\t\treturn f.join(\"\");\n\t}\n\tCubieCube.prototype.invFrom = function(cc) {\n\t\tfor (var edge = 0; edge < 12; edge++) {\n\t\t\tthis.ea[cc.ea[edge] >> 1] = edge << 1 | cc.ea[edge] & 1;\n\t\t}\n\t\tfor (var corn = 0; corn < 8; corn++) {\n\t\t\tthis.ca[cc.ca[corn] & 0x7] = corn | 0x20 >> (cc.ca[corn] >> 3) & 0x18;\n\t\t}\n\t\treturn this;\n\t}\n\tCubieCube.prototype.fromFacelet = function(facelet, cFacelet, eFacelet) {\n\t\tcFacelet = cFacelet || cornerFacelet;\n\t\teFacelet = eFacelet || edgeFacelet;\n\t\tvar count = 0;\n\t\tvar f = [];\n\t\tvar centers = facelet[4] + facelet[13] + facelet[22] + facelet[31] + facelet[40] + facelet[49];\n\t\tfor (var i = 0; i < 54; ++i) {\n\t\t\tf[i] = centers.indexOf(facelet[i]);\n\t\t\tif (f[i] == -1) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tcount += 1 << (f[i] << 2);\n\t\t}\n\t\tif (count != 0x999999) {\n\t\t\treturn -1;\n\t\t}\n\t\tvar col1, col2, i, j, ori;\n\t\tfor (i = 0; i < 8; ++i) {\n\t\t\tfor (ori = 0; ori < 3; ++ori)\n\t\t\t\tif (f[cFacelet[i][ori]] == 0 || f[cFacelet[i][ori]] == 3)\n\t\t\t\t\tbreak;\n\t\t\tcol1 = f[cFacelet[i][(ori + 1) % 3]];\n\t\t\tcol2 = f[cFacelet[i][(ori + 2) % 3]];\n\t\t\tfor (j = 0; j < 8; ++j) {\n\t\t\t\tif (col1 == ~~(cFacelet[j][1] / 9) && col2 == ~~(cFacelet[j][2] / 9)) {\n\t\t\t\t\tthis.ca[i] = j | ori % 3 << 3;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (i = 0; i < 12; ++i) {\n\t\t\tfor (j = 0; j < 12; ++j) {\n\t\t\t\tif (f[eFacelet[i][0]] == ~~(eFacelet[j][0] / 9) && f[eFacelet[i][1]] == ~~(eFacelet[j][1] / 9)) {\n\t\t\t\t\tthis.ea[i] = j << 1;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (f[eFacelet[i][0]] == ~~(eFacelet[j][1] / 9) && f[eFacelet[i][1]] == ~~(eFacelet[j][0] / 9)) {\n\t\t\t\t\tthis.ea[i] = j << 1 | 1;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction CoordCube() {\n\t\tthis.twist = 0;\n\t\tthis.tsym = 0;\n\t\tthis.flip = 0;\n\t\tthis.fsym = 0;\n\t\tthis.slice = 0;\n\t\tthis.prun = 0;\n\t\tthis.twistc = 0;\n\t\tthis.flipc = 0;\n\t}\n\tCoordCube.prototype.set = function(node) {\n\t\tthis.twist = node.twist;\n\t\tthis.tsym = node.tsym;\n\t\tthis.flip = node.flip;\n\t\tthis.fsym = node.fsym;\n\t\tthis.slice = node.slice;\n\t\tthis.prun = node.prun;\n\t\tif (USE_CONJ_PRUN) {\n\t\t\tthis.twistc = node.twistc;\n\t\t\tthis.flipc = node.flipc;\n\t\t}\n\t}\n\tCoordCube.prototype.calcPruning = function(isPhase1) {\n\t\tthis.prun = Math.max(\n\t\t\tMath.max(\n\t\t\t\tgetPruningMax(UDSliceTwistPrunMax, UDSliceTwistPrun,\n\t\t\t\t\tthis.twist * N_SLICE + UDSliceConj[this.slice][this.tsym]),\n\t\t\t\tgetPruningMax(UDSliceFlipPrunMax, UDSliceFlipPrun,\n\t\t\t\t\tthis.flip * N_SLICE + UDSliceConj[this.slice][this.fsym])),\n\t\t\tMath.max(\n\t\t\t\tUSE_CONJ_PRUN ? getPruningMax(TwistFlipPrunMax, TwistFlipPrun,\n\t\t\t\t\t(this.twistc >> 3) << 11 | FlipS2RF[this.flipc ^ (this.twistc & 7)]) : 0,\n\t\t\t\tUSE_TWIST_FLIP_PRUN ? getPruningMax(TwistFlipPrunMax, TwistFlipPrun,\n\t\t\t\t\tthis.twist << 11 | FlipS2RF[this.flip << 3 | (this.fsym ^ this.tsym)]) : 0));\n\t}\n\tCoordCube.prototype.setWithPrun = function(cc, depth) {\n\t\tthis.twist = cc.getTwistSym();\n\t\tthis.flip = cc.getFlipSym();\n\t\tthis.tsym = this.twist & 7;\n\t\tthis.twist = this.twist >> 3;\n\t\tthis.prun = USE_TWIST_FLIP_PRUN ? getPruningMax(TwistFlipPrunMax, TwistFlipPrun,\n\t\t\tthis.twist << 11 | FlipS2RF[this.flip ^ this.tsym]) : 0;\n\t\tif (this.prun > depth) {\n\t\t\treturn false;\n\t\t}\n\t\tthis.fsym = this.flip & 7;\n\t\tthis.flip = this.flip >> 3;\n\t\tthis.slice = cc.getUDSlice();\n\t\tthis.prun = Math.max(this.prun, Math.max(\n\t\t\tgetPruningMax(UDSliceTwistPrunMax, UDSliceTwistPrun,\n\t\t\t\tthis.twist * N_SLICE + UDSliceConj[this.slice][this.tsym]),\n\t\t\tgetPruningMax(UDSliceFlipPrunMax, UDSliceFlipPrun,\n\t\t\t\tthis.flip * N_SLICE + UDSliceConj[this.slice][this.fsym])));\n\t\tif (this.prun > depth) {\n\t\t\treturn false;\n\t\t}\n\t\tif (USE_CONJ_PRUN) {\n\t\t\tvar pc = new CubieCube();\n\t\t\tCubieCube.CornConjugate(cc, 1, pc);\n\t\t\tCubieCube.EdgeConjugate(cc, 1, pc);\n\t\t\tthis.twistc = pc.getTwistSym();\n\t\t\tthis.flipc = pc.getFlipSym();\n\t\t\tthis.prun = Math.max(this.prun,\n\t\t\t\tgetPruningMax(TwistFlipPrunMax, TwistFlipPrun,\n\t\t\t\t\t(this.twistc >> 3) << 11 | FlipS2RF[this.flipc ^ (this.twistc & 7)]));\n\t\t}\n\t\treturn this.prun <= depth;\n\t}\n\tCoordCube.prototype.doMovePrun = function(cc, m, isPhase1) {\n\t\tthis.slice = UDSliceMove[cc.slice][m];\n\t\tthis.flip = FlipMove[cc.flip][Sym8Move[m << 3 | cc.fsym]];\n\t\tthis.fsym = (this.flip & 7) ^ cc.fsym;\n\t\tthis.flip >>= 3;\n\t\tthis.twist = TwistMove[cc.twist][Sym8Move[m << 3 | cc.tsym]];\n\t\tthis.tsym = (this.twist & 7) ^ cc.tsym;\n\t\tthis.twist >>= 3;\n\t\tthis.prun = Math.max(\n\t\t\tMath.max(\n\t\t\t\tgetPruningMax(UDSliceTwistPrunMax, UDSliceTwistPrun,\n\t\t\t\t\tthis.twist * N_SLICE + UDSliceConj[this.slice][this.tsym]),\n\t\t\t\tgetPruningMax(UDSliceFlipPrunMax, UDSliceFlipPrun,\n\t\t\t\t\tthis.flip * N_SLICE + UDSliceConj[this.slice][this.fsym])),\n\t\t\tUSE_TWIST_FLIP_PRUN ? getPruningMax(TwistFlipPrunMax, TwistFlipPrun,\n\t\t\t\tthis.twist << 11 | FlipS2RF[this.flip << 3 | (this.fsym ^ this.tsym)]) : 0);\n\t\treturn this.prun;\n\t}\n\tCoordCube.prototype.doMovePrunConj = function(cc, m) {\n\t\tm = SymMove[3][m];\n\t\tthis.flipc = FlipMove[cc.flipc >> 3][Sym8Move[m << 3 | cc.flipc & 7]] ^ (cc.flipc & 7);\n\t\tthis.twistc = TwistMove[cc.twistc >> 3][Sym8Move[m << 3 | cc.twistc & 7]] ^ (cc.twistc & 7);\n\t\treturn getPruningMax(TwistFlipPrunMax, TwistFlipPrun,\n\t\t\t(this.twistc >> 3) << 11 | FlipS2RF[this.flipc ^ (this.twistc & 7)]);\n\t}\n\tSearch.prototype.solution = function(facelets, maxDepth, probeMax, probeMin, verbose) {\n\t\tinitPrunTables();\n\t\tvar check = this.verify(facelets);\n\t\tif (check != 0) {\n\t\t\treturn \"Error \" + Math.abs(check);\n\t\t}\n\t\tif (maxDepth === undefined) {\n\t\t\tmaxDepth = 21;\n\t\t}\n\t\tif (probeMax === undefined) {\n\t\t\tprobeMax = 1e9;\n\t\t}\n\t\tif (probeMin === undefined) {\n\t\t\tprobeMin = 0;\n\t\t}\n\t\tif (verbose === undefined) {\n\t\t\tverbose = 0;\n\t\t}\n\t\tthis.sol = maxDepth + 1;\n\t\tthis.probe = 0;\n\t\tthis.probeMax = probeMax;\n\t\tthis.probeMin = Math.min(probeMin, probeMax);\n\t\tthis.verbose = verbose;\n\t\tthis.moveSol = null;\n\t\tthis.isRec = false;\n\t\tthis.initSearch();\n\t\treturn this.search();\n\t}\n\n\tSearch.prototype.initSearch = function() {\n\t\tthis.conjMask = (TRY_INVERSE ? 0 : 0x38) | (TRY_THREE_AXES ? 0 : 0x36);\n\t\tthis.maxPreMoves = this.conjMask > 7 ? 0 : MAX_PRE_MOVES;\n\n\t\tfor (var i = 0; i < 6; i++) {\n\t\t\tthis.urfCubieCube[i].init(this.cc.ca, this.cc.ea);\n\t\t\tthis.urfCoordCube[i].setWithPrun(this.urfCubieCube[i], 20);\n\t\t\tthis.cc.URFConjugate();\n\t\t\tif (i % 3 == 2) {\n\t\t\t\tvar tmp = new CubieCube().invFrom(this.cc);\n\t\t\t\tthis.cc.init(tmp.ca, tmp.ea);\n\t\t\t}\n\t\t}\n\t}\n\n\tSearch.prototype.next = function(probeMax, probeMin, verbose) {\n\t\tif (probeMax === undefined) {\n\t\t\tprobeMax = 1e9;\n\t\t}\n\t\tif (probeMin === undefined) {\n\t\t\tprobeMin = 0;\n\t\t}\n\t\tif (verbose === undefined) {\n\t\t\tverbose = 0;\n\t\t}\n\t\tthis.probe = 0;\n\t\tthis.probeMax = probeMax;\n\t\tthis.probeMin = Math.min(probeMin, probeMax);\n\t\tthis.moveSol = null;\n\t\tthis.isRec = true;\n\t\tthis.verbose = verbose;\n\t\treturn this.search();\n\t}\n\n\tSearch.prototype.verify = function(facelets) {\n\t\tif (this.cc.fromFacelet(facelets) == -1) {\n\t\t\treturn -1;\n\t\t}\n\t\tvar sum = 0;\n\t\tvar edgeMask = 0;\n\t\tfor (var e = 0; e < 12; e++) {\n\t\t\tedgeMask |= 1 << (this.cc.ea[e] >> 1);\n\t\t\tsum ^= this.cc.ea[e] & 1;\n\t\t}\n\t\tif (edgeMask != 0xfff) {\n\t\t\treturn -2; // missing edges\n\t\t}\n\t\tif (sum != 0) {\n\t\t\treturn -3;\n\t\t}\n\t\tvar cornMask = 0;\n\t\tsum = 0;\n\t\tfor (var c = 0; c < 8; c++) {\n\t\t\tcornMask |= 1 << (this.cc.ca[c] & 7);\n\t\t\tsum += this.cc.ca[c] >> 3;\n\t\t}\n\t\tif (cornMask != 0xff) {\n\t\t\treturn -4; // missing corners\n\t\t}\n\t\tif (sum % 3 != 0) {\n\t\t\treturn -5; // twisted corner\n\t\t}\n\t\tif ((getNParity(getNPermFull(this.cc.ea, 12, true), 12) ^ getNParity(this.cc.getCPerm(), 8)) != 0) {\n\t\t\treturn -6; // parity error\n\t\t}\n\t\treturn 0; // cube ok\n\t}\n\n\tSearch.prototype.phase1PreMoves = function(maxl, lm, cc) {\n\t\tthis.preMoveLen = this.maxPreMoves - maxl;\n\t\tif (this.isRec ? (this.depth1 == this.length1 - this.preMoveLen) :\n\t\t\t(this.preMoveLen == 0 || (0x36FB7 >> lm & 1) == 0)) {\n\t\t\tthis.depth1 = this.length1 - this.preMoveLen;\n\t\t\tthis.phase1Cubie[0].init(cc.ca, cc.ea) /* = cc*/ ;\n\t\t\tthis.allowShorter = this.depth1 == MIN_P1LENGTH_PRE && this.preMoveLen != 0;\n\n\t\t\tif (this.nodeUD[this.depth1 + 1].setWithPrun(cc, this.depth1) &&\n\t\t\t\tthis.phase1(this.nodeUD[this.depth1 + 1], this.depth1, -1) == 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\n\t\tif (maxl == 0 || this.preMoveLen + MIN_P1LENGTH_PRE >= this.length1) {\n\t\t\treturn 1;\n\t\t}\n\n\t\tvar skipMoves = 0;\n\t\tif (maxl == 1 || this.preMoveLen + 1 + MIN_P1LENGTH_PRE >= this.length1) { //last pre move\n\t\t\tskipMoves |= 0x36FB7; // 11 0110 1111 1011 0111\n\t\t}\n\n\t\tlm = ~~(lm / 3) * 3;\n\t\tfor (var m = 0; m < 18; m++) {\n\t\t\tif (m == lm || m == lm - 9 || m == lm + 9) {\n\t\t\t\tm += 2;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (this.isRec && m != this.preMoves[this.maxPreMoves - maxl] || (skipMoves & 1 << m) != 0) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tCubieCube.CornMult(moveCube[m], cc, this.preMoveCubes[maxl]);\n\t\t\tCubieCube.EdgeMult(moveCube[m], cc, this.preMoveCubes[maxl]);\n\t\t\tthis.preMoves[this.maxPreMoves - maxl] = m;\n\t\t\tvar ret = this.phase1PreMoves(maxl - 1, m, this.preMoveCubes[maxl]);\n\t\t\tif (ret == 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\t\treturn 1;\n\t}\n\n\tSearch.prototype.search = function() {\n\t\tfor (this.length1 = this.isRec ? this.length1 : 0; this.length1 < this.sol; this.length1++) {\n\t\t\tfor (this.urfIdx = this.isRec ? this.urfIdx : 0; this.urfIdx < 6; this.urfIdx++) {\n\t\t\t\tif ((this.conjMask & 1 << this.urfIdx) != 0) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (this.phase1PreMoves(this.maxPreMoves, -30, this.urfCubieCube[this.urfIdx], 0) == 0) {\n\t\t\t\t\treturn this.moveSol == null ? \"Error 8\" : this.moveSol;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn this.moveSol == null ? \"Error 7\" : this.moveSol;\n\t}\n\n\tSearch.prototype.initPhase2Pre = function() {\n\t\tthis.isRec = false;\n\t\tif (this.probe >= (this.moveSol == null ? this.probeMax : this.probeMin)) {\n\t\t\treturn 0;\n\t\t}\n\t\t++this.probe;\n\n\t\tfor (var i = this.valid1; i < this.depth1; i++) {\n\t\t\tCubieCube.CornMult(this.phase1Cubie[i], moveCube[this.move[i]], this.phase1Cubie[i + 1]);\n\t\t\tCubieCube.EdgeMult(this.phase1Cubie[i], moveCube[this.move[i]], this.phase1Cubie[i + 1]);\n\t\t}\n\t\tthis.valid1 = this.depth1;\n\n\t\tvar ret = this.initPhase2(this.phase1Cubie[this.depth1]);\n\t\tif (ret == 0 || this.preMoveLen == 0 || ret == 2) {\n\t\t\treturn ret;\n\t\t}\n\n\t\tvar m = ~~(this.preMoves[this.preMoveLen - 1] / 3) * 3 + 1;\n\t\tCubieCube.CornMult(moveCube[m], this.phase1Cubie[this.depth1], this.phase1Cubie[this.depth1 + 1]);\n\t\tCubieCube.EdgeMult(moveCube[m], this.phase1Cubie[this.depth1], this.phase1Cubie[this.depth1 + 1]);\n\n\t\tthis.preMoves[this.preMoveLen - 1] += 2 - this.preMoves[this.preMoveLen - 1] % 3 * 2;\n\t\tret = this.initPhase2(this.phase1Cubie[this.depth1 + 1]);\n\t\tthis.preMoves[this.preMoveLen - 1] += 2 - this.preMoves[this.preMoveLen - 1] % 3 * 2;\n\t\treturn ret;\n\t}\n\tSearch.prototype.initPhase2 = function(phase2Cubie) {\n\t\tvar p2corn = phase2Cubie.getCPermSym();\n\t\tvar p2csym = p2corn & 0xf;\n\t\tp2corn >>= 4;\n\t\tvar p2edge = phase2Cubie.getEPermSym();\n\t\tvar p2esym = p2edge & 0xf;\n\t\tp2edge >>= 4;\n\t\tvar p2mid = phase2Cubie.getMPerm();\n\t\tvar p2edgei = getPermSymInv(p2edge, p2esym, false);\n\t\tvar p2corni = getPermSymInv(p2corn, p2csym, true);\n\t\tvar prun = Math.max(\n\t\t\tgetPruningMax(MCPermPrunMax, MCPermPrun,\n\t\t\t\tp2corn * N_MPERM + MPermConj[p2mid][p2csym]),\n\t\t\tgetPruningMax(EPermCCombPPrunMax, EPermCCombPPrun,\n\t\t\t\tp2edge * N_COMB + CCombPConj[Perm2CombP[p2corn] & 0xff][SymMultInv[p2esym][p2csym]]),\n\t\t\tgetPruningMax(EPermCCombPPrunMax, EPermCCombPPrun,\n\t\t\t\t(p2edgei >> 4) * N_COMB + CCombPConj[Perm2CombP[p2corni >> 4] & 0xff][SymMultInv[p2edgei & 0xf][p2corni & 0xf]])\n\t\t);\n\t\tvar maxDep2 = Math.min(MAX_DEPTH2, this.sol - this.length1);\n\t\tif (prun >= maxDep2) {\n\t\t\treturn prun > maxDep2 ? 2 : 1;\n\t\t}\n\t\tvar depth2;\n\t\tfor (depth2 = maxDep2 - 1; depth2 >= prun; depth2--) {\n\t\t\tvar ret = this.phase2(p2edge, p2esym, p2corn, p2csym, p2mid, depth2, this.depth1, 10);\n\t\t\tif (ret < 0) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdepth2 -= ret;\n\t\t\tthis.moveSol = [];\n\t\t\tfor (var i = 0; i < this.depth1 + depth2; i++) {\n\t\t\t\tthis.appendSolMove(this.move[i]);\n\t\t\t}\n\t\t\tfor (var i = this.preMoveLen - 1; i >= 0; i--) {\n\t\t\t\tthis.appendSolMove(this.preMoves[i]);\n\t\t\t}\n\t\t\tthis.sol = this.moveSol.length;\n\t\t\tthis.moveSol = this.solutionToString();\n\t\t}\n\t\tif (depth2 != maxDep2 - 1) { //At least one solution has been found.\n\t\t\treturn this.probe >= this.probeMin ? 0 : 1;\n\t\t} else {\n\t\t\treturn 1;\n\t\t}\n\t}\n\tSearch.prototype.phase1 = function(node, maxl, lm) {\n\t\tif (node.prun == 0 && maxl < 5) {\n\t\t\tif (this.allowShorter || maxl == 0) {\n\t\t\t\tthis.depth1 -= maxl;\n\t\t\t\tvar ret = this.initPhase2Pre();\n\t\t\t\tthis.depth1 += maxl;\n\t\t\t\treturn ret;\n\t\t\t} else {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t}\n\t\tfor (var axis = 0; axis < 18; axis += 3) {\n\t\t\tif (axis == lm || axis == lm - 9) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tfor (var power = 0; power < 3; power++) {\n\t\t\t\tvar m = axis + power;\n\n\t\t\t\tif (this.isRec && m != this.move[this.depth1 - maxl]) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tvar prun = this.nodeUD[maxl].doMovePrun(node, m, true);\n\t\t\t\tif (prun > maxl) {\n\t\t\t\t\tbreak;\n\t\t\t\t} else if (prun == maxl) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (USE_CONJ_PRUN) {\n\t\t\t\t\tprun = this.nodeUD[maxl].doMovePrunConj(node, m);\n\t\t\t\t\tif (prun > maxl) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} else if (prun == maxl) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.move[this.depth1 - maxl] = m;\n\t\t\t\tthis.valid1 = Math.min(this.valid1, this.depth1 - maxl);\n\t\t\t\tvar ret = this.phase1(this.nodeUD[maxl], maxl - 1, axis);\n\t\t\t\tif (ret == 0) {\n\t\t\t\t\treturn 0;\n\t\t\t\t} else if (ret == 2) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn 1;\n\t}\n\tSearch.prototype.appendSolMove = function(curMove) {\n\t\tif (this.moveSol.length == 0) {\n\t\t\tthis.moveSol.push(curMove);\n\t\t\treturn;\n\t\t}\n\t\tvar axisCur = ~~(curMove / 3);\n\t\tvar axisLast = ~~(this.moveSol[this.moveSol.length - 1] / 3);\n\t\tif (axisCur == axisLast) {\n\t\t\tvar pow = (curMove % 3 + this.moveSol[this.moveSol.length - 1] % 3 + 1) % 4;\n\t\t\tif (pow == 3) {\n\t\t\t\tthis.moveSol.pop();\n\t\t\t} else {\n\t\t\t\tthis.moveSol[this.moveSol.length - 1] = axisCur * 3 + pow;\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tif (this.moveSol.length > 1 &&\n\t\t\taxisCur % 3 == axisLast % 3 &&\n\t\t\taxisCur == ~~(this.moveSol[this.moveSol.length - 2] / 3)) {\n\t\t\tvar pow = (curMove % 3 + this.moveSol[this.moveSol.length - 2] % 3 + 1) % 4;\n\t\t\tif (pow == 3) {\n\t\t\t\tthis.moveSol[this.moveSol.length - 2] = this.moveSol[this.moveSol.length - 1];\n\t\t\t\tthis.moveSol.pop();\n\t\t\t} else {\n\t\t\t\tthis.moveSol[this.moveSol.length - 2] = axisCur * 3 + pow;\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tthis.moveSol.push(curMove);\n\t}\n\tSearch.prototype.phase2 = function(edge, esym, corn, csym, mid, maxl, depth, lm) {\n\t\tif (edge == 0 && corn == 0 && mid == 0) {\n\t\t\treturn maxl;\n\t\t}\n\t\tvar moveMask = ckmv2bit[lm];\n\t\tfor (var m = 0; m < 10; m++) {\n\t\t\tif ((moveMask >> m & 1) != 0) {\n\t\t\t\tm += 0x42 >> m & 3;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tvar midx = MPermMove[mid][m];\n\t\t\tvar cornx = CPermMove[corn][SymMoveUD[csym][m]];\n\t\t\tvar csymx = SymMult[cornx & 0xf][csym];\n\t\t\tcornx >>= 4;\n\t\t\tvar edgex = EPermMove[edge][SymMoveUD[esym][m]];\n\t\t\tvar esymx = SymMult[edgex & 0xf][esym];\n\t\t\tedgex >>= 4;\n\t\t\tvar edgei = getPermSymInv(edgex, esymx, false);\n\t\t\tvar corni = getPermSymInv(cornx, csymx, true);\n\t\t\tvar prun = getPruningMax(EPermCCombPPrunMax, EPermCCombPPrun,\n\t\t\t\t(edgei >> 4) * N_COMB + CCombPConj[Perm2CombP[corni >> 4] & 0xff][SymMultInv[edgei & 0xf][corni & 0xf]]);\n\t\t\tif (prun > maxl + 1) {\n\t\t\t\tbreak;\n\t\t\t} else if (prun >= maxl) {\n\t\t\t\tm += 0x42 >> m & 3 & (maxl - prun);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tprun = Math.max(\n\t\t\t\tgetPruningMax(EPermCCombPPrunMax, EPermCCombPPrun,\n\t\t\t\t\tedgex * N_COMB + CCombPConj[Perm2CombP[cornx] & 0xff][SymMultInv[esymx][csymx]]),\n\t\t\t\tgetPruningMax(MCPermPrunMax, MCPermPrun,\n\t\t\t\t\tcornx * N_MPERM + MPermConj[midx][csymx])\n\t\t\t);\n\t\t\tif (prun >= maxl) {\n\t\t\t\tm += 0x42 >> m & 3 & (maxl - prun);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tvar ret = this.phase2(edgex, esymx, cornx, csymx, midx, maxl - 1, depth + 1, m);\n\t\t\tif (ret >= 0) {\n\t\t\t\tthis.move[depth] = ud2std[m];\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t}\n\tSearch.prototype.solutionToString = function() {\n\t\tvar sb = '';\n\t\tvar urf = (this.verbose & INVERSE_SOLUTION) != 0 ? (this.urfIdx + 3) % 6 : this.urfIdx;\n\t\tif (urf < 3) {\n\t\t\tfor (var s = 0; s < this.moveSol.length; ++s) {\n\t\t\t\tsb += move2str[urfMove[urf][this.moveSol[s]]] + ' ';\n\t\t\t}\n\t\t} else {\n\t\t\tfor (var s = this.moveSol.length - 1; s >= 0; --s) {\n\t\t\t\tsb += move2str[urfMove[urf][this.moveSol[s]]] + ' ';\n\t\t\t}\n\t\t}\n\t\treturn sb;\n\t}\n\n\tvar moveCube = [];\n\tvar SymCube = [];\n\tvar SymMult = [];\n\tvar SymMultInv = [];\n\tvar SymMove = [];\n\tvar SymMoveUD = [];\n\tvar Sym8Move = [];\n\tvar FlipS2R = [];\n\tvar FlipR2S = [];\n\tvar TwistS2R = [];\n\tvar TwistR2S = [];\n\tvar EPermS2R = [];\n\tvar EPermR2S = [];\n\tvar SymStateFlip = [];\n\tvar SymStateTwist = [];\n\tvar SymStatePerm = [];\n\tvar FlipS2RF = [];\n\tvar Perm2CombP = [];\n\tvar PermInvEdgeSym = [];\n\tvar UDSliceMove = [];\n\tvar TwistMove = [];\n\tvar FlipMove = [];\n\tvar UDSliceConj = [];\n\tvar UDSliceTwistPrun = [];\n\tvar UDSliceFlipPrun = [];\n\tvar TwistFlipPrun = [];\n\n\t//phase2\n\tvar CPermMove = [];\n\tvar EPermMove = [];\n\tvar MPermMove = [];\n\tvar MPermConj = [];\n\tvar CCombPMove = []; // = new char[N_COMB][N_MOVES2];\n\tvar CCombPConj = [];\n\tvar MCPermPrun = [];\n\tvar EPermCCombPPrun = [];\n\n\tvar TwistFlipPrunMax = 15;\n\tvar UDSliceTwistPrunMax = 15;\n\tvar UDSliceFlipPrunMax = 15;\n\tvar MCPermPrunMax = 15;\n\tvar EPermCCombPPrunMax = 15;\n\n\t{ //init move cubes\n\t\tfor (var i = 0; i < 18; i++) {\n\t\t\tmoveCube[i] = new CubieCube()\n\t\t}\n\t\tmoveCube[0].initCoord(15120, 0, 119750400, 0);\n\t\tmoveCube[3].initCoord(21021, 1494, 323403417, 0);\n\t\tmoveCube[6].initCoord(8064, 1236, 29441808, 550);\n\t\tmoveCube[9].initCoord(9, 0, 5880, 0);\n\t\tmoveCube[12].initCoord(1230, 412, 2949660, 0);\n\t\tmoveCube[15].initCoord(224, 137, 328552, 137);\n\t\tfor (var a = 0; a < 18; a += 3) {\n\t\t\tfor (var p = 0; p < 2; p++) {\n\t\t\t\tCubieCube.EdgeMult(moveCube[a + p], moveCube[a], moveCube[a + p + 1]);\n\t\t\t\tCubieCube.CornMult(moveCube[a + p], moveCube[a], moveCube[a + p + 1]);\n\t\t\t}\n\t\t}\n\t\tCubieCube.urf1 = new CubieCube().initCoord(2531, 1373, 67026819, 1367);\n\t\tCubieCube.urf2 = new CubieCube().initCoord(2089, 1906, 322752913, 2040);\n\t}\n\n\tfunction initBasic() {\n\t\t{ //init sym cubes\n\t\t\tvar c = new CubieCube();\n\t\t\tvar d = new CubieCube();\n\t\t\tvar t;\n\n\t\t\tvar f2 = new CubieCube().initCoord(28783, 0, 259268407, 0);\n\t\t\tvar u4 = new CubieCube().initCoord(15138, 0, 119765538, 7);\n\t\t\tvar lr2 = new CubieCube().initCoord(5167, 0, 83473207, 0);\n\t\t\tfor (var i = 0; i < 8; i++) {\n\t\t\t\tlr2.ca[i] |= 3 << 3;\n\t\t\t}\n\t\t\tfor (var i = 0; i < 16; i++) {\n\t\t\t\tSymCube[i] = new CubieCube().init(c.ca, c.ea);\n\t\t\t\tCubieCube.CornMultFull(c, u4, d);\n\t\t\t\tCubieCube.EdgeMult(c, u4, d);\n\t\t\t\tc.init(d.ca, d.ea);\n\t\t\t\tif (i % 4 == 3) {\n\t\t\t\t\tCubieCube.CornMultFull(c, lr2, d);\n\t\t\t\t\tCubieCube.EdgeMult(c, lr2, d);\n\t\t\t\t\tc.init(d.ca, d.ea);\n\t\t\t\t}\n\t\t\t\tif (i % 8 == 7) {\n\t\t\t\t\tCubieCube.CornMultFull(c, f2, d);\n\t\t\t\t\tCubieCube.EdgeMult(c, f2, d);\n\t\t\t\t\tc.init(d.ca, d.ea);\n\t\t\t\t}\n\t\t\t}\n\t\t} { // gen sym tables\n\n\n\t\t\tfor (var i = 0; i < 16; i++) {\n\t\t\t\tSymMult[i] = [];\n\t\t\t\tSymMultInv[i] = [];\n\t\t\t\tSymMove[i] = [];\n\t\t\t\tSym8Move[i] = [];\n\t\t\t\tSymMoveUD[i] = [];\n\t\t\t}\n\t\t\tfor (var i = 0; i < 16; i++) {\n\t\t\t\tfor (var j = 0; j < 16; j++) {\n\t\t\t\t\tSymMult[i][j] = i ^ j ^ (0x14ab4 >> j & i << 1 & 2); // SymMult[i][j] = (i ^ j ^ (0x14ab4 >> j & i << 1 & 2)));\n\t\t\t\t\tSymMultInv[SymMult[i][j]][j] = i;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar c = new CubieCube();\n\t\t\tfor (var s = 0; s < 16; s++) {\n\t\t\t\tfor (var j = 0; j < 18; j++) {\n\t\t\t\t\tCubieCube.CornConjugate(moveCube[j], SymMultInv[0][s], c);\n\t\t\t\t\toutloop: for (var m = 0; m < 18; m++) {\n\t\t\t\t\t\tfor (var t = 0; t < 8; t++) {\n\t\t\t\t\t\t\tif (moveCube[m].ca[t] != c.ca[t]) {\n\t\t\t\t\t\t\t\tcontinue outloop;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tSymMove[s][j] = m;\n\t\t\t\t\t\tSymMoveUD[s][std2ud[j]] = std2ud[m];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif (s % 2 == 0) {\n\t\t\t\t\t\tSym8Move[j << 3 | s >> 1] = SymMove[s][j];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} { // init sym 2 raw tables\n\t\t\tfunction initSym2Raw(N_RAW, Sym2Raw, Raw2Sym, SymState, coord, setFunc, getFunc) {\n\t\t\t\tvar N_RAW_HALF = (N_RAW + 1) >> 1;\n\t\t\t\tvar c = new CubieCube();\n\t\t\t\tvar d = new CubieCube();\n\t\t\t\tvar count = 0;\n\t\t\t\tvar sym_inc = coord >= 2 ? 1 : 2;\n\t\t\t\tvar conjFunc = coord != 1 ? CubieCube.EdgeConjugate : CubieCube.CornConjugate;\n\n\t\t\t\tfor (var i = 0; i < N_RAW; i++) {\n\t\t\t\t\tif (Raw2Sym[i] !== undefined) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tsetFunc.call(c, i);\n\t\t\t\t\tfor (var s = 0; s < 16; s += sym_inc) {\n\t\t\t\t\t\tconjFunc(c, s, d);\n\t\t\t\t\t\tvar idx = getFunc.call(d);\n\t\t\t\t\t\tif (USE_TWIST_FLIP_PRUN && coord == 0) {\n\t\t\t\t\t\t\tFlipS2RF[count << 3 | s >> 1] = idx;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (idx == i) {\n\t\t\t\t\t\t\tSymState[count] |= 1 << (s / sym_inc);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tRaw2Sym[idx] = (count << 4 | s) / sym_inc;\n\t\t\t\t\t}\n\t\t\t\t\tSym2Raw[count++] = i;\n\t\t\t\t}\n\t\t\t\treturn count;\n\t\t\t}\n\n\t\t\tinitSym2Raw(N_FLIP, FlipS2R, FlipR2S, SymStateFlip, 0, CubieCube.prototype.setFlip, CubieCube.prototype.getFlip);\n\t\t\tinitSym2Raw(N_TWIST, TwistS2R, TwistR2S, SymStateTwist, 1, CubieCube.prototype.setTwist, CubieCube.prototype.getTwist);\n\t\t\tinitSym2Raw(N_PERM, EPermS2R, EPermR2S, SymStatePerm, 2, CubieCube.prototype.setEPerm, CubieCube.prototype.getEPerm);\n\t\t\tvar cc = new CubieCube();\n\t\t\tfor (var i = 0; i < N_PERM_SYM; i++) {\n\t\t\t\tsetNPerm(cc.ea, EPermS2R[i], 8, true);\n\t\t\t\tPerm2CombP[i] = getComb(cc.ea, 0, true) + (USE_COMBP_PRUN ? getNParity(EPermS2R[i], 8) * 70 : 0);\n\t\t\t\tc.invFrom(cc);\n\t\t\t\tPermInvEdgeSym[i] = EPermR2S[c.getEPerm()];\n\t\t\t}\n\t\t} { // init coord tables\n\n\t\t\tvar c = new CubieCube();\n\t\t\tvar d = new CubieCube();\n\n\t\t\tfunction initSymMoveTable(moveTable, SymS2R, N_SIZE, N_MOVES, setFunc, getFunc, multFunc, ud2std) {\n\t\t\t\tfor (var i = 0; i < N_SIZE; i++) {\n\t\t\t\t\tmoveTable[i] = [];\n\t\t\t\t\tsetFunc.call(c, SymS2R[i]);\n\t\t\t\t\tfor (var j = 0; j < N_MOVES; j++) {\n\t\t\t\t\t\tmultFunc(c, moveCube[ud2std ? ud2std[j] : j], d);\n\t\t\t\t\t\tmoveTable[i][j] = getFunc.call(d);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tinitSymMoveTable(FlipMove, FlipS2R, N_FLIP_SYM, N_MOVES,\n\t\t\t\tCubieCube.prototype.setFlip, CubieCube.prototype.getFlipSym, CubieCube.EdgeMult);\n\t\t\tinitSymMoveTable(TwistMove, TwistS2R, N_TWIST_SYM, N_MOVES,\n\t\t\t\tCubieCube.prototype.setTwist, CubieCube.prototype.getTwistSym, CubieCube.CornMult);\n\t\t\tinitSymMoveTable(EPermMove, EPermS2R, N_PERM_SYM, N_MOVES2,\n\t\t\t\tCubieCube.prototype.setEPerm, CubieCube.prototype.getEPermSym, CubieCube.EdgeMult, ud2std);\n\t\t\tinitSymMoveTable(CPermMove, EPermS2R, N_PERM_SYM, N_MOVES2,\n\t\t\t\tCubieCube.prototype.setCPerm, CubieCube.prototype.getCPermSym, CubieCube.CornMult, ud2std);\n\n\t\t\tfor (var i = 0; i < N_SLICE; i++) {\n\t\t\t\tUDSliceMove[i] = [];\n\t\t\t\tUDSliceConj[i] = [];\n\t\t\t\tc.setUDSlice(i);\n\t\t\t\tfor (var j = 0; j < N_MOVES; j++) {\n\t\t\t\t\tCubieCube.EdgeMult(c, moveCube[j], d);\n\t\t\t\t\tUDSliceMove[i][j] = d.getUDSlice();\n\t\t\t\t}\n\t\t\t\tfor (var j = 0; j < 16; j += 2) {\n\t\t\t\t\tCubieCube.EdgeConjugate(c, SymMultInv[0][j], d);\n\t\t\t\t\tUDSliceConj[i][j >> 1] = d.getUDSlice();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (var i = 0; i < N_MPERM; i++) {\n\t\t\t\tMPermMove[i] = [];\n\t\t\t\tMPermConj[i] = [];\n\t\t\t\tc.setMPerm(i);\n\t\t\t\tfor (var j = 0; j < N_MOVES2; j++) {\n\t\t\t\t\tCubieCube.EdgeMult(c, moveCube[ud2std[j]], d);\n\t\t\t\t\tMPermMove[i][j] = d.getMPerm();\n\t\t\t\t}\n\t\t\t\tfor (var j = 0; j < 16; j++) {\n\t\t\t\t\tCubieCube.EdgeConjugate(c, SymMultInv[0][j], d);\n\t\t\t\t\tMPermConj[i][j] = d.getMPerm();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (var i = 0; i < N_COMB; i++) {\n\t\t\t\tCCombPMove[i] = [];\n\t\t\t\tCCombPConj[i] = [];\n\t\t\t\tc.setCComb(i % 70);\n\t\t\t\tfor (var j = 0; j < N_MOVES2; j++) {\n\t\t\t\t\tCubieCube.CornMult(c, moveCube[ud2std[j]], d);\n\t\t\t\t\tCCombPMove[i][j] = d.getCComb() + 70 * ((P2_PARITY_MOVE >> j & 1) ^ ~~(i / 70));\n\t\t\t\t}\n\t\t\t\tfor (var j = 0; j < 16; j++) {\n\t\t\t\t\tCubieCube.CornConjugate(c, SymMultInv[0][j], d);\n\t\t\t\t\tCCombPConj[i][j] = d.getCComb() + 70 * ~~(i / 70);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t//init pruning tables\n\tvar InitPrunProgress = -1;\n\n\tfunction initRawSymPrun(PrunTable, N_RAW, N_SYM, RawMove, RawConj, SymMove, SymState, PrunFlag) {\n\t\tvar SYM_SHIFT = PrunFlag & 0xf;\n\t\tvar SYM_E2C_MAGIC = ((PrunFlag >> 4) & 1) == 1 ? 0x00DDDD00 : 0x00000000;\n\t\tvar IS_PHASE2 = ((PrunFlag >> 5) & 1) == 1;\n\t\tvar INV_DEPTH = PrunFlag >> 8 & 0xf;\n\t\tvar MAX_DEPTH = PrunFlag >> 12 & 0xf;\n\t\tvar MIN_DEPTH = PrunFlag >> 16 & 0xf;\n\n\t\tvar SYM_MASK = (1 << SYM_SHIFT) - 1;\n\t\tvar ISTFP = RawMove == null;\n\t\tvar N_SIZE = N_RAW * N_SYM;\n\t\tvar N_MOVES = IS_PHASE2 ? 10 : 18;\n\t\tvar NEXT_AXIS_MAGIC = N_MOVES == 10 ? 0x42 : 0x92492;\n\n\t\tvar depth = getPruning(PrunTable, N_SIZE) - 1;\n\n\t\tif (depth == -1) {\n\t\t\tfor (var i = 0; i < (N_SIZE >> 3) + 1; i++) {\n\t\t\t\tPrunTable[i] = 0xffffffff;\n\t\t\t}\n\t\t\tsetPruning(PrunTable, 0, 0 ^ 0xf);\n\t\t\tdepth = 0;\n\t\t} else {\n\t\t\tsetPruning(PrunTable, N_SIZE, 0xf ^ (depth + 1));\n\t\t}\n\n\t\tvar SEARCH_DEPTH = PARTIAL_INIT_LEVEL > 0 ?\n\t\t\tMath.min(Math.max(depth + 1, MIN_DEPTH), MAX_DEPTH) : MAX_DEPTH;\n\n\t\twhile (depth < SEARCH_DEPTH) {\n\t\t\tvar inv = depth > INV_DEPTH;\n\t\t\tvar select = inv ? 0xf : depth;\n\t\t\tvar selArrMask = select * 0x11111111;\n\t\t\tvar check = inv ? depth : 0xf;\n\t\t\tdepth++;\n\t\t\tInitPrunProgress++;\n\t\t\tvar xorVal = depth ^ 0xf;\n\t\t\tvar done = 0;\n\t\t\tvar val = 0;\n\t\t\tfor (var i = 0; i < N_SIZE; i++, val >>= 4) {\n\t\t\t\tif ((i & 7) == 0) {\n\t\t\t\t\tval = PrunTable[i >> 3];\n\t\t\t\t\tif (!hasZero(val ^ selArrMask)) {\n\t\t\t\t\t\ti += 7;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif ((val & 0xf) != select) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tvar raw = i % N_RAW;\n\t\t\t\tvar sym = ~~(i / N_RAW);\n\t\t\t\tvar flip = 0,\n\t\t\t\t\tfsym = 0;\n\t\t\t\tif (ISTFP) {\n\t\t\t\t\tflip = FlipR2S[raw];\n\t\t\t\t\tfsym = flip & 7;\n\t\t\t\t\tflip >>= 3;\n\t\t\t\t}\n\n\t\t\t\tfor (var m = 0; m < N_MOVES; m++) {\n\t\t\t\t\tvar symx = SymMove[sym][m];\n\t\t\t\t\tvar rawx;\n\t\t\t\t\tif (ISTFP) {\n\t\t\t\t\t\trawx = FlipS2RF[\n\t\t\t\t\t\t\tFlipMove[flip][Sym8Move[m << 3 | fsym]] ^\n\t\t\t\t\t\t\tfsym ^ (symx & SYM_MASK)];\n\t\t\t\t\t} else {\n\t\t\t\t\t\trawx = RawConj[RawMove[raw][m]][symx & SYM_MASK];\n\t\t\t\t\t}\n\t\t\t\t\tsymx >>= SYM_SHIFT;\n\t\t\t\t\tvar idx = symx * N_RAW + rawx;\n\t\t\t\t\tvar prun = getPruning(PrunTable, idx);\n\t\t\t\t\tif (prun != check) {\n\t\t\t\t\t\tif (prun < depth - 1) {\n\t\t\t\t\t\t\tm += NEXT_AXIS_MAGIC >> m & 3;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tdone++;\n\t\t\t\t\tif (inv) {\n\t\t\t\t\t\tsetPruning(PrunTable, i, xorVal);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tsetPruning(PrunTable, idx, xorVal);\n\t\t\t\t\tfor (var j = 1, symState = SymState[symx];\n\t\t\t\t\t\t(symState >>= 1) != 0; j++) {\n\t\t\t\t\t\tif ((symState & 1) != 1) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar idxx = symx * N_RAW;\n\t\t\t\t\t\tif (ISTFP) {\n\t\t\t\t\t\t\tidxx += FlipS2RF[FlipR2S[rawx] ^ j];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tidxx += RawConj[rawx][j ^ (SYM_E2C_MAGIC >> (j << 1) & 3)];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (getPruning(PrunTable, idxx) == check) {\n\t\t\t\t\t\t\tsetPruning(PrunTable, idxx, xorVal);\n\t\t\t\t\t\t\tdone++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// console.log(depth, done, InitPrunProgress);\n\t\t}\n\t\tsetPruning(PrunTable, N_SIZE, (depth + 1) ^ 0xf);\n\t\treturn depth + 1;\n\t}\n\n\tfunction doInitPrunTables(targetProgress) {\n\t\tif (USE_TWIST_FLIP_PRUN) {\n\t\t\tTwistFlipPrunMax = initRawSymPrun(\n\t\t\t\tTwistFlipPrun, 2048, 324,\n\t\t\t\tnull, null,\n\t\t\t\tTwistMove, SymStateTwist, 0x19603\n\t\t\t);\n\t\t}\n\t\tif (InitPrunProgress > targetProgress) {\n\t\t\treturn;\n\t\t}\n\t\tUDSliceTwistPrunMax = initRawSymPrun(\n\t\t\tUDSliceTwistPrun, 495, 324,\n\t\t\tUDSliceMove, UDSliceConj,\n\t\t\tTwistMove, SymStateTwist, 0x69603\n\t\t);\n\t\tif (InitPrunProgress > targetProgress) {\n\t\t\treturn;\n\t\t}\n\t\tUDSliceFlipPrunMax = initRawSymPrun(\n\t\t\tUDSliceFlipPrun, 495, 336,\n\t\t\tUDSliceMove, UDSliceConj,\n\t\t\tFlipMove, SymStateFlip, 0x69603\n\t\t);\n\t\tif (InitPrunProgress > targetProgress) {\n\t\t\treturn;\n\t\t}\n\t\tMCPermPrunMax = initRawSymPrun(\n\t\t\tMCPermPrun, 24, 2768,\n\t\t\tMPermMove, MPermConj,\n\t\t\tCPermMove, SymStatePerm, 0x8ea34\n\t\t);\n\t\tif (InitPrunProgress > targetProgress) {\n\t\t\treturn;\n\t\t}\n\t\tEPermCCombPPrunMax = initRawSymPrun(\n\t\t\tEPermCCombPPrun, N_COMB, 2768,\n\t\t\tCCombPMove, CCombPConj,\n\t\t\tEPermMove, SymStatePerm, 0x7d824\n\t\t);\n\t}\n\n\tfunction initPrunTables() {\n\t\tif (InitPrunProgress < 0) {\n\t\t\tinitBasic();\n\t\t\tInitPrunProgress = 0;\n\t\t}\n\t\tif (InitPrunProgress == 0) {\n\t\t\tdoInitPrunTables(99);\n\t\t} else if (InitPrunProgress < 54) {\n\t\t\tdoInitPrunTables(InitPrunProgress);\n\t\t} else {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tfunction randomCube() {\n\t\tvar ep, cp;\n\t\tvar eo = ~~(Math.random() * 2048);\n\t\tvar co = ~~(Math.random() * 2187);\n\t\tdo {\n\t\t\tep = ~~(Math.random() * fact[12]);\n\t\t\tcp = ~~(Math.random() * fact[8]);\n\t\t} while (getNParity(cp, 8) != getNParity(ep, 12));\n\t\tvar cc = new CubieCube().initCoord(cp, co, ep, eo);\n\t\treturn cc.toFaceCube();\n\t}\n\n\tfunction fromScramble(s) {\n\t\tvar j = 0;\n\t\tvar axis = -1;\n\t\tvar c1 = new CubieCube();\n\t\tvar c2 = new CubieCube();\n\t\tfor (var i = 0; i < s.length; i++) {\n\t\t\tswitch (s[i]) {\n\t\t\t\tcase 'U':\n\t\t\t\tcase 'R':\n\t\t\t\tcase 'F':\n\t\t\t\tcase 'D':\n\t\t\t\tcase 'L':\n\t\t\t\tcase 'B':\n\t\t\t\t\taxis = \"URFDLB\".indexOf(s[i]) * 3;\n\t\t\t\t\tbreak;\n\t\t\t\tcase ' ':\n\t\t\t\t\tif (axis != -1) {\n\t\t\t\t\t\tCubieCube.CornMult(c1, moveCube[axis], c2);\n\t\t\t\t\t\tCubieCube.EdgeMult(c1, moveCube[axis], c2);\n\t\t\t\t\t\tc1.init(c2.ca, c2.ea);\n\t\t\t\t\t}\n\t\t\t\t\taxis = -1;\n\t\t\t\t\tbreak;\n\t\t\t\tcase '2':\n\t\t\t\t\taxis++;\n\t\t\t\t\tbreak;\n\t\t\t\tcase '\\'':\n\t\t\t\t\taxis += 2;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\t\tif (axis != -1) {\n\t\t\tCubieCube.CornMult(c1, moveCube[axis], c2);\n\t\t\tCubieCube.EdgeMult(c1, moveCube[axis], c2);\n\t\t\tc1.init(c2.ca, c2.ea);\n\t\t}\n\t\treturn c2.toFaceCube();\n\t}\n\n\treturn {\n\t\tSearch: Search,\n\t\tsolve: function(facelet) {\n\t\t\treturn new Search().solution(facelet);\n\t\t},\n\t\trandomCube: randomCube,\n\t\tfromScramble: fromScramble,\n\t\tinitFull: function() {\n\t\t\tPARTIAL_INIT_LEVEL = 0;\n\t\t\tinitPrunTables();\n\t\t}\n\t}\n})();\n\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\n\tmodule.exports = min2phase;\n}","const timeLib = (function () {\n    const format = (time) => {\n        const date = new Date(time * 1000)\n        let minute = ''\n        let second = ''\n        let millis = ''\n        if (date.getMinutes() !== 0) {\n            minute = `${date.getMinutes()}:`\n        }\n        if (date.getMinutes() !== 0) {\n            second = `${('0' + date.getSeconds()).slice(-2)}.`\n        } else {\n            second = `${date.getSeconds()}.`\n        }\n        millis = `${('00' + date.getMilliseconds()).slice(-3)}`\n\n        return minute + second + millis\n    }\n    return {\n        format: format\n    }\n})();\n\nmodule.exports = timeLib","const inverse = (function () {\n    const faceNames = {\n        0: 'U',\n        1: 'R',\n        2: 'F',\n        3: 'D',\n        4: 'L',\n        5: 'B',\n        6: 'E',\n        7: 'M',\n        8: 'S',\n        9: 'x',\n        10: 'y',\n        11: 'z',\n        12: 'u',\n        13: 'r',\n        14: 'f',\n        15: 'd',\n        16: 'l',\n        17: 'b'\n    };\n\n    const faceNums = {\n        U: 0,\n        R: 1,\n        F: 2,\n        D: 3,\n        L: 4,\n        B: 5,\n        E: 6,\n        M: 7,\n        S: 8,\n        x: 9,\n        y: 10,\n        z: 11,\n        u: 12,\n        r: 13,\n        f: 14,\n        d: 15,\n        l: 16,\n        b: 17\n    };\n\n    const inverse = (arg) => {\n        var face, k, len, move, power, result, str;\n        result = (function() {\n            var k, len, ref, results;\n            ref = parseAlg(arg);\n            results = [];\n            for (k = 0, len = ref.length; k < len; k++) {\n                move = ref[k];\n                face = move / 3 | 0;\n                power = move % 3;\n                results.push(face * 3 + -(power - 1) + 1);\n            }\n            return results;\n        })();\n        result.reverse();\n        if (typeof arg === 'string') {\n            str = '';\n            for (k = 0, len = result.length; k < len; k++) {\n                move = result[k];\n                face = move / 3 | 0;\n                power = move % 3;\n                str += faceNames[face];\n                if (power === 1) {\n                    str += '2';\n                } else if (power === 2) {\n                    str += \"'\";\n                }\n                str += ' ';\n            }\n            return str.substring(0, str.length - 1);\n        } else if (arg.length != null) {\n            return result;\n        } else {\n            return result[0];\n        }\n    }\n\n    const parseAlg = (arg) => {\n        var k, len, move, part, power, ref, results;\n        if (typeof arg === 'string') {\n            ref = arg.split(/\\s+/);\n            // String\n            results = [];\n            for (k = 0, len = ref.length; k < len; k++) {\n                part = ref[k];\n                if (part.length === 0) {\n                    // First and last can be empty\n                    continue;\n                }\n                if (part.length > 2) {\n                    throw new Error(`Invalid move: ${part}`);\n                }\n                move = faceNums[part[0]];\n                if (move === void 0) {\n                    throw new Error(`Invalid move: ${part}`);\n                }\n                if (part.length === 1) {\n                    power = 0;\n                } else {\n                    if (part[1] === '2') {\n                        power = 1;\n                    } else if (part[1] === \"'\") {\n                        power = 2;\n                    } else {\n                        throw new Error(`Invalid move: ${part}`);\n                    }\n                }\n                results.push(move * 3 + power);\n            }\n            return results;\n        } else if (arg.length != null) {\n            // Already an array\n            return arg;\n        } else {\n            // A single move\n            return [arg];\n        }\n    }\n\n    return {\n        inverse: inverse\n    }\n})();\n\nmodule.exports = inverse","const scrambleLib = (function () {\n    const makeShortScramble = (len) => {\n        const faceList = [\"U\", \"R\", \"F\", \"D\", \"L\", \"B\"];\n        const turnList = [\"\", \"'\", \"2\"];\n        const scrambleList = [];\n        while (scrambleList.length < len) {\n            const face = faceList[Math.floor(Math.random() * faceList.length)];\n            const turn = turnList[Math.floor(Math.random() * turnList.length)];\n            if (scrambleList.length >= 1) {\n                if (face === scrambleList[scrambleList.length - 1].face) {\n                    continue;\n                }\n            }\n            if (scrambleList.length >= 2) {\n                if (face === scrambleList[scrambleList.length - 2].face && (\n                    (face === \"U\" && scrambleList[scrambleList.length - 1].face === \"D\") ||\n                    (face === \"D\" && scrambleList[scrambleList.length - 1].face === \"U\") ||\n                    (face === \"R\" && scrambleList[scrambleList.length - 1].face === \"L\") ||\n                    (face === \"L\" && scrambleList[scrambleList.length - 1].face === \"R\") ||\n                    (face === \"F\" && scrambleList[scrambleList.length - 1].face === \"B\") ||\n                    (face === \"B\" && scrambleList[scrambleList.length - 1].face === \"F\")\n                )) {\n                    continue;\n                }\n            }\n            scrambleList.push({\n                face: face,\n                turn: turn\n            });\n        }\n        let scrambleText = \"\";\n        scrambleList.forEach((value) => {\n            scrambleText += value.face + value.turn + \" \";\n        });\n        scrambleText = scrambleText.trim();\n        return scrambleText;\n    };\n\n    const makeCorrectScramble = (scr1, scr2) => {\n        const scr1ListTmp = scr1.split(\" \");\n        let scr1List = [];\n        scr1ListTmp.forEach((item) => {\n            const itemTmp = item.split(\"\");\n            if (itemTmp.length === 1) {\n                itemTmp.push(\"\");\n            }\n            scr1List.push(itemTmp);\n        });\n        const scr2ListTmp = scr2.split(\" \");\n        let scr2List = [];\n        scr2ListTmp.forEach((item) => {\n            const itemTmp = item.split(\"\");\n            if (itemTmp.length === 1) {\n                itemTmp.push(\"\");\n            }\n            scr2List.push(itemTmp);\n        });\n        const scr1ListRes = scr1List.slice();\n        const scr2ListRes = scr2List.slice();\n        let flag = true;\n        let count = 0;\n        while(flag) {\n            if (scr1List[scr1List.length - (count + 1)][0] !== scr2List[count][0]) {\n                flag = false;\n            } else {\n                if ((scr1List[scr1List.length - (count + 1)][1] === \"\" && scr2List[count][1] === \"'\")\n                    || (scr1List[scr1List.length - (count + 1)][1] === \"'\" && scr2List[count][1] === \"\")\n                    || (scr1List[scr1List.length - (count + 1)][1] === \"2\" && scr2List[count][1] === \"2\")) {\n                    scr1ListRes.pop();\n                    scr2ListRes.shift();\n                    count++;\n                } else if ((scr1List[scr1List.length - (count + 1)][1] === \"'\" && scr2List[count][1] === \"2\")\n                    || (scr1List[scr1List.length - (count + 1)][1] === \"2\" && scr2List[count][1] === \"'\")) {\n                    scr1ListRes[scr1ListRes.length - (count + 1)][1] = \"\";\n                    scr2ListRes.shift();\n                    flag = false;\n                } else if ((scr1List[scr1List.length - (count + 1)][1] === \"\" && scr2List[count][1] === \"\")\n                    || (scr1List[scr1List.length - (count + 1)][1] === \"2\" && scr2List[count][1] === \"\")) {\n                    scr1ListRes[scr1ListRes.length - (count + 1)][1] = \"'\";\n                    scr2ListRes.shift();\n                    flag = false;\n                } else if ((scr1List[scr1List.length - (count + 1)][1] === \"\" && scr2List[count][1] === \"\")\n                    || (scr1List[scr1List.length - (count + 1)][1] === \"'\" && scr2List[count][1] === \"'\")) {\n                    scr1ListRes[scr1ListRes.length - (count + 1)][1] = \"2\";\n                    scr2ListRes.shift();\n                    flag = false;\n                }\n            }\n        }\n        const scrList = scr1ListRes.concat(scr2ListRes);\n        let scrStr = \"\";\n        scrList.forEach((item) => {\n            scrStr += item[0] + item[1] + \" \";\n        });\n        return scrStr\n    };\n\n    return {\n        makeShortScramble: makeShortScramble,\n        makeCorrectScramble: makeCorrectScramble\n    }\n})();\n\nmodule.exports = scrambleLib","import React from \"react\";\nimport {AppBar, Button, makeStyles, Toolbar, Typography} from \"@material-ui/core\";\nimport Box from \"@material-ui/core/Box\";\n\nconst About = (props) => {\n    const useStyles = makeStyles((theme) => ({\n        container: {\n            margin: '40px auto',\n            padding: '20px',\n            maxWidth: '500px'\n        },\n        link: {\n            margin: '20px 0'\n        }\n    }))\n    const classes = useStyles()\n\n    return (\n        <div>\n            <AppBar position={\"relative\"}>\n                <Toolbar>\n                    <Typography>詰めキューブ</Typography>\n                </Toolbar>\n            </AppBar>\n            <Box className={classes.container} maxWidth={\"xs\"} display={\"flex\"} flexDirection={\"column\"}>\n                <Box display={\"flex\"} justifyContent={\"center\"}>\n                    <Typography variant='h3'>遊び方</Typography>\n                </Box>\n                <Box className={classes.link} display={\"flex\"} justifyContent={\"center\"}>\n                    <Typography variant='body1'>\n                        詰めキューブとは、あと数手で解けるスクランブルを最少の手数で解くスピード競技です<br/>\n                        <br/>\n                        ホーム画面でスタートボタンを押すとゲームが開始します<br/>\n                        <br/>\n                        スクランブルが表示されるのでその最短解法を探し出して入力し、回答ボタンを押してください<br/>\n                        <br/>\n                        正解するとかかった時間が記録され、記録一覧画面で見ることができます<br/>\n                    </Typography>\n                </Box>\n                <Box className={classes.link} display={\"flex\"} justifyContent={\"center\"}>\n                    <Button variant='contained' onClick={() => props.history.push('/')}>\n                        戻る\n                    </Button>\n                </Box>\n            </Box>\n        </div>\n    )\n}\n\nexport default About","import React from \"react\";\nimport {Button, makeStyles} from \"@material-ui/core\";\n\nconst MyButton = (props) => {\n    const useStyles = makeStyles((theme) => ({\n        content: {\n            margin: theme.spacing(1),\n            width: props.width,\n            height: '30px'\n        }\n    }))\n    const classes = useStyles()\n\n    return (\n        <Button\n            className={classes.content}\n            onClick={props.onClick}\n            variant={\"contained\"}\n            color={\"primary\"}\n        >{props.children}</Button>\n    )\n}\n\nexport default MyButton","import React from \"react\";\nimport {Button, makeStyles} from \"@material-ui/core\";\n\nconst NotationButton = (props) => {\n    const useStyles = makeStyles((theme) => ({\n        content: {\n            margin: theme.spacing(1),\n            height: '30px'\n        }\n    }))\n    const classes = useStyles()\n\n    return (\n        <Button\n            className={classes.content}\n            onClick={props.onClick}\n            variant={\"contained\"}\n            color={\"default\"}\n        >{props.children}</Button>\n    )\n}\n\nexport default NotationButton","import React from \"react\";\nimport {makeStyles, Typography} from \"@material-ui/core\";\n\nconst ErrorDisplay = (props) => {\n    const useStyles = makeStyles((theme) => ({\n        error: {\n            color: \"red\"\n        }\n    }))\n    const classes = useStyles()\n\n    if (props.message === null) {\n        return null\n    }\n\n    return (\n        <Typography className={classes.error}>\n            {props.message}\n        </Typography>\n    )\n}\n\nexport default ErrorDisplay","import React, {useEffect, useRef, useState} from \"react\";\nimport min2phase from './lib/min2phase';\nimport moment from \"moment\";\nimport scrambleLib from './lib/scramble'\nimport timeLib from './lib/time'\nimport inverse from './lib/inverse'\nimport {TwitterShareButton, TwitterIcon} from 'react-share';\nimport {\n    AppBar,\n    Button,\n    Dialog, DialogActions,\n    DialogContent,\n    DialogContentText,\n    DialogTitle,\n    makeStyles, Toolbar,\n    Typography\n} from \"@material-ui/core\";\nimport Box from \"@material-ui/core/Box\";\nimport MyButton from \"./component/MyButton\";\nimport NotationButton from \"./component/NotationButton\";\nimport ErrorDisplay from \"./component/ErrorDisplay\";\n\nfunction Game(props) {\n    const useStyles = makeStyles((theme) => ({\n        container: {\n            margin: '0 auto',\n            padding: '20px',\n            maxWidth: '500px'\n        },\n        inputContent: {\n            backgroundColor: \"lightgray\"\n        },\n        display: {\n            margin: '15px 0'\n        },\n        errorDisplay: {\n            margin: '10px 0',\n            height: '20px'\n        }\n    }))\n    const classes = useStyles()\n    const notationList = [\n        [\"U\", \"U'\", \"U2\"],\n        [\"D\", \"D'\", \"D2\"],\n        [\"R\", \"R'\", \"R2\"],\n        [\"L\", \"L'\", \"L2\"],\n        [\"F\", \"F'\", \"F2\"],\n        [\"B\", \"B'\", \"B2\"]\n    ]\n    const moveCount = props.location.state ? Number(props.location.state.moveCount) : 5\n\n    const intervalRef = useRef(null);\n    const [time, setTime] = useState(0);\n    const [realTime, setRealTime] = useState(0);\n    const [startDateTime, setStartDateTime] = useState(0);\n    const [shortScramble, setShortScramble] = useState('');\n    const [scramble, setScramble] = useState('');\n    const [mySolution, setMySolution] = useState([]);\n    const [mySolutionStr, setMySolutionStr] = useState('');\n    const [isCorrect, setIsCorrect] = useState(false);\n    const [incorrectMessage, setIncorrectMessage] = useState(null)\n    const [storageData, setStorageData] = useState({\n        '5': [],\n        '6': [],\n        '7': []\n    })\n    const [giveUp, setGiveUp] = useState(false)\n\n    useEffect(() => {\n        if (localStorage.storageData) {\n            const data = JSON.parse(localStorage.storageData)\n            setStorageData(data)\n        }\n        startGame()\n        return () => {\n            stopTimer()\n        }\n    }, [])\n\n    const makeScramble = () => {\n        const shortScramble = scrambleLib.makeShortScramble(moveCount);\n        setShortScramble(shortScramble)\n        const redundantSolution = shortScramble + \" B' D' L' F' U' R' B' D' L' F' U' R'\";\n        const scr1 = inverse.inverse(min2phase.solve(min2phase.fromScramble(redundantSolution)));\n        const scr2 = \"R U F L D B R U F L D B\";\n        const redundantScramble = scrambleLib.makeCorrectScramble(scr1, scr2);\n        setScramble(redundantScramble);\n    };\n\n    const startGame = () => {\n        setTime(0)\n        setRealTime(0)\n        setStartDateTime(0)\n        setMySolution([])\n        setMySolutionStr('')\n        setIsCorrect(false)\n        setGiveUp(false)\n        makeScramble();\n        startTimer()\n    }\n\n    const startTimer = () => {\n        if (intervalRef.current !== null) return;\n        setStartDateTime(new Date().getTime())\n        intervalRef.current = setInterval(() => {\n            setTime(c => c + 1);\n        }, 1000);\n    };\n\n    const stopTimer = () => {\n        if (intervalRef.current === null) return;\n        clearInterval(intervalRef.current);\n        intervalRef.current = null;\n    };\n\n    const addMove = (move) => {\n        const tmpSolution = mySolution;\n        tmpSolution.push(move);\n        setMySolution(tmpSolution);\n        setMySolutionStr(solutionListToString(tmpSolution))\n    };\n\n    const removeMove = () => {\n        const tmpSolution = mySolution;\n        if (tmpSolution.length !== 0) {\n            tmpSolution.pop();\n        }\n        setMySolution(tmpSolution);\n        setMySolutionStr(solutionListToString(tmpSolution))\n    };\n\n    const judgeSolution = () => {\n        if (min2phase.solve(min2phase.fromScramble(inverse.inverse(shortScramble)))\n            === min2phase.solve(min2phase.fromScramble(mySolutionStr))) {\n            stopTimer();\n            const realTimeTmp = (new Date().getTime() - startDateTime) / 1000\n            const storageDataTmp = {...storageData}\n            storageDataTmp[moveCount.toString()].push(realTimeTmp)\n            localStorage.setItem('storageData', JSON.stringify(storageDataTmp))\n            setIsCorrect(true);\n            setRealTime(realTimeTmp)\n            setStorageData(storageDataTmp)\n        } else {\n            setIncorrectMessage('不正解!')\n            setTimeout(() => {\n                setIncorrectMessage(null)\n            }, 3000)\n        }\n    };\n\n    const solutionListToString = (solutionList) => {\n        let tmpSolutionStr = \"\";\n        solutionList.forEach((value) => {\n            tmpSolutionStr += value + \" \";\n        });\n        return tmpSolutionStr;\n    }\n\n    const giveUpGame = () => {\n        stopTimer()\n        setGiveUp(true)\n    }\n\n    return (\n        <div>\n            <AppBar position={\"relative\"}>\n                <Toolbar>\n                    <Typography>詰めキューブ</Typography>\n                </Toolbar>\n            </AppBar>\n            <Box className={classes.container} maxWidth={\"xs\"} display={\"flex\"} flexDirection={\"column\"}>\n                <Box display={\"flex\"} justifyContent={\"space-between\"}>\n                    <Button variant='contained' onClick={() => props.history.push('/')}>\n                        戻る\n                    </Button>\n                    <Typography variant='h5'>{moment(time * 1000).format('mm:ss')}</Typography>\n                </Box>\n                <Box display={\"flex\"} justifyContent={\"center\"}>\n                    <Typography>{moveCount}手スクランブル</Typography>\n                </Box>\n                <Box display={\"flex\"} justifyContent={\"center\"}>\n                    <Typography className={classes.display}>{scramble}</Typography>\n                </Box>\n                <Box display={\"flex\"} justifyContent={\"center\"}>\n                    <MyButton width='200px' onClick={giveUpGame}>降参して答えを見る</MyButton>\n                </Box>\n                {/*<Box display={\"flex\"} justifyContent={\"center\"}>*/}\n                {/*    <Typography>Correct solution is {inverse.inverse(shortScramble)}</Typography>*/}\n                {/*</Box>*/}\n                <Box display={\"flex\"} justifyContent={\"center\"} className={classes.inputContent}>\n                    <Typography>自分の回答: {mySolutionStr}</Typography>\n                </Box>\n                <Box className={classes.errorDisplay} display={\"flex\"} justifyContent={\"center\"}>\n                    <ErrorDisplay message={incorrectMessage}/>&nbsp;\n                </Box>\n                <Box display={\"flex\"} justifyContent={\"center\"}>\n                    <MyButton width='120px' onClick={judgeSolution}>回答する</MyButton>\n                    <MyButton width='120px' onClick={removeMove}>1文字削除</MyButton>\n                </Box>\n                {notationList.map((oneNotationList, i) =>\n                    <Box display={\"flex\"} justifyContent={\"center\"} key={i + 1}>\n                        {oneNotationList.map((notation, j) =>\n                            <NotationButton onClick={() => addMove(notation)} key={(i + 1) * 10 + j}>\n                                {notation}\n                            </NotationButton>\n                        )}\n                    </Box>\n                )}\n            </Box>\n            <Dialog open={isCorrect}>\n                <DialogTitle>正解!</DialogTitle>\n                <DialogContent>\n                    <DialogContentText align={\"center\"}>\n                        お見事!<br/>\n                        かかった時間: {timeLib.format(realTime)}<br/>\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button variant='contained' color='primary'>\n                        <TwitterShareButton\n                            url={`${moveCount}手の詰めキューブを${timeLib.format(realTime)}で解きました！https://uesyuu.github.io/tsume_cube/`}>\n                            <Typography variant='body2'>Twitterでシェア</Typography>\n                        </TwitterShareButton>\n                    </Button>\n                    <Button variant='contained' color='primary' onClick={startGame}>\n                        <Typography variant='body2'>もう一度</Typography>\n                    </Button>\n                    <Button variant='contained' color='primary' onClick={() => props.history.push('/')}>\n                        <Typography variant='body2'>ホームに戻る</Typography>\n                    </Button>\n                </DialogActions>\n            </Dialog>\n            <Dialog open={giveUp}>\n                <DialogTitle>残念!</DialogTitle>\n                <DialogContent>\n                    <DialogContentText align='center'>\n                        解法: {inverse.inverse(shortScramble)}<br/>\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button variant='contained' color='primary' onClick={startGame}>\n                        <Typography variant='body2'>もう一度</Typography>\n                    </Button>\n                    <Button variant='contained' color='primary' onClick={() => props.history.push('/')}>\n                        <Typography variant='body2'>ホームに戻る</Typography>\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n}\n\nexport default Game;\n","import React, {useState} from \"react\";\nimport {AppBar, Button, Dialog, List, ListItem, ListItemText, makeStyles, Toolbar, Typography} from \"@material-ui/core\";\nimport Box from \"@material-ui/core/Box\";\n\nconst Home = (props) => {\n    const useStyles = makeStyles((theme) => ({\n        container: {\n            margin: '40px auto',\n            padding: '20px',\n            maxWidth: '500px'\n        },\n        link: {\n            margin: '20px 0'\n        }\n    }))\n    const classes = useStyles()\n\n    const [open, setOpen] = useState(false)\n    const moveCountList = [5, 6, 7]\n\n    return (\n        <div>\n            <AppBar position={\"relative\"}>\n                <Toolbar>\n                    <Typography>詰めキューブ</Typography>\n                </Toolbar>\n            </AppBar>\n            <Box className={classes.container} maxWidth={\"xs\"} display={\"flex\"} flexDirection={\"column\"}>\n                <Box display={\"flex\"} justifyContent={\"center\"}>\n                    <Typography variant='h3'>詰めキューブ</Typography>\n                </Box>\n                <Box className={classes.link} display={\"flex\"} justifyContent={\"center\"}>\n                    <Button variant='contained' size='large' onClick={() => setOpen(true)}>\n                        スタート\n                    </Button>\n                </Box>\n                <Box className={classes.link} display={\"flex\"} justifyContent={\"center\"}>\n                    <Button variant='contained' size='large' onClick={() => props.history.push('/about')}>\n                        遊び方\n                    </Button>\n                </Box>\n                <Box className={classes.link} display={\"flex\"} justifyContent={\"center\"}>\n                    <Button variant='contained' size='large' onClick={() => props.history.push('/results')}>\n                        記録\n                    </Button>\n                </Box>\n            </Box>\n            <Dialog onClose={() => setOpen(false)} open={open}>\n                <List>\n                    {moveCountList.map((moveCount =>\n                            <ListItem button key={moveCount}\n                                      onClick={() => props.history.push({\n                                          pathname: 'game',\n                                          state: {\n                                              moveCount: moveCount\n                                          }\n                                      })}>\n                                <ListItemText primary={moveCount + \"手スクランブルに挑戦\"}/>\n                            </ListItem>\n                    ))}\n                </List>\n            </Dialog>\n        </div>\n    )\n}\n\nexport default Home","import React, {useEffect, useState} from \"react\";\nimport {\n    AppBar,\n    Button,\n    makeStyles,\n    TableBody,\n    TableCell,\n    TableContainer,\n    TableRow, Tabs,\n    Toolbar,\n    Typography\n} from \"@material-ui/core\";\nimport Box from \"@material-ui/core/Box\";\nimport Table from '@material-ui/core/Table';\nimport Tab from '@material-ui/core/Tab';\nimport timeLib from './lib/time'\n\nconst Results = (props) => {\n    const useStyles = makeStyles((theme) => ({\n        container: {\n            margin: '0 auto',\n            padding: '20px',\n            maxWidth: '500px'\n        },\n        link: {\n            margin: '20px 0'\n        }\n    }))\n    const classes = useStyles()\n\n    const [ storageData, setStorageData ] = useState({\n        '5': [],\n        '6': [],\n        '7': []\n    })\n    const [ tabValue, setTabValue] = useState(0)\n\n    useEffect(() => {\n        if(localStorage.storageData) {\n            const data = JSON.parse(localStorage.storageData)\n            setStorageData(data)\n        }\n    }, [])\n\n    const handleTabChanged = (event, newValue) => {\n        setTabValue(newValue)\n    }\n\n    return (\n        <div>\n            <AppBar position={\"relative\"}>\n                <Toolbar>\n                    <Typography>詰めキューブ</Typography>\n                </Toolbar>\n            </AppBar>\n            <Box className={classes.container} maxWidth={\"xs\"} display={\"flex\"} flexDirection={\"column\"}>\n                <Box display={\"flex\"}>\n                    <Button variant='contained' onClick={() => props.history.push('/')}>\n                        戻る\n                    </Button>\n                </Box>\n                <Box display={\"flex\"} justifyContent={\"center\"}>\n                    <Typography variant='h3'>記録</Typography>\n                </Box>\n                <Box display={\"flex\"} justifyContent={\"center\"}>\n                    <Tabs value={tabValue} onChange={handleTabChanged}>\n                        <Tab label='5手' />\n                        <Tab label='6手' />\n                        <Tab label='7手' />\n                    </Tabs>\n                </Box>\n                <Box className={classes.link} display={\"flex\"} justifyContent={\"center\"}>\n                    <TabPanel value={tabValue} index={0} storageData={storageData['5']} />\n                    <TabPanel value={tabValue} index={1} storageData={storageData['6']} />\n                    <TabPanel value={tabValue} index={2} storageData={storageData['7']} />\n                </Box>\n            </Box>\n        </div>\n    )\n}\n\nconst TabPanel = (props) => {\n    const useStyles = makeStyles((theme) => ({\n        table: {\n            width: '300px'\n        }\n    }))\n    const classes = useStyles()\n\n    return (\n        <div hidden={props.value !== props.index}>\n            <TableContainer className={classes.table}>\n                <Table>\n                    <TableBody>\n                        {props.storageData\n                            .sort((a, b) => a - b)\n                            .slice(0, 10)\n                            .map((item, index) =>\n                                <TableRow key={index}>\n                                    <TableCell align='center'>{index + 1}位</TableCell>\n                                    <TableCell align='center'>{timeLib.format(item)}</TableCell>\n                                </TableRow>\n                            )}\n                    </TableBody>\n                </Table>\n            </TableContainer>\n        </div>\n    )\n}\n\nexport default Results","import React from \"react\";\nimport {HashRouter as Router, Route} from \"react-router-dom\";\nimport About from \"./About\";\nimport Game from \"./Game\";\nimport Home from \"./Home\";\nimport Results from \"./Results\";\n\nconst App = () => {\n    return (\n        <Router>\n            <div>\n                <Route exact path='/' component={Home} />\n                <Route path='/about' component={About} />\n                <Route path='/game' component={Game} />\n                <Route path='/results' component={Results} />\n            </div>\n        </Router>\n    )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from \"./App\";\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}