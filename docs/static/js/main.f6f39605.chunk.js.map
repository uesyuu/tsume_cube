{"version":3,"sources":["About.js","lib/twophase.js","component/MyButton.js","component/NotationButton.js","component/ErrorDisplay.js","Game.js","Home.js","Results.js","App.js","index.js","lib/time.js","lib/min2phase.js","lib/inverse.js","lib/scramble.js"],"names":["i18n","use","initReactI18next","init","resources","en","translation","enJson","ja","jaJson","lng","fallbackLng","interpolation","escapeValue","About","props","classes","makeStyles","theme","container","margin","padding","maxWidth","link","useStyles","useTranslation","t","useEffect","localStorage","lang","changeLanguage","AppBar","position","Toolbar","Typography","Box","className","display","flexDirection","Button","variant","onClick","history","push","justifyContent","twophase","moveName","moveObject","restrictedMove","Cnk","twistTable","flipTable","eSliceTable","cPTable","UDEPTable","eSliceTable2","twistESlicePrun","flipESlicePrun","cPESlicePrun","UDEPESlicePrun","initialized","getTwist","obj","ret","i","co","getFlip","eo","getESlice","s","ep","getCP","tmp","flag","cp","fact","bitCount","getUDEP","getESlice2","cur","setTwist","idx","tw","setFlip","fl","setESlice","setCP","arr","splice","setUDEP","setESlice2","getCornerParity","p","getEdgeParity","initTwistTable","create2DArray","j","obj_0","ArrayCube","apply","initFlipTable","initESliceTable","initCPTable","initUDEPTable","initESliceTable2","initTwistESlicePrun","children1","children2","done","depth","Array","fill","initFlipESlicePrun","initCPESlicePrun","initUDEPESlicePrun","this","move","map","IndexCubePhase1","IndexCubePhase2","twist","flip","eslice","newTwist","newFlip","newESlice","newMove","slice","udep","eslice2","newCp","newUDEP","newESlice2","_move","indexOf","search","root","max","stack","_stack","root1","root2","_root","toIndexPhase1","Stack","nextMove","nextFace","curFace","size","pop","length","copy","toIndexPhase2","_depth","_cur","_nextMove","_nextFace","_curFace","concat","Math","getRandomState","seed","random","Random","randomInt","setEP","cancelMoves","moves","l","faceList","axisList","suffixList","newFaceList","newAxisList","newSuffixList","cancelled","swapElement","bits","n","l1","l2","x","y","z","w","floor","Date","now","abs","_random","heap","item","unshift","shift","initialize","U","F","R","D","B","L","initUtil","solve","scramble","_solution","split","solution","forEach","val","getScramble","scr","reverse","console","log","MyButton","content","spacing","width","height","color","children","NotationButton","ErrorDisplay","error","message","Game","inputContent","backgroundColor","errorDisplay","moveCount","location","state","Number","intervalRef","useRef","useState","time","setTime","realTime","setRealTime","startDateTime","setStartDateTime","shortScramble","setShortScramble","setScramble","mySolution","setMySolution","mySolutionStr","setMySolutionStr","isCorrect","setIsCorrect","incorrectMessage","setIncorrectMessage","storageData","setStorageData","giveUp","setGiveUp","data","JSON","parse","startGame","stopTimer","redundantScramble","scrambleLib","makeShortScramble","inverse","makeScramble","startTimer","current","getTime","setInterval","c","clearInterval","solutionListToString","solutionList","tmpSolutionStr","value","moment","format","setTimeout","min2phase","fromScramble","realTimeTmp","storageDataTmp","toString","setItem","stringify","tmpSolution","oneNotationList","notation","addMove","Dialog","open","DialogTitle","DialogContent","DialogContentText","align","timeLib","DialogActions","TwitterShareButton","url","Home","changeLangButton","marginBottom","setOpen","setLang","langTmp","onClose","List","ListItem","button","pathname","ListItemText","primary","TabPanel","table","hidden","index","TableContainer","Table","TableHead","TableRow","TableCell","TableBody","sort","a","b","Results","tab","minWidth","tabValue","setTabValue","Tabs","onChange","event","newValue","centered","Tab","label","App","exact","path","component","ReactDOM","render","document","getElementById","date","minute","getMinutes","getSeconds","getMilliseconds","module","exports","PARTIAL_INIT_LEVEL","Search","moveSol","nodeUD","valid1","allowShorter","cc","CubieCube","urfCubieCube","urfCoordCube","phase1Cubie","preMoveCubes","preMoves","preMoveLen","maxPreMoves","isRec","CoordCube","N_PERM_SYM","N_SLICE","N_COMB","move2str","ud2std","std2ud","ckmv2bit","urfMove","ix","jx","setVal","val0","isEdge","getVal","setPruning","getPruning","getPruningMax","maxValue","min","hasZero","ESym2CSym","getPermSymInv","sym","isCorner","idxi","PermInvEdgeSym","SymMult","ca","ea","setNPerm","v","m","getNPerm","setNPermFull","getNPermFull","getComb","mask","idxC","r","setComb","end","getNParity","EdgeMult","prod","ed","CornMult","corn","ori","CornMultFull","oriA","oriB","CornConjugate","sinv","SymCube","SymMultInv","EdgeConjugate","prototype","initCoord","cperm","eperm","isEqual","parity","getFlipSym","FlipR2S","twst","getTwistSym","TwistR2S","setCPerm","getCPerm","getCPermSym","EPermR2S","setEPerm","getEPerm","getEPermSym","getUDSlice","setUDSlice","getMPerm","setMPerm","getCComb","setCComb","URFConjugate","temps","urf2","urf1","cornerFacelet","edgeFacelet","tsym","fsym","prun","twistc","flipc","toFaceCube","cFacelet","eFacelet","ts","f","e","join","invFrom","edge","fromFacelet","facelet","col1","col2","count","centers","set","node","calcPruning","isPhase1","UDSliceTwistPrunMax","UDSliceTwistPrun","UDSliceConj","UDSliceFlipPrunMax","UDSliceFlipPrun","TwistFlipPrunMax","TwistFlipPrun","FlipS2RF","setWithPrun","pc","doMovePrun","UDSliceMove","FlipMove","Sym8Move","TwistMove","doMovePrunConj","SymMove","facelets","maxDepth","probeMax","probeMin","verbose","initPrunTables","check","verify","undefined","sol","probe","initSearch","conjMask","next","sum","edgeMask","cornMask","phase1PreMoves","maxl","lm","depth1","length1","phase1","skipMoves","moveCube","urfIdx","initPhase2Pre","initPhase2","phase2Cubie","p2corn","p2csym","p2edge","p2esym","depth2","p2mid","p2edgei","p2corni","MCPermPrunMax","MCPermPrun","MPermConj","EPermCCombPPrunMax","EPermCCombPPrun","CCombPConj","Perm2CombP","maxDep2","phase2","appendSolMove","solutionToString","axis","power","curMove","pow","axisCur","axisLast","esym","csym","mid","moveMask","midx","MPermMove","cornx","CPermMove","SymMoveUD","csymx","edgex","EPermMove","esymx","edgei","corni","sb","urf","FlipS2R","TwistS2R","EPermS2R","SymStateFlip","SymStateTwist","SymStatePerm","CCombPMove","InitPrunProgress","initRawSymPrun","PrunTable","N_RAW","N_SYM","RawMove","RawConj","SymState","PrunFlag","SYM_SHIFT","SYM_E2C_MAGIC","INV_DEPTH","MAX_DEPTH","MIN_DEPTH","SYM_MASK","ISTFP","N_SIZE","N_MOVES","NEXT_AXIS_MAGIC","SEARCH_DEPTH","inv","select","selArrMask","xorVal","raw","rawx","symx","symState","idxx","doInitPrunTables","targetProgress","d","f2","u4","lr2","outloop","initSym2Raw","Sym2Raw","Raw2Sym","coord","setFunc","getFunc","sym_inc","conjFunc","call","initSymMoveTable","moveTable","SymS2R","multFunc","initBasic","randomCube","c1","c2","initFull","faceNames","0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","faceNums","E","M","S","u","parseAlg","arg","k","len","part","ref","results","Error","face","result","str","substring","turnList","scrambleList","turn","scrambleText","trim","makeCorrectScramble","scr1","scr2","scr1ListTmp","scr1List","itemTmp","scr2ListTmp","scr2List","scr1ListRes","scr2ListRes","scrList","scrStr"],"mappings":"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","file":"static/js/main.f6f39605.chunk.js","sourcesContent":["import React, {useEffect} from \"react\";\nimport enJson from './locales/en.json'\nimport jaJson from './locales/ja.json'\nimport i18n from 'i18next'\nimport {initReactI18next} from \"react-i18next\";\nimport {useTranslation} from \"react-i18next\";\nimport {AppBar, Button, makeStyles, Toolbar, Typography} from \"@material-ui/core\";\nimport Box from \"@material-ui/core/Box\";\n\ni18n.use(initReactI18next).init({\n    resources: {\n        en: {translation: enJson},\n        ja: {translation: jaJson}\n    },\n    lng: 'ja',\n    fallbackLng: 'ja',\n    interpolation: {escapeValue: false}\n})\n\nconst About = (props) => {\n    const useStyles = makeStyles((theme) => ({\n        container: {\n            margin: '0 auto',\n            padding: '20px',\n            maxWidth: '500px'\n        },\n        link: {\n            margin: '20px 0'\n        }\n    }))\n    const classes = useStyles()\n\n    const [t, i18n] = useTranslation()\n\n    useEffect(() => {\n        if (localStorage.lang) {\n            i18n.changeLanguage(localStorage.lang)\n        } else {\n            i18n.changeLanguage('ja')\n        }\n    }, [i18n])\n\n    return (\n        <div>\n            <AppBar position={\"relative\"}>\n                <Toolbar>\n                    <Typography>{t('詰めキューブ')}</Typography>\n                </Toolbar>\n            </AppBar>\n            <Box className={classes.container} maxWidth={\"xs\"} display={\"flex\"} flexDirection={\"column\"}>\n                <Box display={\"flex\"}>\n                    <Button variant='contained' onClick={() => props.history.push('/')}>\n                        {t('戻る')}\n                    </Button>\n                </Box>\n                <Box display={\"flex\"} justifyContent={\"center\"}>\n                    <Typography variant='h3'>{t('遊び方')}</Typography>\n                </Box>\n                <Box className={classes.link} display={\"flex\"} justifyContent={\"center\"}>\n                    <Typography variant='body1'>\n                        {t('詰めキューブとは、あと数手で解けるスクランブルを最少の手数で解くスピード競技です')}\n                        <br/><br/>\n                        {t('ホーム画面でスタートボタンを押すとゲームが開始します')}\n                        <br/><br/>\n                        {t('スクランブルが表示されるのでその最短解法を探し出して入力し、回答ボタンを押してください')}\n                        <br/><br/>\n                        {t('正解するとかかった時間が記録され、記録一覧画面で見ることができます')}\n                    </Typography>\n                </Box>\n            </Box>\n        </div>\n    )\n}\n\nexport default About","const twophase = (() => {\n\nconst U = 0;\nconst F = 1;\nconst R = 2;\nconst D = 3;\nconst B = 4;\nconst L = 5;\n\nlet moveName;\nlet moveObject;\nlet restrictedMove;\nlet Cnk;\n\nlet twistTable;\nlet flipTable;\nlet eSliceTable;\nlet cPTable;\nlet UDEPTable;\nlet eSliceTable2;\n\nlet twistESlicePrun;\nlet flipESlicePrun;\nlet cPESlicePrun;\nlet UDEPESlicePrun;\n\nlet initialized = false;\n\nconst getTwist = (obj) => {\n  let ret = 0;\n  for (let i = 0; i < 7; i++) {\n    ret *= 3;\n    ret += obj.co[i]\n  }\n  return ret;\n}\n\nconst getFlip = (obj) => {\n  let ret = 0;\n  for (let i = 0; i < 11; i++) {\n    ret *= 2;\n    ret += obj.eo[i]\n  }\n  return ret;\n}\n\nconst getESlice = (obj) => {\n  let ret = 0\n  let s = 4;\n  for (let i = 0; i < 12; i++) {\n    if (obj.ep[i] > 7) {\n      ret += Cnk[11 - i][s--];\n    }\n  }\n  return ret;\n}\n\nconst getCP = (obj) => {\n  let flag = 255;\n  let ret = 0;\n  let tmp;\n  for (let i = 0; i < 8; i++) {\n    tmp = 255 >> 8 - obj.cp[i];\n    ret += fact(7 - i) * bitCount(flag & tmp);\n    flag ^= 1 << obj.cp[i];\n  }\n  return ret;\n}\n\nconst getUDEP = (obj) => {\n  let flag = 255;\n  let ret = 0;\n  let tmp;\n  for (let i = 0; i < 8; i++) {\n    tmp = 255 >> 8 - obj.ep[i];\n    ret += fact(7 - i) * bitCount(flag & tmp);\n    flag ^= 1 << obj.ep[i];\n  }\n  return ret;\n}\n\nconst getESlice2 = (obj) => {\n  let ret = 0\n  let flag = 15;\n  let tmp;\n  let cur;\n  for (let i = 0; i < 4; i++) {\n    cur = obj.ep[i + 8] - 8;\n\n    tmp = 15 >> 4 - cur;\n    ret += fact(3 - i) * bitCount(flag & tmp);\n    flag ^= 1 << cur;\n  }\n  return ret;\n}\n\nconst setTwist = (obj, idx) => {\n  let tw = 0\n  for (let i = 0; i < 7; i++) {\n    obj.co[i] = idx / (3 ** (6 - i)) | 0;\n    tw += obj.co[i];\n    idx = idx % (3 ** (6 - i));\n  }\n  obj.co[7] = (15 - tw) % 3;\n}\n\nconst setFlip = (obj, idx) => {\n  let fl = 0;\n  for (let i = 0; i < 11; i++) {\n    obj.eo[10 - i] = idx & 1;\n    fl += obj.eo[10 - i];\n    idx = idx >>> 1;\n  }\n  obj.eo[11] = (12 - fl) % 2\n}\n\nconst setESlice = (obj, idx) => {\n  let s = 4;\n  for (let i = 0; i < 12; i++) {\n    if (idx >= Cnk[11 - i][s]) {\n      obj.ep[i] = s + 7;\n      idx -= Cnk[11 - i][s--];\n    } else {\n      obj.ep[i] = i - 4 + s;\n    }\n  }\n}\n\nconst setCP = (obj, idx) => {\n  let arr = [0, 1, 2, 3, 4, 5, 6, 7];\n  let tmp;\n  for (let i = 0; i < 8; i++) {\n    tmp = 1 << idx / fact(7 - i) | 0;\n    obj.cp[i] = arr.splice(bitCount(tmp - 1), 1)[0];\n    idx = idx % fact(7 - i);\n  }\n}\n\nconst setUDEP = (obj, idx) => {\n  let arr = [0, 1, 2, 3, 4, 5, 6, 7];\n  let tmp;\n  for (let i = 0; i < 8; i++) {\n    tmp = 1 << idx / fact(7 - i) | 0;\n    obj.ep[i] = arr.splice(bitCount(tmp - 1), 1)[0];\n    idx = idx % fact(7 - i);\n  }\n}\n\nconst setESlice2 = (obj, idx) => {\n  let arr = [8, 9, 10, 11];\n  let tmp;\n  for (let i = 0; i < 4; i++) {\n    tmp = 1 << idx / fact(3 - i) | 0;\n    obj.ep[i + 8] = arr.splice(bitCount(tmp - 1), 1)[0];\n    idx = idx % fact(3 - i);\n  }\n}\n\nconst setEP = (obj, idx) => {\n  let arr = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11];\n  let tmp;\n  for (let i = 0; i < 12; i++) {\n    tmp = 1 << idx / fact(11 - i) | 0;\n    obj.ep[i] = arr.splice(bitCount(tmp - 1), 1)[0];\n    idx = idx % fact(11 - i);\n  }\n}\n\nconst getCornerParity = (idx) => {\n  let tmp;\n  let p = 0;\n  for (let i = 0; i < 8; i++) {\n    tmp = 1 << idx / fact(7 - i) | 0;\n    p += bitCount(tmp - 1);\n    idx = idx % fact(7 - i);\n  }\n  return p & 1;\n}\n\nconst getEdgeParity = (idx) => {\n  let tmp;\n  let p = 0;\n  for (let i = 0; i < 12; i++) {\n    tmp = 1 << idx / fact(11 - i) | 0;\n    p += bitCount(tmp - 1);\n    idx = idx % fact(11 - i);\n  }\n  return p & 1;\n}\n\nconst initTable = () => {\n  initTwistTable();\n  initFlipTable();\n  initESliceTable();\n  initCPTable();\n  initUDEPTable();\n  initESliceTable2();\n}\n\nconst initTwistTable = () => {\n  twistTable = create2DArray(2187, 18);\n  let obj_0 = new ArrayCube()\n  let i, j;\n  for (i = 0; i < 2187; i++) {\n    setTwist(obj_0, i);\n    for (j = 0; j < 18; j++) {\n      twistTable[i][j] = getTwist(obj_0.apply(moveObject[j]));\n    }\n  }\n}\n\nconst initFlipTable = () => {\n  flipTable = create2DArray(2048, 18);\n  let obj_0 = new ArrayCube()\n  let i, j;\n  for (i = 0; i < 2048; i++) {\n    setFlip(obj_0, i);\n    for (j = 0; j < 18; j++) {\n      flipTable[i][j] = getFlip(obj_0.apply(moveObject[j]));\n    }\n  }\n}\n\nconst initESliceTable = () => {\n  eSliceTable = create2DArray(495, 18);\n  let obj_0 = new ArrayCube()\n  let i, j;\n  for (i = 0; i < 495; i++) {\n    setESlice(obj_0, i);\n    for (j = 0; j < 18; j++) {\n      eSliceTable[i][j] = getESlice(obj_0.apply(moveObject[j]));\n    }\n  }\n}\n\nconst initCPTable = () => {\n  cPTable = create2DArray(40320, 10);\n  let obj_0 = new ArrayCube()\n  let i, j;\n  for (i = 0; i < 40320; i++) {\n    setCP(obj_0, i);\n    for (j = 0; j < 10; j++) {\n      cPTable[i][j] = getCP(obj_0.apply(moveObject[restrictedMove[j]]));\n    }\n  }\n}\n\nconst initUDEPTable = () => {\n  UDEPTable = create2DArray(40320, 10);\n  let obj_0 = new ArrayCube()\n  let i, j;\n  for (i = 0; i < 40320; i++) {\n    setUDEP(obj_0, i);\n    for (j = 0; j < 10; j++) {\n      UDEPTable[i][j] = getUDEP(obj_0.apply(moveObject[restrictedMove[j]]));\n    }\n  }\n}\n\nconst initESliceTable2 = () => {\n  eSliceTable2 = create2DArray(24, 10);\n  let obj_0 = new ArrayCube()\n  let i, j;\n  for (i = 0; i < 24; i++) {\n    setESlice2(obj_0, i);\n    for (j = 0; j < 10; j++) {\n      eSliceTable2[i][j] = getESlice2(obj_0.apply(moveObject[restrictedMove[j]]));\n    }\n  }\n}\n\nconst initPrun = () => {\n  initTwistESlicePrun();\n  initFlipESlicePrun();\n  initCPESlicePrun();\n  initUDEPESlicePrun();\n}\n\nconst initTwistESlicePrun = () => {\n  twistESlicePrun = Array(1082565);\n  twistESlicePrun.fill(15);\n\n  let children1, children2, done, depth, i, j;\n\n  twistESlicePrun[0] = 0;\n  done = 1;\n  depth = 0;\n  while (done < 1082565) {\n    for (i = 0; i < 1082565; i++) {\n      if (twistESlicePrun[i] !== depth) {\n        continue;\n      }\n      \n      children1 = twistTable[i / 495 | 0];\n      children2 = eSliceTable[i % 495];\n      for (j = 0; j < 18; j++) {\n        if (twistESlicePrun[children1[j] * 495 + children2[j]] === 15) {\n          twistESlicePrun[children1[j] * 495 + children2[j]] = depth + 1;\n          done++\n        }\n      }\n    }\n    depth++;\n  }\n}\n\nconst initFlipESlicePrun = () => {\n  flipESlicePrun = Array(1013760);\n  flipESlicePrun.fill(15);\n\n  let children1, children2, done, depth, i, j;\n\n  flipESlicePrun[0] = 0;\n  done = 1;\n  depth = 0;\n  while (done < 1013760) {\n    for (i = 0; i < 1013760; i++) {\n      if (flipESlicePrun[i] !== depth) {\n        continue;\n      }\n      \n      children1 = flipTable[i / 495 | 0];\n      children2 = eSliceTable[i % 495];\n      for (j = 0; j < 18; j++) {\n        if (flipESlicePrun[children1[j] * 495 + children2[j]] === 15) {\n          flipESlicePrun[children1[j] * 495 + children2[j]] = depth + 1;\n          done++\n        }\n      }\n    }\n    depth++;\n  }\n}\n\nconst initCPESlicePrun = () => {\n  cPESlicePrun = Array(967680);\n  cPESlicePrun.fill(15);\n\n  let children1, children2, done, depth, i, j;\n\n  cPESlicePrun[0] = 0;\n  done = 1;\n  depth = 0;\n  while (done < 967680) {\n    for (i = 0; i < 967680; i++) {\n      if (cPESlicePrun[i] !== depth) {\n        continue;\n      }\n      \n      children1 = cPTable[i / 24 | 0];\n      children2 = eSliceTable2[i % 24];\n      for (j = 0; j < 10; j++) {\n        if (cPESlicePrun[children1[j] * 24 + children2[j]] === 15) {\n          cPESlicePrun[children1[j] * 24 + children2[j]] = depth + 1;\n          done++\n        }\n      }\n    }\n    depth++;\n  }\n}\n\nconst initUDEPESlicePrun = () => {\n  UDEPESlicePrun = Array(967680);\n  UDEPESlicePrun.fill(15);\n\n  let children1, children2, done, depth, i, j;\n\n  UDEPESlicePrun[0] = 0;\n  done = 1;\n  depth = 0;\n  while (done < 967680) {\n    for (i = 0; i < 967680; i++) {\n      if (UDEPESlicePrun[i] !== depth) {\n        continue;\n      }\n      \n      children1 = UDEPTable[i / 24 | 0];\n      children2 = eSliceTable2[i % 24];\n      for (j = 0; j < 10; j++) {\n        if (UDEPESlicePrun[children1[j] * 24 + children2[j]] === 15) {\n          UDEPESlicePrun[children1[j] * 24 + children2[j]] = depth + 1;\n          done++\n        }\n      }\n    }\n    depth++;\n  }\n}\n\nclass ArrayCube {\n  constructor(cp, co, ep, eo) {\n    this.cp = cp ? cp : [0, 1, 2, 3, 4, 5, 6, 7]\n    this.co = co ? co : [0, 0, 0, 0, 0, 0, 0, 0]\n    this.ep = ep ? ep : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11]\n    this.eo = eo ? eo : [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\n  }\n\n  apply(move) {\n    return new ArrayCube(\n      this.cp.map((cur, idx) => this.cp[move.cp[idx]]),\n      this.co.map((cur, idx) => (this.co[move.cp[idx]] + move.co[idx]) % 3),\n      this.ep.map((cur, idx) => this.ep[move.ep[idx]]),\n      this.eo.map((cur, idx) => (this.eo[move.ep[idx]] + move.eo[idx]) % 2)\n    )\n  }\n\n  copy() {\n    return new ArrayCube(\n      this.cp,\n      this.co,\n      this.ep,\n      this.eo\n    )\n  }\n\n  toIndexPhase1() {\n    return new IndexCubePhase1(\n      getTwist(this),\n      getFlip(this),\n      getESlice(this),\n      []\n    )\n  }\n\n  toIndexPhase2() {\n    return new IndexCubePhase2(\n      getCP(this),\n      getUDEP(this),\n      getESlice2(this),\n      []\n    )\n  }\n}\n\nclass IndexCubePhase1 {\n  constructor(twist, flip, eslice, move) {\n    this.twist = twist ? twist : 0\n    this.flip = flip ? flip : 0\n    this.eslice = eslice ? eslice : 0\n    this.move = move ? move : []\n  }\n\n  apply(move) {\n    let newTwist, newFlip, newESlice, newMove\n    newTwist = twistTable[this.twist][move]\n    newFlip = flipTable[this.flip][move]\n    newESlice = eSliceTable[this.eslice][move]\n    newMove = this.move.slice()\n    newMove.push(move)\n    return new IndexCubePhase1(\n      newTwist,\n      newFlip,\n      newESlice,\n      newMove\n    )\n  }\n\n  toArray() {\n    return\n  }\n}\n\nclass IndexCubePhase2 {\n  constructor(cp, udep, eslice2, move) {\n    this.cp = cp ? cp : 0\n    this.udep = udep ? udep : 0\n    this.eslice2 = eslice2 ? eslice2 : 0\n    this.move = move ? move : []\n  }\n\n  apply(move) {\n    let _move = restrictedMove.indexOf(move)\n    let newCp, newUDEP, newESlice2, newMove\n    newCp = cPTable[this.cp][_move]\n    newUDEP = UDEPTable[this.udep][_move]\n    newESlice2 = eSliceTable2[this.eslice2][_move]\n    newMove = this.move.slice()\n    newMove.push(move)\n    return new IndexCubePhase2(\n      newCp,\n      newUDEP,\n      newESlice2,\n      newMove\n    )\n  }\n\n  toArray() {\n    return\n  }\n}\n\nconst search = (root, max) => {\n  let stack, _stack, root1, root2, _root\n\n  root1 = root.toIndexPhase1()\n\n  for (let depth = 10; depth <= 13; depth++) {\n    stack = new Stack()\n    stack.push(root1)\n    let cur, nextMove, nextFace, curFace\n    while(stack.size() > 0) {\n      cur = stack.pop();\n      if(cur.move.length === depth && cur.twist === 0 && cur.flip === 0 && cur.eslice === 0) {\n        _root = root.copy()\n        for (let i = 0; i < cur.move.length; i++) {\n          _root = _root.apply(moveObject[cur.move[i]])\n        }\n        root2 = _root.toIndexPhase2()\n\n        for (let _depth = 0; _depth <= max - cur.move.length; _depth++) {\n          _stack = new Stack()\n          _stack.push(root2)\n          let _cur, _nextMove, _nextFace, _curFace\n          while(_stack.size() > 0) {\n            _cur = _stack.pop();\n            if(_cur.cp === 0 && _cur.udep === 0 && _cur.eslice2 === 0) {\n              return cur.move.concat(_cur.move)\n            }\n\n            if (_cur.move.length + Math.max(cPESlicePrun[_cur.cp * 24 + _cur.eslice2], UDEPESlicePrun[_cur.udep * 24 + _cur.eslice2]) > _depth) {\n              continue;\n            }\n\n            for (let i = 0; i < 10; i++) {\n              _nextMove = restrictedMove[i]\n              _nextFace = _nextMove / 3 | 0;\n              _curFace = _cur.move.length === 0 ? -1 : _cur.move[_cur.move.length - 1] / 3 | 0;\n              if (_nextFace % 3 !== _curFace % 3 || _nextFace > _curFace) {\n                _stack.push(_cur.apply(_nextMove));\n              }\n            }\n          }\n        }\n      }\n  \n      if (cur.move.length + Math.max(twistESlicePrun[cur.twist * 495 + cur.eslice], flipESlicePrun[cur.flip * 495 + cur.eslice]) > depth) {\n        continue;\n      }\n  \n      for (nextMove = 0; nextMove < 18; nextMove++) {\n        nextFace = nextMove / 3 | 0;\n        curFace = cur.move.length === 0 ? -1 : cur.move[cur.move.length - 1] / 3 | 0;\n        if (nextFace % 3 !== curFace % 3 || nextFace > curFace) {\n          stack.push(cur.apply(nextMove));\n        }\n      }\n    }\n  }\n\n  return null\n}\n\nconst getRandomState = (seed) => {\n  let cp, co, ep, eo;\n  let random = new Random(seed);\n  let obj = new ArrayCube();\n  do {\n    cp = random.randomInt(40320);\n    ep = random.randomInt(479001600);\n  } while (getCornerParity(cp) !== getEdgeParity(ep))\n  co = random.randomInt(2187);\n  eo = random.randomInt(2048);\n\n  setCP(obj, cp);\n  setTwist(obj, co);\n  setEP(obj, ep);\n  setFlip(obj, eo)\n  \n  return obj;\n}\n\nconst cancelMoves = (moves) => {\n  let l, faceList, axisList, suffixList, newFaceList, newAxisList, newSuffixList, cancelled, ret;\n  l = moves.length;\n  faceList = Array(l);\n  axisList = Array(l);\n  suffixList = Array(l);\n  for (let i = 0; i < l; i++) {\n    faceList[i] = moves[i] / 3 | 0;\n    axisList[i] = faceList[i] % 3;\n    suffixList[i] = moves[i] % 3\n  }\n  \n  do {\n    cancelled = 0;\n    l = faceList.length;\n\n    for (let i = 0; i < l - 1; i++) {\n      if (axisList[i] === axisList[i + 1] && faceList[i] > faceList[i + 1]) {\n        swapElement(faceList, i);\n        swapElement(axisList, i);\n        swapElement(suffixList, i);\n      }\n    }\n\n    for (let i = 0; i < l - 1; i++) {\n      if (faceList[i] === faceList[i + 1]) {\n        cancelled++;\n        suffixList[i] = (suffixList[i] + suffixList[i + 1] + 1) % 4;\n        suffixList[i + 1] = 3;\n      }\n    }\n\n    newFaceList = [];\n    newAxisList = [];\n    newSuffixList = [];\n\n    for (let i = 0; i < l; i++) {\n      if (suffixList[i] !== 3) {\n        newFaceList.push(faceList[i]);\n        newAxisList.push(axisList[i]);\n        newSuffixList.push(suffixList[i]);\n      }\n    }\n\n    faceList = newFaceList.slice();\n    axisList = newAxisList.slice();\n    suffixList = newSuffixList.slice();\n  } while (cancelled > 0)\n\n  ret = Array(faceList.length);\n  for (let i = 0; i < faceList.length; i++) {\n    ret[i] = faceList[i] * 3 + suffixList[i];\n  }\n  return ret;\n}\n\nconst swapElement = (arr, idx) => {\n  arr.splice(idx, 2, arr[idx + 1], arr[idx]);\n}\n\nconst initUtil = () => {\n  Cnk = create2DArray(12, 12);\n  for (let i = 0; i < 12; i++) {\n    Cnk[i].fill(0);\n    Cnk[i][0] = 1;\n    Cnk[i][i] = 1;\n    for (let j = 1; j < i; j++) {\n      Cnk[i][j] = Cnk[i - 1][j - 1] + Cnk[i - 1][j];\n    }\n  }\n\n  moveName = [\"U\", \"U2\", \"U'\", \"F\", \"F2\", \"F'\", \"R\", \"R2\", \"R'\", \"D\", \"D2\", \"D'\", \"B\", \"B2\", \"B'\", \"L\", \"L2\", \"L'\"];\n\n  moveObject = Array(18);\n  moveObject[U * 3] = new ArrayCube(\n    [3, 0, 1, 2, 4, 5, 6, 7],\n    [0, 0, 0, 0, 0, 0, 0, 0],\n    [4, 5, 2, 3, 1, 0, 6, 7, 8, 9, 10, 11],\n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\n  )\n  moveObject[F * 3] = new ArrayCube(\n    [1, 7, 2, 3, 0, 5, 6, 4],\n    [1, 2, 0, 0, 2, 0, 0, 1],\n    [9, 1, 2, 8, 4, 5, 6, 7, 0, 3, 10, 11],\n    [1, 0, 0, 1, 0, 0, 0, 0, 1, 1, 0, 0]\n  );\n  moveObject[R * 3] = new ArrayCube(\n    [4, 1, 2, 0, 5, 3, 6, 7],\n    [2, 0, 0, 1, 1, 2, 0, 0],\n    [0, 1, 2, 3, 8, 5, 6, 11, 7, 9, 10, 4],\n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\n  );\n  moveObject[D * 3] = new ArrayCube(\n    [0, 1, 2, 3, 7, 4, 5, 6],\n    [0, 0, 0, 0, 0, 0, 0, 0],\n    [0, 1, 7, 6, 4, 5, 2, 3, 8, 9, 10, 11],\n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\n  );\n  moveObject[B * 3] = new ArrayCube(\n    [0, 1, 3, 5, 4, 6, 2, 7],\n    [0, 0, 1, 2, 0, 1, 2, 0],\n    [0, 11, 10, 3, 4, 5, 6, 7, 8, 9, 1, 2],\n    [0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 1, 1]\n  );\n  moveObject[L * 3] = new ArrayCube(\n    [0, 2, 6, 3, 4, 5, 7, 1],\n    [0, 1, 2, 0, 0, 0, 1, 2],\n    [0, 1, 2, 3, 4, 10, 9, 7, 8, 5, 6, 11],\n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\n  );\n  for (let i = 0; i < 6; i++) {\n    moveObject[i * 3 + 1] = moveObject[i * 3].apply(moveObject[i * 3])\n    moveObject[i * 3 + 2] = moveObject[i * 3 + 1].apply(moveObject[i * 3])\n  }\n\n  restrictedMove = [0, 1, 2, 4, 7, 9, 10, 11, 13, 16];\n}\n\nconst bitCount = (bits) =>{\n  bits = (bits & 0x55555555) + (bits >> 1 & 0x55555555);\n  bits = (bits & 0x33333333) + (bits >> 2 & 0x33333333);\n  bits = (bits & 0x0f0f0f0f) + (bits >> 4 & 0x0f0f0f0f);\n  bits = (bits & 0x00ff00ff) + (bits >> 8 & 0x00ff00ff);\n  return (bits & 0x0000ffff) + (bits >>16 & 0x0000ffff);\n}\n\nconst fact = (n) => {\n  let fact = 1;\n  for (let i = 1; i <= n; i++) {\n    fact *= i;\n  }\n  return fact;\n}\n\nconst create2DArray = (l1, l2) => {\n  let ret = Array(l1);\n  for (let i = 0; i < l1; i++){\n    ret[i] = Array(l2);\n  }\n  return ret;\n}\n\nclass Random {\n  constructor(seed) {\n    this.x = 123456789;\n    this.y = 362436069;\n    this.z = 521288629;\n    this.w = seed ? seed : Math.floor(Math.random() * Date.now());\n  }\n  \n  _random() {\n    let t;\n \n    t = this.x ^ (this.x << 11);\n    this.x = this.y; this.y = this.z; this.z = this.w;\n    return this.w = (this.w ^ (this.w >>> 19)) ^ (t ^ (t >>> 8)); \n  }\n  \n  randomInt(n) {\n    const r = Math.abs(this._random());\n    return (r % n);\n  }\n}\n\nclass Stack {\n  constructor() {\n    this.heap = [];\n  }\n\n  empty() {\n    if (this.heap.length === 0) return true;\n    return false;\n  }\n\n  size() {\n    return this.heap.length;\n  }\n\n  top() {\n    return this.heap[0];\n  }\n \n  push(item) {\n    this.heap.unshift(item);\n  }\n  \n  pop() {\n    return this.heap.shift();\n  }\n}\n\nconst initialize = () => {\n  if (!initialized) {\n    initUtil();\n    initTable();\n    initPrun();\n    initialized = true;\n  }\n}\n\nconst solve = (scramble, max = 22) => {\n  // console.log('scramble: ' + scramble);\n  let arr = scramble.split(' ');\n  let obj = new ArrayCube()\n  let _solution;\n  let solution = '';\n\n  for (let i = 0; i < arr.length; i++) {\n    if (moveName.indexOf(arr[i]) >= 0) obj = obj.apply(moveObject[moveName.indexOf(arr[i])])\n  }\n\n  _solution = search(obj, max);\n  if (_solution == null) {\n    return 'Error';\n  }\n  _solution = cancelMoves(_solution);\n  _solution.forEach((val) => {\n    solution += moveName[val] + ' '\n  })\n  // console.log('solution: ' + solution);\n  // console.log(_solution.length + ' moves');\n  return solution;\n}\n\nconst getScramble = (seed, max = 22) => {\n  let scr, solution, ret;\n\n  scr = getRandomState(seed);\n  solution = search(scr, max);\n  if (solution == null) {\n    return 'Error';\n  }\n  solution = cancelMoves(solution);\n  solution.reverse();\n  ret = '';\n  solution.forEach((val) => {\n    ret += moveName[val] + ' '\n  })\n  console.log(ret + '[' + solution.length + ' moves]')\n  return ret;\n}\n\nreturn {\n  initialize: initialize,\n  solve: solve,\n  getScramble: getScramble,\n}\n\n})();\n\nexport default twophase","import React from \"react\";\nimport {Button, makeStyles} from \"@material-ui/core\";\n\nconst MyButton = (props) => {\n    const useStyles = makeStyles((theme) => ({\n        content: {\n            margin: theme.spacing(1),\n            width: props.width,\n            height: '30px'\n        }\n    }))\n    const classes = useStyles()\n\n    return (\n        <Button\n            className={classes.content}\n            onClick={props.onClick}\n            variant={\"contained\"}\n            color={\"primary\"}\n        >{props.children}</Button>\n    )\n}\n\nexport default MyButton","import React from \"react\";\nimport {Button, makeStyles} from \"@material-ui/core\";\n\nconst NotationButton = (props) => {\n    const useStyles = makeStyles((theme) => ({\n        content: {\n            margin: theme.spacing(1),\n            height: '30px'\n        }\n    }))\n    const classes = useStyles()\n\n    return (\n        <Button\n            className={classes.content}\n            onClick={props.onClick}\n            variant={\"contained\"}\n            color={\"default\"}\n        >{props.children}</Button>\n    )\n}\n\nexport default NotationButton","import React from \"react\";\nimport {makeStyles, Typography} from \"@material-ui/core\";\n\nconst ErrorDisplay = (props) => {\n    const useStyles = makeStyles((theme) => ({\n        error: {\n            color: \"red\"\n        }\n    }))\n    const classes = useStyles()\n\n    if (props.message === null) {\n        return null\n    }\n\n    return (\n        <Typography className={classes.error}>\n            {props.message}\n        </Typography>\n    )\n}\n\nexport default ErrorDisplay","import React, {useEffect, useRef, useState} from \"react\";\nimport enJson from './locales/en.json'\nimport jaJson from './locales/ja.json'\nimport i18n from 'i18next'\nimport {initReactI18next} from \"react-i18next\";\nimport {useTranslation} from \"react-i18next\";\nimport min2phase from './lib/min2phase';\nimport moment from \"moment\";\nimport scrambleLib from './lib/scramble'\nimport timeLib from './lib/time'\nimport inverse from './lib/inverse'\nimport twophase from './lib/twophase'\nimport {TwitterShareButton} from 'react-share';\nimport {\n    AppBar,\n    Button,\n    Dialog, DialogActions,\n    DialogContent,\n    DialogContentText,\n    DialogTitle,\n    makeStyles, Toolbar,\n    Typography\n} from \"@material-ui/core\";\nimport Box from \"@material-ui/core/Box\";\nimport MyButton from \"./component/MyButton\";\nimport NotationButton from \"./component/NotationButton\";\nimport ErrorDisplay from \"./component/ErrorDisplay\";\n\ni18n.use(initReactI18next).init({\n    resources: {\n        en: {translation: enJson},\n        ja: {translation: jaJson}\n    },\n    lng: 'ja',\n    fallbackLng: 'ja',\n    interpolation: {escapeValue: false}\n})\n\nfunction Game(props) {\n    const useStyles = makeStyles((theme) => ({\n        container: {\n            margin: '0 auto',\n            padding: '20px',\n            maxWidth: '500px'\n        },\n        inputContent: {\n            backgroundColor: \"lightgray\"\n        },\n        display: {\n            margin: '15px 0'\n        },\n        errorDisplay: {\n            margin: '10px 0',\n            height: '20px'\n        }\n    }))\n    const classes = useStyles()\n    const notationList = [\n        [\"U\", \"U'\", \"U2\"],\n        [\"D\", \"D'\", \"D2\"],\n        [\"R\", \"R'\", \"R2\"],\n        [\"L\", \"L'\", \"L2\"],\n        [\"F\", \"F'\", \"F2\"],\n        [\"B\", \"B'\", \"B2\"]\n    ]\n    const moveCount = props.location.state ? Number(props.location.state.moveCount) : 5\n\n    const intervalRef = useRef(null);\n    const [time, setTime] = useState(0);\n    const [realTime, setRealTime] = useState(0);\n    const [startDateTime, setStartDateTime] = useState(0);\n    const [shortScramble, setShortScramble] = useState('');\n    const [scramble, setScramble] = useState('');\n    const [mySolution, setMySolution] = useState([]);\n    const [mySolutionStr, setMySolutionStr] = useState('');\n    const [isCorrect, setIsCorrect] = useState(false);\n    const [incorrectMessage, setIncorrectMessage] = useState(null)\n    const [storageData, setStorageData] = useState({\n        '4': [],\n        '5': [],\n        '6': [],\n        '7': [],\n        '8': []\n    })\n    const [giveUp, setGiveUp] = useState(false)\n\n    const [t, i18n] = useTranslation()\n\n    useEffect(() => {\n        if (localStorage.lang) {\n            i18n.changeLanguage(localStorage.lang)\n        } else {\n            i18n.changeLanguage('ja')\n        }\n    }, [i18n])\n\n    useEffect(() => {\n        if (localStorage.storageData) {\n            const data = JSON.parse(localStorage.storageData)\n            if (data['4'] && data['8']) {\n                setStorageData(data)\n            } else {\n                setStorageData({\n                    '4': [],\n                    '5': data['5'],\n                    '6': data['6'],\n                    '7': data['7'],\n                    '8': []\n                })\n            }\n        }\n        startGame()\n        return () => {\n            stopTimer()\n        }\n    }, [])\n\n    const makeScramble = () => {\n        twophase.initialize()\n        let redundantScramble = ''\n        while (redundantScramble.split(' ').length < 19) {\n            const shortScramble = scrambleLib.makeShortScramble(moveCount);\n            redundantScramble = inverse.inverse(twophase.solve(shortScramble))\n        }\n        setShortScramble(shortScramble)\n        setScramble(redundantScramble);\n    };\n\n    const startGame = () => {\n        setTime(0)\n        setRealTime(0)\n        setStartDateTime(0)\n        setMySolution([])\n        setMySolutionStr('')\n        setIsCorrect(false)\n        setGiveUp(false)\n        makeScramble();\n        startTimer()\n    }\n\n    const startTimer = () => {\n        if (intervalRef.current !== null) return;\n        setStartDateTime(new Date().getTime())\n        intervalRef.current = setInterval(() => {\n            setTime(c => c + 1);\n        }, 1000);\n    };\n\n    const stopTimer = () => {\n        if (intervalRef.current === null) return;\n        clearInterval(intervalRef.current);\n        intervalRef.current = null;\n    };\n\n    const addMove = (move) => {\n        const tmpSolution = mySolution;\n        tmpSolution.push(move);\n        setMySolution(tmpSolution);\n        setMySolutionStr(solutionListToString(tmpSolution))\n    };\n\n    const removeMove = () => {\n        const tmpSolution = mySolution;\n        if (tmpSolution.length !== 0) {\n            tmpSolution.pop();\n        }\n        setMySolution(tmpSolution);\n        setMySolutionStr(solutionListToString(tmpSolution))\n    };\n\n    const judgeSolution = () => {\n        if (mySolution.length !== moveCount) {\n            setIncorrectMessage(t('手数が違います!'))\n            setTimeout(() => {\n                setIncorrectMessage(null)\n            }, 3000)\n        } else if (min2phase.solve(min2phase.fromScramble(inverse.inverse(shortScramble)))\n            === min2phase.solve(min2phase.fromScramble(mySolutionStr))) {\n            stopTimer();\n            const realTimeTmp = (new Date().getTime() - startDateTime) / 1000\n            const storageDataTmp = {...storageData}\n            storageDataTmp[moveCount.toString()].push(realTimeTmp)\n            localStorage.setItem('storageData', JSON.stringify(storageDataTmp))\n            setIsCorrect(true);\n            setRealTime(realTimeTmp)\n            setStorageData(storageDataTmp)\n        } else {\n            setIncorrectMessage(t('不正解!'))\n            setTimeout(() => {\n                setIncorrectMessage(null)\n            }, 3000)\n        }\n    };\n\n    const solutionListToString = (solutionList) => {\n        let tmpSolutionStr = \"\";\n        solutionList.forEach((value) => {\n            tmpSolutionStr += value + \" \";\n        });\n        return tmpSolutionStr;\n    }\n\n    const giveUpGame = () => {\n        stopTimer()\n        setGiveUp(true)\n    }\n\n    return (\n        <div>\n            <AppBar position={\"relative\"}>\n                <Toolbar>\n                    <Typography>{t('詰めキューブ')}</Typography>\n                </Toolbar>\n            </AppBar>\n            <Box className={classes.container} maxWidth={\"xs\"} display={\"flex\"} flexDirection={\"column\"}>\n                <Box display={\"flex\"} justifyContent={\"space-between\"}>\n                    <Button variant='contained' onClick={() => props.history.push('/')}>\n                        {t('戻る')}\n                    </Button>\n                    <Typography variant='h5'>{moment(time * 1000).format('mm:ss')}</Typography>\n                </Box>\n                <Box display={\"flex\"} justifyContent={\"center\"}>\n                    <Typography>{moveCount}{t('手スクランブル')}</Typography>\n                </Box>\n                <Box display={\"flex\"} justifyContent={\"center\"}>\n                    <Typography className={classes.display}>{scramble}</Typography>\n                </Box>\n                <Box display={\"flex\"} justifyContent={\"center\"}>\n                    <MyButton width='200px' onClick={giveUpGame}>{t('降参して答えを見る')}</MyButton>\n                </Box>\n                {/*<Box display={\"flex\"} justifyContent={\"center\"}>*/}\n                {/*    <Typography>Correct solution is {inverse.inverse(shortScramble)}</Typography>*/}\n                {/*</Box>*/}\n                <Box display={\"flex\"} justifyContent={\"center\"} className={classes.inputContent}>\n                    <Typography>{t('自分の回答')}: {mySolutionStr}</Typography>\n                </Box>\n                <Box className={classes.errorDisplay} display={\"flex\"} justifyContent={\"center\"}>\n                    <ErrorDisplay message={incorrectMessage}/>&nbsp;\n                </Box>\n                <Box display={\"flex\"} justifyContent={\"center\"}>\n                    <MyButton width='120px' onClick={judgeSolution}>{t('回答する')}</MyButton>\n                    <MyButton width='120px' onClick={removeMove}>{t('1文字削除')}</MyButton>\n                </Box>\n                {notationList.map((oneNotationList, i) =>\n                    <Box display={\"flex\"} justifyContent={\"center\"} key={i + 1}>\n                        {oneNotationList.map((notation, j) =>\n                            <NotationButton onClick={() => addMove(notation)} key={(i + 1) * 10 + j}>\n                                {notation}\n                            </NotationButton>\n                        )}\n                    </Box>\n                )}\n            </Box>\n            <Dialog open={isCorrect}>\n                <DialogTitle>{t('正解!')}</DialogTitle>\n                <DialogContent>\n                    <DialogContentText align={\"center\"}>\n                        {t('お見事!')}<br/>\n                        {t('かかった時間')}: {timeLib.format(realTime)}<br/>\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button variant='contained' color='primary'>\n                        <TwitterShareButton\n                            url={t('I solved a')\n                            + moveCount\n                            + t('手の詰めキューブを')\n                            + timeLib.format(realTime)\n                            + t('で解きました！')\n                            + '\\n'\n                            + t('解いた問題')\n                            + ': '\n                            + scramble\n                            + '\\nhttps://uesyuu.github.io/tsume_cube/'}>\n                            <Typography variant='body2'>{t('Twitterでシェア')}</Typography>\n                        </TwitterShareButton>\n                    </Button>\n                    <Button variant='contained' color='primary' onClick={startGame}>\n                        <Typography variant='body2'>{t('もう一度')}</Typography>\n                    </Button>\n                    <Button variant='contained' color='primary' onClick={() => props.history.push('/')}>\n                        <Typography variant='body2'>{t('ホームに戻る')}</Typography>\n                    </Button>\n                </DialogActions>\n            </Dialog>\n            <Dialog open={giveUp}>\n                <DialogTitle>{t('残念!')}</DialogTitle>\n                <DialogContent>\n                    <DialogContentText align='center'>\n                        {t('解法')}: {inverse.inverse(shortScramble)}<br/>\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button variant='contained' color='primary' onClick={startGame}>\n                        <Typography variant='body2'>{t('もう一度')}</Typography>\n                    </Button>\n                    <Button variant='contained' color='primary' onClick={() => props.history.push('/')}>\n                        <Typography variant='body2'>{t('ホームに戻る')}</Typography>\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n}\n\nexport default Game;\n","import React, {useEffect, useState} from \"react\";\nimport enJson from './locales/en.json'\nimport jaJson from './locales/ja.json'\nimport i18n from 'i18next'\nimport {initReactI18next} from \"react-i18next\";\nimport {useTranslation} from \"react-i18next\";\nimport {\n    AppBar,\n    Button,\n    Dialog,\n    List,\n    ListItem,\n    ListItemText,\n    makeStyles,\n    Toolbar,\n    Typography\n} from \"@material-ui/core\";\nimport Box from \"@material-ui/core/Box\"\nimport twophase from './lib/twophase'\n\ni18n.use(initReactI18next).init({\n    resources: {\n        en: {translation: enJson},\n        ja: {translation: jaJson}\n    },\n    lng: 'ja',\n    fallbackLng: 'ja',\n    interpolation: {escapeValue: false}\n})\n\nconst Home = (props) => {\n    const useStyles = makeStyles((theme) => ({\n        container: {\n            margin: '0 auto',\n            padding: '20px',\n            maxWidth: '500px'\n        },\n        link: {\n            margin: '20px 0'\n        },\n        changeLangButton: {\n            marginBottom: '10px'\n        }\n    }))\n    const classes = useStyles()\n\n    const [t, i18n] = useTranslation()\n    const [open, setOpen] = useState(false)\n    const [lang, setLang] = useState('ja')\n    const moveCountList = [4, 5, 6, 7, 8]\n\n    useEffect(() => {\n        twophase.initialize()\n    }, [])\n\n    useEffect(() => {\n        if (localStorage.lang) {\n            setLang(localStorage.lang)\n            i18n.changeLanguage(localStorage.lang)\n        } else {\n            i18n.changeLanguage(lang)\n        }\n    }, [lang, i18n])\n\n    const handleLanguageChange = () => {\n        const langTmp = lang === 'en' ? 'ja' : 'en'\n        setLang(langTmp)\n        localStorage.setItem('lang', langTmp)\n    }\n\n    return (\n        <div>\n            <AppBar position={\"relative\"}>\n                <Toolbar>\n                    <Typography>{t('詰めキューブ')}</Typography>\n                </Toolbar>\n            </AppBar>\n            <Box className={classes.container} maxWidth={\"xs\"} display={\"flex\"} flexDirection={\"column\"}>\n                <Box className={classes.changeLangButton} display='flex' justifyContent='flex-end'>\n                    <Button\n                        variant='outlined'\n                        color='default'\n                        onClick={handleLanguageChange}\n                    >{t('言語変更')}</Button>\n                </Box>\n                <Box display={\"flex\"} justifyContent={\"center\"}>\n                    <Typography variant='h3' align='center'>{t('詰めキューブ')}</Typography>\n                </Box>\n                <Box className={classes.link} display={\"flex\"} justifyContent={\"center\"}>\n                    <Button variant='contained' size='large' onClick={() => setOpen(true)}>\n                        {t('スタート')}\n                    </Button>\n                </Box>\n                <Box className={classes.link} display={\"flex\"} justifyContent={\"center\"}>\n                    <Button variant='contained' size='large' onClick={() => props.history.push('/about')}>\n                        {t('遊び方')}\n                    </Button>\n                </Box>\n                <Box className={classes.link} display={\"flex\"} justifyContent={\"center\"}>\n                    <Button variant='contained' size='large' onClick={() => props.history.push('/results')}>\n                        {t('記録')}\n                    </Button>\n                </Box>\n            </Box>\n            <Dialog onClose={() => setOpen(false)} open={open}>\n                <List>\n                    {moveCountList.map((moveCount =>\n                            <ListItem button key={moveCount}\n                                      onClick={() => props.history.push({\n                                          pathname: 'game',\n                                          state: {\n                                              moveCount: moveCount\n                                          }\n                                      })}>\n                                <ListItemText primary={t('Challenge') + moveCount + t('手スクランブルに挑戦')}/>\n                            </ListItem>\n                    ))}\n                </List>\n            </Dialog>\n        </div>\n    )\n}\n\nexport default Home","import React, {useEffect, useState} from \"react\";\nimport enJson from './locales/en.json'\nimport jaJson from './locales/ja.json'\nimport i18n from 'i18next'\nimport {initReactI18next} from \"react-i18next\";\nimport {useTranslation} from \"react-i18next\";\nimport {\n    AppBar,\n    Button,\n    makeStyles,\n    TableBody,\n    TableCell,\n    TableContainer, TableHead,\n    TableRow, Tabs,\n    Toolbar,\n    Typography\n} from \"@material-ui/core\";\nimport Box from \"@material-ui/core/Box\";\nimport Table from '@material-ui/core/Table';\nimport Tab from '@material-ui/core/Tab';\nimport timeLib from './lib/time'\n\ni18n.use(initReactI18next).init({\n    resources: {\n        en: {translation: enJson},\n        ja: {translation: jaJson}\n    },\n    lng: 'ja',\n    fallbackLng: 'ja',\n    interpolation: {escapeValue: false}\n})\n\nconst Results = (props) => {\n    const useStyles = makeStyles((theme) => ({\n        container: {\n            margin: '0 auto',\n            padding: '20px',\n            maxWidth: '500px'\n        },\n        tab: {\n            minWidth: '60px'\n        }\n    }))\n    const classes = useStyles()\n\n    const [t, i18n] = useTranslation()\n    const [ storageData, setStorageData ] = useState({\n        '4': [],\n        '5': [],\n        '6': [],\n        '7': [],\n        '8': []\n    })\n    const [ tabValue, setTabValue] = useState(0)\n\n    useEffect(() => {\n        if (localStorage.lang) {\n            i18n.changeLanguage(localStorage.lang)\n        } else {\n            i18n.changeLanguage('ja')\n        }\n    }, [i18n])\n\n    useEffect(() => {\n        if(localStorage.storageData) {\n            const data = JSON.parse(localStorage.storageData)\n            if (data['4'] && data['8']) {\n                setStorageData(data)\n            } else {\n                setStorageData({\n                    '4': [],\n                    '5': data['5'],\n                    '6': data['6'],\n                    '7': data['7'],\n                    '8': []\n                })\n            }\n        }\n    }, [])\n\n    const handleTabChanged = (event, newValue) => {\n        setTabValue(newValue)\n    }\n\n    return (\n        <div>\n            <AppBar position={\"relative\"}>\n                <Toolbar>\n                    <Typography>{t('詰めキューブ')}</Typography>\n                </Toolbar>\n            </AppBar>\n            <Box className={classes.container} maxWidth={\"xs\"} display={\"flex\"} flexDirection={\"column\"}>\n                <Box display={\"flex\"}>\n                    <Button variant='contained' onClick={() => props.history.push('/')}>\n                        {t('戻る')}\n                    </Button>\n                </Box>\n                <Box display={\"flex\"} justifyContent={\"center\"}>\n                    <Typography variant='h3'>{t('記録')}</Typography>\n                </Box>\n                <Box display={\"flex\"} justifyContent={\"center\"}>\n                    <Tabs value={tabValue} onChange={handleTabChanged} centered>\n                        <Tab className={classes.tab} label={'4' + t('手')} />\n                        <Tab className={classes.tab} label={'5' + t('手')} />\n                        <Tab className={classes.tab} label={'6' + t('手')} />\n                        <Tab className={classes.tab} label={'7' + t('手')} />\n                        <Tab className={classes.tab} label={'8' + t('手')} />\n                    </Tabs>\n                </Box>\n                <Box display={\"flex\"} justifyContent={\"center\"}>\n                    <TabPanel value={tabValue} index={0} storageData={storageData['4']} t={t} />\n                    <TabPanel value={tabValue} index={1} storageData={storageData['5']} t={t} />\n                    <TabPanel value={tabValue} index={2} storageData={storageData['6']} t={t} />\n                    <TabPanel value={tabValue} index={3} storageData={storageData['7']} t={t} />\n                    <TabPanel value={tabValue} index={4} storageData={storageData['8']} t={t} />\n                </Box>\n            </Box>\n        </div>\n    )\n}\n\nconst TabPanel = (props) => {\n    const useStyles = makeStyles((theme) => ({\n        table: {\n            width: '300px'\n        }\n    }))\n    const classes = useStyles()\n\n    return (\n        <div hidden={props.value !== props.index}>\n            <TableContainer className={classes.table}>\n                <Table>\n                    <TableHead>\n                        <TableRow>\n                            <TableCell align='center'>{props.t('ランク')}</TableCell>\n                            <TableCell align='center'>{props.t('タイム(秒)')}</TableCell>\n                        </TableRow>\n                    </TableHead>\n                    <TableBody>\n                        {props.storageData\n                            .sort((a, b) => a - b)\n                            .slice(0, 10)\n                            .map((item, index) =>\n                                <TableRow key={index}>\n                                    <TableCell align='center'>{index + 1}{props.t('位')}</TableCell>\n                                    <TableCell align='center'>{timeLib.format(item)}</TableCell>\n                                </TableRow>\n                            )}\n                    </TableBody>\n                </Table>\n            </TableContainer>\n        </div>\n    )\n}\n\nexport default Results","import React from \"react\";\nimport {HashRouter as Router, Route} from \"react-router-dom\";\nimport About from \"./About\";\nimport Game from \"./Game\";\nimport Home from \"./Home\";\nimport Results from \"./Results\";\n\nconst App = () => {\n    return (\n        <Router>\n            <div>\n                <Route exact path='/' component={Home} />\n                <Route path='/about' component={About} />\n                <Route path='/game' component={Game} />\n                <Route path='/results' component={Results} />\n            </div>\n        </Router>\n    )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from \"./App\";\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n","const timeLib = (function () {\n    const format = (time) => {\n        const date = new Date(time * 1000)\n        let minute = ''\n        let second = ''\n        let millis = ''\n        if (date.getMinutes() !== 0) {\n            minute = `${date.getMinutes()}:`\n        }\n        if (date.getMinutes() !== 0) {\n            second = `${('0' + date.getSeconds()).slice(-2)}.`\n        } else {\n            second = `${date.getSeconds()}.`\n        }\n        millis = `${('00' + date.getMilliseconds()).slice(-3)}`\n\n        return minute + second + millis\n    }\n    return {\n        format: format\n    }\n})();\n\nmodule.exports = timeLib","\"use strict\";\n\nvar min2phase = (function() {\n\tvar USE_TWIST_FLIP_PRUN = true;\n\tvar PARTIAL_INIT_LEVEL = 2;\n\n\tvar MAX_PRE_MOVES = 20;\n\tvar TRY_INVERSE = true;\n\tvar TRY_THREE_AXES = true;\n\n\tvar USE_COMBP_PRUN = true; //USE_TWIST_FLIP_PRUN;\n\tvar USE_CONJ_PRUN = USE_TWIST_FLIP_PRUN;\n\tvar MIN_P1LENGTH_PRE = 7;\n\tvar MAX_DEPTH2 = 13;\n\n\tvar INVERSE_SOLUTION = 0x2;\n\n\tfunction Search() {\n\t\tthis.move = [];\n\t\tthis.moveSol = [];\n\n\t\tthis.nodeUD = [];\n\n\t\tthis.valid1 = 0;\n\t\tthis.allowShorter = false;\n\t\tthis.cc = new CubieCube();\n\t\tthis.urfCubieCube = [];\n\t\tthis.urfCoordCube = [];\n\t\tthis.phase1Cubie = [];\n\n\t\tthis.preMoveCubes = [];\n\t\tthis.preMoves = [];\n\t\tthis.preMoveLen = 0;\n\t\tthis.maxPreMoves = 0;\n\n\t\tthis.isRec = false;\n\t\tfor (var i = 0; i < 21; i++) {\n\t\t\tthis.nodeUD[i] = new CoordCube();\n\t\t\tthis.phase1Cubie[i] = new CubieCube();\n\t\t}\n\t\tfor (var i = 0; i < 6; i++) {\n\t\t\tthis.urfCubieCube[i] = new CubieCube();\n\t\t\tthis.urfCoordCube[i] = new CoordCube();\n\t\t}\n\t\tfor (var i = 0; i < MAX_PRE_MOVES; i++) {\n\t\t\tthis.preMoveCubes[i + 1] = new CubieCube();\n\t\t}\n\t}\n\n\tvar Ux1 = 0;\n\tvar Ux2 = 1;\n\tvar Ux3 = 2;\n\tvar Rx1 = 3;\n\tvar Rx2 = 4;\n\tvar Rx3 = 5;\n\tvar Fx1 = 6;\n\tvar Fx2 = 7;\n\tvar Fx3 = 8;\n\tvar Dx1 = 9;\n\tvar Dx2 = 10;\n\tvar Dx3 = 11;\n\tvar Lx1 = 12;\n\tvar Lx2 = 13;\n\tvar Lx3 = 14;\n\tvar Bx1 = 15;\n\tvar Bx2 = 16;\n\tvar Bx3 = 17;\n\n\tvar N_MOVES = 18;\n\tvar N_MOVES2 = 10;\n\tvar N_FLIP = 2048;\n\tvar N_FLIP_SYM = 336;\n\tvar N_TWIST = 2187;\n\tvar N_TWIST_SYM = 324;\n\tvar N_PERM = 40320;\n\tvar N_PERM_SYM = 2768;\n\tvar N_MPERM = 24;\n\tvar N_SLICE = 495;\n\tvar N_COMB = USE_COMBP_PRUN ? 140 : 70;\n\tvar P2_PARITY_MOVE = USE_COMBP_PRUN ? 0xA5 : 0;\n\n\tvar SYM_E2C_MAGIC = 0x00DDDD00;\n\tvar Cnk = [];\n\tvar fact = [1];\n\tvar move2str = [\n\t\t\"U \", \"U2\", \"U'\", \"R \", \"R2\", \"R'\", \"F \", \"F2\", \"F'\",\n\t\t\"D \", \"D2\", \"D'\", \"L \", \"L2\", \"L'\", \"B \", \"B2\", \"B'\"\n\t];\n\tvar ud2std = [Ux1, Ux2, Ux3, Rx2, Fx2, Dx1, Dx2, Dx3, Lx2, Bx2, Rx1, Rx3, Fx1, Fx3, Lx1, Lx3, Bx1, Bx3];\n\tvar std2ud = [];\n\tvar ckmv2bit = [];\n\tvar urfMove = [\n\t\t[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17],\n\t\t[6, 7, 8, 0, 1, 2, 3, 4, 5, 15, 16, 17, 9, 10, 11, 12, 13, 14],\n\t\t[3, 4, 5, 6, 7, 8, 0, 1, 2, 12, 13, 14, 15, 16, 17, 9, 10, 11],\n\t\t[2, 1, 0, 5, 4, 3, 8, 7, 6, 11, 10, 9, 14, 13, 12, 17, 16, 15],\n\t\t[8, 7, 6, 2, 1, 0, 5, 4, 3, 17, 16, 15, 11, 10, 9, 14, 13, 12],\n\t\t[5, 4, 3, 8, 7, 6, 2, 1, 0, 14, 13, 12, 17, 16, 15, 11, 10, 9]\n\t];\n\n\t{ // init util\n\t\tfor (var i = 0; i < 18; i++) {\n\t\t\tstd2ud[ud2std[i]] = i;\n\t\t}\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\tvar ix = ~~(ud2std[i] / 3);\n\t\t\tckmv2bit[i] = 0;\n\t\t\tfor (var j = 0; j < 10; j++) {\n\t\t\t\tvar jx = ~~(ud2std[j] / 3);\n\t\t\t\tckmv2bit[i] |= ((ix == jx) || ((ix % 3 == jx % 3) && (ix >= jx)) ? 1 : 0) << j;\n\t\t\t}\n\t\t}\n\t\tckmv2bit[10] = 0;\n\t\tfor (var i = 0; i < 13; i++) {\n\t\t\tCnk[i] = [];\n\t\t\tfact[i + 1] = fact[i] * (i + 1);\n\t\t\tCnk[i][0] = Cnk[i][i] = 1;\n\t\t\tfor (var j = 1; j < 13; j++) {\n\t\t\t\tCnk[i][j] = j <= i ? Cnk[i - 1][j - 1] + Cnk[i - 1][j] : 0;\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction setVal(val0, val, isEdge) {\n\t\treturn isEdge ? (val << 1 | val0 & 1) : (val | val0 & 0xf8);\n\t}\n\n\tfunction getVal(val0, isEdge) {\n\t\treturn isEdge ? val0 >> 1 : val0 & 7;\n\t}\n\n\tfunction setPruning(table, index, value) {\n\t\ttable[index >> 3] ^= value << (index << 2); // index << 2 <=> (index & 7) << 2\n\t}\n\n\tfunction getPruning(table, index) {\n\t\treturn table[index >> 3] >> (index << 2) & 0xf; // index << 2 <=> (index & 7) << 2\n\t}\n\n\tfunction getPruningMax(maxValue, table, index) {\n\t\treturn Math.min(maxValue, table[index >> 3] >> (index << 2) & 0xf);\n\t}\n\n\tfunction hasZero(val) {\n\t\treturn ((val - 0x11111111) & ~val & 0x88888888) != 0;\n\t}\n\n\tfunction ESym2CSym(idx) {\n\t\treturn idx ^ (SYM_E2C_MAGIC >> ((idx & 0xf) << 1) & 3);\n\t}\n\n\tfunction getPermSymInv(idx, sym, isCorner) {\n\t\tvar idxi = PermInvEdgeSym[idx];\n\t\tif (isCorner) {\n\t\t\tidxi = ESym2CSym(idxi);\n\t\t}\n\t\treturn idxi & 0xfff0 | SymMult[idxi & 0xf][sym];\n\t}\n\n\tfunction CubieCube() {\n\t\tthis.ca = [0, 1, 2, 3, 4, 5, 6, 7];\n\t\tthis.ea = [0, 2, 4, 6, 8, 10, 12, 14, 16, 18, 20, 22];\n\t}\n\n\tfunction setNPerm(arr, idx, n, isEdge) {\n\t\tn--;\n\t\tvar val = 0x76543210;\n\t\tfor (var i = 0; i < n; ++i) {\n\t\t\tvar p = fact[n - i];\n\t\t\tvar v = ~~(idx / p);\n\t\t\tidx %= p;\n\t\t\tv <<= 2;\n\t\t\tarr[i] = setVal(arr[i], val >> v & 0xf, isEdge);\n\t\t\tvar m = (1 << v) - 1;\n\t\t\tval = (val & m) + (val >> 4 & ~m);\n\t\t}\n\t\tarr[n] = setVal(arr[n], val & 0xf, isEdge);\n\t}\n\n\tfunction getNPerm(arr, n, isEdge) {\n\t\tvar idx = 0,\n\t\t\tval = 0x76543210;\n\t\tfor (var i = 0; i < n - 1; ++i) {\n\t\t\tvar v = getVal(arr[i], isEdge) << 2;\n\t\t\tidx = (n - i) * idx + (val >> v & 0xf);\n\t\t\tval -= 0x11111110 << v;\n\t\t}\n\t\treturn idx;\n\t}\n\n\tfunction setNPermFull(arr, idx, n, isEdge) {\n\t\tarr[n - 1] = setVal(arr[n - 1], 0, isEdge);;\n\t\tfor (var i = n - 2; i >= 0; --i) {\n\t\t\tarr[i] = setVal(arr[i], idx % (n - i), isEdge);\n\t\t\tidx = ~~(idx / (n - i));\n\t\t\tfor (var j = i + 1; j < n; ++j) {\n\t\t\t\tif (getVal(arr[j], isEdge) >= getVal(arr[i], isEdge)) {\n\t\t\t\t\tarr[j] = setVal(arr[j], getVal(arr[j], isEdge) + 1, isEdge);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction getNPermFull(arr, n, isEdge) {\n\t\tvar idx = 0;\n\t\tfor (var i = 0; i < n; ++i) {\n\t\t\tidx *= n - i;\n\t\t\tfor (var j = i + 1; j < n; ++j) {\n\t\t\t\tif (getVal(arr[j], isEdge) < getVal(arr[i], isEdge)) {\n\t\t\t\t\t++idx;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn idx;\n\t}\n\n\tfunction getComb(arr, mask, isEdge) {\n\t\tvar end = arr.length - 1;\n\t\tvar idxC = 0,\n\t\t\tr = 4;\n\t\tfor (var i = end; i >= 0; i--) {\n\t\t\tvar perm = getVal(arr[i], isEdge);\n\t\t\tif ((perm & 0xc) == mask) {\n\t\t\t\tidxC += Cnk[i][r--];\n\t\t\t}\n\t\t}\n\t\treturn idxC;\n\t}\n\n\tfunction setComb(arr, idxC, mask, isEdge) {\n\t\tvar end = arr.length - 1;\n\t\tvar r = 4,\n\t\t\tfill = end;\n\t\tfor (var i = end; i >= 0; i--) {\n\t\t\tif (idxC >= Cnk[i][r]) {\n\t\t\t\tidxC -= Cnk[i][r--];\n\t\t\t\tarr[i] = setVal(arr[i], r | mask, isEdge);\n\t\t\t} else {\n\t\t\t\tif ((fill & 0xc) == mask) {\n\t\t\t\t\tfill -= 4;\n\t\t\t\t}\n\t\t\t\tarr[i] = setVal(arr[i], fill--, isEdge);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction getNParity(idx, n) {\n\t\tvar p = 0;\n\t\tfor (var i = n - 2; i >= 0; i--) {\n\t\t\tp ^= idx % (n - i);\n\t\t\tidx = ~~(idx / (n - i));\n\t\t}\n\t\treturn p & 1;\n\t}\n\tCubieCube.EdgeMult = function(a, b, prod) {\n\t\tfor (var ed = 0; ed < 12; ed++) {\n\t\t\tprod.ea[ed] = a.ea[b.ea[ed] >> 1] ^ (b.ea[ed] & 1);\n\t\t}\n\t}\n\tCubieCube.CornMult = function(a, b, prod) {\n\t\tfor (var corn = 0; corn < 8; corn++) {\n\t\t\tvar ori = ((a.ca[b.ca[corn] & 7] >> 3) + (b.ca[corn] >> 3)) % 3;\n\t\t\tprod.ca[corn] = a.ca[b.ca[corn] & 7] & 7 | ori << 3;\n\t\t}\n\t}\n\tCubieCube.CornMultFull = function(a, b, prod) {\n\t\tfor (var corn = 0; corn < 8; corn++) {\n\t\t\tvar oriA = a.ca[b.ca[corn] & 7] >> 3;\n\t\t\tvar oriB = b.ca[corn] >> 3;\n\t\t\tvar ori = oriA + ((oriA < 3) ? oriB : 6 - oriB);\n\t\t\tori = ori % 3 + ((oriA < 3) == (oriB < 3) ? 0 : 3);\n\t\t\tprod.ca[corn] = a.ca[b.ca[corn] & 7] & 7 | ori << 3;\n\t\t}\n\t}\n\tCubieCube.CornConjugate = function(a, idx, b) {\n\t\tvar sinv = SymCube[SymMultInv[0][idx]];\n\t\tvar s = SymCube[idx];\n\t\tfor (var corn = 0; corn < 8; corn++) {\n\t\t\tvar oriA = sinv.ca[a.ca[s.ca[corn] & 7] & 7] >> 3;\n\t\t\tvar oriB = a.ca[s.ca[corn] & 7] >> 3;\n\t\t\tvar ori = (oriA < 3) ? oriB : (3 - oriB) % 3;\n\t\t\tb.ca[corn] = sinv.ca[a.ca[s.ca[corn] & 7] & 7] & 7 | ori << 3;\n\t\t}\n\t}\n\tCubieCube.EdgeConjugate = function(a, idx, b) {\n\t\tvar sinv = SymCube[SymMultInv[0][idx]];\n\t\tvar s = SymCube[idx];\n\t\tfor (var ed = 0; ed < 12; ed++) {\n\t\t\tb.ea[ed] = sinv.ea[a.ea[s.ea[ed] >> 1] >> 1] ^ (a.ea[s.ea[ed] >> 1] & 1) ^ (s.ea[ed] & 1);\n\t\t}\n\t}\n\tCubieCube.prototype.init = function(ca, ea) {\n\t\tthis.ca = ca.slice();\n\t\tthis.ea = ea.slice();\n\t\treturn this;\n\t}\n\tCubieCube.prototype.initCoord = function(cperm, twist, eperm, flip) {\n\t\tsetNPerm(this.ca, cperm, 8, false);\n\t\tthis.setTwist(twist);\n\t\tsetNPermFull(this.ea, eperm, 12, true);\n\t\tthis.setFlip(flip);\n\t\treturn this;\n\t}\n\tCubieCube.prototype.isEqual = function(c) {\n\t\tfor (var i = 0; i < 8; i++) {\n\t\t\tif (this.ca[i] != c.ca[i]) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\tfor (var i = 0; i < 12; i++) {\n\t\t\tif (this.ea[i] != c.ea[i]) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\tCubieCube.prototype.setFlip = function(idx) {\n\t\tvar parity = 0,\n\t\t\tval;\n\t\tfor (var i = 10; i >= 0; i--, idx >>= 1) {\n\t\t\tparity ^= (val = idx & 1);\n\t\t\tthis.ea[i] = this.ea[i] & 0xfe | val;\n\t\t}\n\t\tthis.ea[11] = this.ea[11] & 0xfe | parity;\n\t}\n\tCubieCube.prototype.getFlip = function() {\n\t\tvar idx = 0;\n\t\tfor (var i = 0; i < 11; i++) {\n\t\t\tidx = idx << 1 | this.ea[i] & 1;\n\t\t}\n\t\treturn idx;\n\t}\n\tCubieCube.prototype.getFlipSym = function() {\n\t\treturn FlipR2S[this.getFlip()];\n\t}\n\tCubieCube.prototype.setTwist = function(idx) {\n\t\tvar twst = 15,\n\t\t\tval;\n\t\tfor (var i = 6; i >= 0; i--, idx = ~~(idx / 3)) {\n\t\t\ttwst -= (val = idx % 3);\n\t\t\tthis.ca[i] = this.ca[i] & 0x7 | val << 3;\n\t\t}\n\t\tthis.ca[7] = this.ca[7] & 0x7 | (twst % 3) << 3;\n\t}\n\tCubieCube.prototype.getTwist = function() {\n\t\tvar idx = 0;\n\t\tfor (var i = 0; i < 7; i++) {\n\t\t\tidx += (idx << 1) + (this.ca[i] >> 3);\n\t\t}\n\t\treturn idx;\n\t}\n\tCubieCube.prototype.getTwistSym = function() {\n\t\treturn TwistR2S[this.getTwist()];\n\n\t}\n\tCubieCube.prototype.setCPerm = function(idx) {\n\t\tsetNPerm(this.ca, idx, 8, false);\n\t}\n\tCubieCube.prototype.getCPerm = function() {\n\t\treturn getNPerm(this.ca, 8, false);\n\t}\n\tCubieCube.prototype.getCPermSym = function() {\n\t\treturn ESym2CSym(EPermR2S[getNPerm(this.ca, 8, false)]);\n\t}\n\tCubieCube.prototype.setEPerm = function(idx) {\n\t\tsetNPerm(this.ea, idx, 8, true);\n\t}\n\tCubieCube.prototype.getEPerm = function() {\n\t\treturn getNPerm(this.ea, 8, true);\n\t}\n\tCubieCube.prototype.getEPermSym = function() {\n\t\treturn EPermR2S[getNPerm(this.ea, 8, true)];\n\t}\n\tCubieCube.prototype.getUDSlice = function() {\n\t\treturn 494 - getComb(this.ea, 8, true);\n\t}\n\tCubieCube.prototype.setUDSlice = function(idx) {\n\t\tsetComb(this.ea, 494 - idx, 8, true);\n\t}\n\tCubieCube.prototype.getMPerm = function() {\n\t\treturn getNPermFull(this.ea, 12, true) % 24;\n\t}\n\tCubieCube.prototype.setMPerm = function(idx) {\n\t\tsetNPermFull(this.ea, idx, 12, true);\n\t}\n\tCubieCube.prototype.getCComb = function() {\n\t\treturn getComb(this.ca, 0, false);\n\t}\n\tCubieCube.prototype.setCComb = function(idx) {\n\t\tsetComb(this.ca, idx, 0, false);\n\t}\n\tCubieCube.prototype.URFConjugate = function() {\n\t\tvar temps = new CubieCube();\n\t\tCubieCube.CornMult(CubieCube.urf2, this, temps);\n\t\tCubieCube.CornMult(temps, CubieCube.urf1, this);\n\t\tCubieCube.EdgeMult(CubieCube.urf2, this, temps);\n\t\tCubieCube.EdgeMult(temps, CubieCube.urf1, this);\n\t}\n\tvar cornerFacelet = [\n\t\t[8, 9, 20],\n\t\t[6, 18, 38],\n\t\t[0, 36, 47],\n\t\t[2, 45, 11],\n\t\t[29, 26, 15],\n\t\t[27, 44, 24],\n\t\t[33, 53, 42],\n\t\t[35, 17, 51]\n\t];\n\tvar edgeFacelet = [\n\t\t[5, 10],\n\t\t[7, 19],\n\t\t[3, 37],\n\t\t[1, 46],\n\t\t[32, 16],\n\t\t[28, 25],\n\t\t[30, 43],\n\t\t[34, 52],\n\t\t[23, 12],\n\t\t[21, 41],\n\t\t[50, 39],\n\t\t[48, 14]\n\t];\n\tCubieCube.prototype.toFaceCube = function(cFacelet, eFacelet) {\n\t\tcFacelet = cFacelet || cornerFacelet;\n\t\teFacelet = eFacelet || edgeFacelet;\n\t\tvar ts = \"URFDLB\";\n\t\tvar f = [];\n\t\tfor (var i = 0; i < 54; i++) {\n\t\t\tf[i] = ts[~~(i / 9)];\n\t\t}\n\t\tfor (var c = 0; c < 8; c++) {\n\t\t\tvar j = this.ca[c] & 0x7; // cornercubie with index j is at\n\t\t\tvar ori = this.ca[c] >> 3; // Orientation of this cubie\n\t\t\tfor (var n = 0; n < 3; n++)\n\t\t\t\tf[cFacelet[c][(n + ori) % 3]] = ts[~~(cFacelet[j][n] / 9)];\n\t\t}\n\t\tfor (var e = 0; e < 12; e++) {\n\t\t\tvar j = this.ea[e] >> 1; // edgecubie with index j is at edgeposition\n\t\t\tvar ori = this.ea[e] & 1; // Orientation of this cubie\n\t\t\tfor (var n = 0; n < 2; n++)\n\t\t\t\tf[eFacelet[e][(n + ori) % 2]] = ts[~~(eFacelet[j][n] / 9)];\n\t\t}\n\t\treturn f.join(\"\");\n\t}\n\tCubieCube.prototype.invFrom = function(cc) {\n\t\tfor (var edge = 0; edge < 12; edge++) {\n\t\t\tthis.ea[cc.ea[edge] >> 1] = edge << 1 | cc.ea[edge] & 1;\n\t\t}\n\t\tfor (var corn = 0; corn < 8; corn++) {\n\t\t\tthis.ca[cc.ca[corn] & 0x7] = corn | 0x20 >> (cc.ca[corn] >> 3) & 0x18;\n\t\t}\n\t\treturn this;\n\t}\n\tCubieCube.prototype.fromFacelet = function(facelet, cFacelet, eFacelet) {\n\t\tcFacelet = cFacelet || cornerFacelet;\n\t\teFacelet = eFacelet || edgeFacelet;\n\t\tvar count = 0;\n\t\tvar f = [];\n\t\tvar centers = facelet[4] + facelet[13] + facelet[22] + facelet[31] + facelet[40] + facelet[49];\n\t\tfor (var i = 0; i < 54; ++i) {\n\t\t\tf[i] = centers.indexOf(facelet[i]);\n\t\t\tif (f[i] == -1) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tcount += 1 << (f[i] << 2);\n\t\t}\n\t\tif (count != 0x999999) {\n\t\t\treturn -1;\n\t\t}\n\t\tvar col1, col2, i, j, ori;\n\t\tfor (i = 0; i < 8; ++i) {\n\t\t\tfor (ori = 0; ori < 3; ++ori)\n\t\t\t\tif (f[cFacelet[i][ori]] == 0 || f[cFacelet[i][ori]] == 3)\n\t\t\t\t\tbreak;\n\t\t\tcol1 = f[cFacelet[i][(ori + 1) % 3]];\n\t\t\tcol2 = f[cFacelet[i][(ori + 2) % 3]];\n\t\t\tfor (j = 0; j < 8; ++j) {\n\t\t\t\tif (col1 == ~~(cFacelet[j][1] / 9) && col2 == ~~(cFacelet[j][2] / 9)) {\n\t\t\t\t\tthis.ca[i] = j | ori % 3 << 3;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (i = 0; i < 12; ++i) {\n\t\t\tfor (j = 0; j < 12; ++j) {\n\t\t\t\tif (f[eFacelet[i][0]] == ~~(eFacelet[j][0] / 9) && f[eFacelet[i][1]] == ~~(eFacelet[j][1] / 9)) {\n\t\t\t\t\tthis.ea[i] = j << 1;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (f[eFacelet[i][0]] == ~~(eFacelet[j][1] / 9) && f[eFacelet[i][1]] == ~~(eFacelet[j][0] / 9)) {\n\t\t\t\t\tthis.ea[i] = j << 1 | 1;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction CoordCube() {\n\t\tthis.twist = 0;\n\t\tthis.tsym = 0;\n\t\tthis.flip = 0;\n\t\tthis.fsym = 0;\n\t\tthis.slice = 0;\n\t\tthis.prun = 0;\n\t\tthis.twistc = 0;\n\t\tthis.flipc = 0;\n\t}\n\tCoordCube.prototype.set = function(node) {\n\t\tthis.twist = node.twist;\n\t\tthis.tsym = node.tsym;\n\t\tthis.flip = node.flip;\n\t\tthis.fsym = node.fsym;\n\t\tthis.slice = node.slice;\n\t\tthis.prun = node.prun;\n\t\tif (USE_CONJ_PRUN) {\n\t\t\tthis.twistc = node.twistc;\n\t\t\tthis.flipc = node.flipc;\n\t\t}\n\t}\n\tCoordCube.prototype.calcPruning = function(isPhase1) {\n\t\tthis.prun = Math.max(\n\t\t\tMath.max(\n\t\t\t\tgetPruningMax(UDSliceTwistPrunMax, UDSliceTwistPrun,\n\t\t\t\t\tthis.twist * N_SLICE + UDSliceConj[this.slice][this.tsym]),\n\t\t\t\tgetPruningMax(UDSliceFlipPrunMax, UDSliceFlipPrun,\n\t\t\t\t\tthis.flip * N_SLICE + UDSliceConj[this.slice][this.fsym])),\n\t\t\tMath.max(\n\t\t\t\tUSE_CONJ_PRUN ? getPruningMax(TwistFlipPrunMax, TwistFlipPrun,\n\t\t\t\t\t(this.twistc >> 3) << 11 | FlipS2RF[this.flipc ^ (this.twistc & 7)]) : 0,\n\t\t\t\tUSE_TWIST_FLIP_PRUN ? getPruningMax(TwistFlipPrunMax, TwistFlipPrun,\n\t\t\t\t\tthis.twist << 11 | FlipS2RF[this.flip << 3 | (this.fsym ^ this.tsym)]) : 0));\n\t}\n\tCoordCube.prototype.setWithPrun = function(cc, depth) {\n\t\tthis.twist = cc.getTwistSym();\n\t\tthis.flip = cc.getFlipSym();\n\t\tthis.tsym = this.twist & 7;\n\t\tthis.twist = this.twist >> 3;\n\t\tthis.prun = USE_TWIST_FLIP_PRUN ? getPruningMax(TwistFlipPrunMax, TwistFlipPrun,\n\t\t\tthis.twist << 11 | FlipS2RF[this.flip ^ this.tsym]) : 0;\n\t\tif (this.prun > depth) {\n\t\t\treturn false;\n\t\t}\n\t\tthis.fsym = this.flip & 7;\n\t\tthis.flip = this.flip >> 3;\n\t\tthis.slice = cc.getUDSlice();\n\t\tthis.prun = Math.max(this.prun, Math.max(\n\t\t\tgetPruningMax(UDSliceTwistPrunMax, UDSliceTwistPrun,\n\t\t\t\tthis.twist * N_SLICE + UDSliceConj[this.slice][this.tsym]),\n\t\t\tgetPruningMax(UDSliceFlipPrunMax, UDSliceFlipPrun,\n\t\t\t\tthis.flip * N_SLICE + UDSliceConj[this.slice][this.fsym])));\n\t\tif (this.prun > depth) {\n\t\t\treturn false;\n\t\t}\n\t\tif (USE_CONJ_PRUN) {\n\t\t\tvar pc = new CubieCube();\n\t\t\tCubieCube.CornConjugate(cc, 1, pc);\n\t\t\tCubieCube.EdgeConjugate(cc, 1, pc);\n\t\t\tthis.twistc = pc.getTwistSym();\n\t\t\tthis.flipc = pc.getFlipSym();\n\t\t\tthis.prun = Math.max(this.prun,\n\t\t\t\tgetPruningMax(TwistFlipPrunMax, TwistFlipPrun,\n\t\t\t\t\t(this.twistc >> 3) << 11 | FlipS2RF[this.flipc ^ (this.twistc & 7)]));\n\t\t}\n\t\treturn this.prun <= depth;\n\t}\n\tCoordCube.prototype.doMovePrun = function(cc, m, isPhase1) {\n\t\tthis.slice = UDSliceMove[cc.slice][m];\n\t\tthis.flip = FlipMove[cc.flip][Sym8Move[m << 3 | cc.fsym]];\n\t\tthis.fsym = (this.flip & 7) ^ cc.fsym;\n\t\tthis.flip >>= 3;\n\t\tthis.twist = TwistMove[cc.twist][Sym8Move[m << 3 | cc.tsym]];\n\t\tthis.tsym = (this.twist & 7) ^ cc.tsym;\n\t\tthis.twist >>= 3;\n\t\tthis.prun = Math.max(\n\t\t\tMath.max(\n\t\t\t\tgetPruningMax(UDSliceTwistPrunMax, UDSliceTwistPrun,\n\t\t\t\t\tthis.twist * N_SLICE + UDSliceConj[this.slice][this.tsym]),\n\t\t\t\tgetPruningMax(UDSliceFlipPrunMax, UDSliceFlipPrun,\n\t\t\t\t\tthis.flip * N_SLICE + UDSliceConj[this.slice][this.fsym])),\n\t\t\tUSE_TWIST_FLIP_PRUN ? getPruningMax(TwistFlipPrunMax, TwistFlipPrun,\n\t\t\t\tthis.twist << 11 | FlipS2RF[this.flip << 3 | (this.fsym ^ this.tsym)]) : 0);\n\t\treturn this.prun;\n\t}\n\tCoordCube.prototype.doMovePrunConj = function(cc, m) {\n\t\tm = SymMove[3][m];\n\t\tthis.flipc = FlipMove[cc.flipc >> 3][Sym8Move[m << 3 | cc.flipc & 7]] ^ (cc.flipc & 7);\n\t\tthis.twistc = TwistMove[cc.twistc >> 3][Sym8Move[m << 3 | cc.twistc & 7]] ^ (cc.twistc & 7);\n\t\treturn getPruningMax(TwistFlipPrunMax, TwistFlipPrun,\n\t\t\t(this.twistc >> 3) << 11 | FlipS2RF[this.flipc ^ (this.twistc & 7)]);\n\t}\n\tSearch.prototype.solution = function(facelets, maxDepth, probeMax, probeMin, verbose) {\n\t\tinitPrunTables();\n\t\tvar check = this.verify(facelets);\n\t\tif (check != 0) {\n\t\t\treturn \"Error \" + Math.abs(check);\n\t\t}\n\t\tif (maxDepth === undefined) {\n\t\t\tmaxDepth = 21;\n\t\t}\n\t\tif (probeMax === undefined) {\n\t\t\tprobeMax = 1e9;\n\t\t}\n\t\tif (probeMin === undefined) {\n\t\t\tprobeMin = 0;\n\t\t}\n\t\tif (verbose === undefined) {\n\t\t\tverbose = 0;\n\t\t}\n\t\tthis.sol = maxDepth + 1;\n\t\tthis.probe = 0;\n\t\tthis.probeMax = probeMax;\n\t\tthis.probeMin = Math.min(probeMin, probeMax);\n\t\tthis.verbose = verbose;\n\t\tthis.moveSol = null;\n\t\tthis.isRec = false;\n\t\tthis.initSearch();\n\t\treturn this.search();\n\t}\n\n\tSearch.prototype.initSearch = function() {\n\t\tthis.conjMask = (TRY_INVERSE ? 0 : 0x38) | (TRY_THREE_AXES ? 0 : 0x36);\n\t\tthis.maxPreMoves = this.conjMask > 7 ? 0 : MAX_PRE_MOVES;\n\n\t\tfor (var i = 0; i < 6; i++) {\n\t\t\tthis.urfCubieCube[i].init(this.cc.ca, this.cc.ea);\n\t\t\tthis.urfCoordCube[i].setWithPrun(this.urfCubieCube[i], 20);\n\t\t\tthis.cc.URFConjugate();\n\t\t\tif (i % 3 == 2) {\n\t\t\t\tvar tmp = new CubieCube().invFrom(this.cc);\n\t\t\t\tthis.cc.init(tmp.ca, tmp.ea);\n\t\t\t}\n\t\t}\n\t}\n\n\tSearch.prototype.next = function(probeMax, probeMin, verbose) {\n\t\tif (probeMax === undefined) {\n\t\t\tprobeMax = 1e9;\n\t\t}\n\t\tif (probeMin === undefined) {\n\t\t\tprobeMin = 0;\n\t\t}\n\t\tif (verbose === undefined) {\n\t\t\tverbose = 0;\n\t\t}\n\t\tthis.probe = 0;\n\t\tthis.probeMax = probeMax;\n\t\tthis.probeMin = Math.min(probeMin, probeMax);\n\t\tthis.moveSol = null;\n\t\tthis.isRec = true;\n\t\tthis.verbose = verbose;\n\t\treturn this.search();\n\t}\n\n\tSearch.prototype.verify = function(facelets) {\n\t\tif (this.cc.fromFacelet(facelets) == -1) {\n\t\t\treturn -1;\n\t\t}\n\t\tvar sum = 0;\n\t\tvar edgeMask = 0;\n\t\tfor (var e = 0; e < 12; e++) {\n\t\t\tedgeMask |= 1 << (this.cc.ea[e] >> 1);\n\t\t\tsum ^= this.cc.ea[e] & 1;\n\t\t}\n\t\tif (edgeMask != 0xfff) {\n\t\t\treturn -2; // missing edges\n\t\t}\n\t\tif (sum != 0) {\n\t\t\treturn -3;\n\t\t}\n\t\tvar cornMask = 0;\n\t\tsum = 0;\n\t\tfor (var c = 0; c < 8; c++) {\n\t\t\tcornMask |= 1 << (this.cc.ca[c] & 7);\n\t\t\tsum += this.cc.ca[c] >> 3;\n\t\t}\n\t\tif (cornMask != 0xff) {\n\t\t\treturn -4; // missing corners\n\t\t}\n\t\tif (sum % 3 != 0) {\n\t\t\treturn -5; // twisted corner\n\t\t}\n\t\tif ((getNParity(getNPermFull(this.cc.ea, 12, true), 12) ^ getNParity(this.cc.getCPerm(), 8)) != 0) {\n\t\t\treturn -6; // parity error\n\t\t}\n\t\treturn 0; // cube ok\n\t}\n\n\tSearch.prototype.phase1PreMoves = function(maxl, lm, cc) {\n\t\tthis.preMoveLen = this.maxPreMoves - maxl;\n\t\tif (this.isRec ? (this.depth1 == this.length1 - this.preMoveLen) :\n\t\t\t(this.preMoveLen == 0 || (0x36FB7 >> lm & 1) == 0)) {\n\t\t\tthis.depth1 = this.length1 - this.preMoveLen;\n\t\t\tthis.phase1Cubie[0].init(cc.ca, cc.ea) /* = cc*/ ;\n\t\t\tthis.allowShorter = this.depth1 == MIN_P1LENGTH_PRE && this.preMoveLen != 0;\n\n\t\t\tif (this.nodeUD[this.depth1 + 1].setWithPrun(cc, this.depth1) &&\n\t\t\t\tthis.phase1(this.nodeUD[this.depth1 + 1], this.depth1, -1) == 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\n\t\tif (maxl == 0 || this.preMoveLen + MIN_P1LENGTH_PRE >= this.length1) {\n\t\t\treturn 1;\n\t\t}\n\n\t\tvar skipMoves = 0;\n\t\tif (maxl == 1 || this.preMoveLen + 1 + MIN_P1LENGTH_PRE >= this.length1) { //last pre move\n\t\t\tskipMoves |= 0x36FB7; // 11 0110 1111 1011 0111\n\t\t}\n\n\t\tlm = ~~(lm / 3) * 3;\n\t\tfor (var m = 0; m < 18; m++) {\n\t\t\tif (m == lm || m == lm - 9 || m == lm + 9) {\n\t\t\t\tm += 2;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (this.isRec && m != this.preMoves[this.maxPreMoves - maxl] || (skipMoves & 1 << m) != 0) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tCubieCube.CornMult(moveCube[m], cc, this.preMoveCubes[maxl]);\n\t\t\tCubieCube.EdgeMult(moveCube[m], cc, this.preMoveCubes[maxl]);\n\t\t\tthis.preMoves[this.maxPreMoves - maxl] = m;\n\t\t\tvar ret = this.phase1PreMoves(maxl - 1, m, this.preMoveCubes[maxl]);\n\t\t\tif (ret == 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\t\treturn 1;\n\t}\n\n\tSearch.prototype.search = function() {\n\t\tfor (this.length1 = this.isRec ? this.length1 : 0; this.length1 < this.sol; this.length1++) {\n\t\t\tfor (this.urfIdx = this.isRec ? this.urfIdx : 0; this.urfIdx < 6; this.urfIdx++) {\n\t\t\t\tif ((this.conjMask & 1 << this.urfIdx) != 0) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (this.phase1PreMoves(this.maxPreMoves, -30, this.urfCubieCube[this.urfIdx], 0) == 0) {\n\t\t\t\t\treturn this.moveSol == null ? \"Error 8\" : this.moveSol;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn this.moveSol == null ? \"Error 7\" : this.moveSol;\n\t}\n\n\tSearch.prototype.initPhase2Pre = function() {\n\t\tthis.isRec = false;\n\t\tif (this.probe >= (this.moveSol == null ? this.probeMax : this.probeMin)) {\n\t\t\treturn 0;\n\t\t}\n\t\t++this.probe;\n\n\t\tfor (var i = this.valid1; i < this.depth1; i++) {\n\t\t\tCubieCube.CornMult(this.phase1Cubie[i], moveCube[this.move[i]], this.phase1Cubie[i + 1]);\n\t\t\tCubieCube.EdgeMult(this.phase1Cubie[i], moveCube[this.move[i]], this.phase1Cubie[i + 1]);\n\t\t}\n\t\tthis.valid1 = this.depth1;\n\n\t\tvar ret = this.initPhase2(this.phase1Cubie[this.depth1]);\n\t\tif (ret == 0 || this.preMoveLen == 0 || ret == 2) {\n\t\t\treturn ret;\n\t\t}\n\n\t\tvar m = ~~(this.preMoves[this.preMoveLen - 1] / 3) * 3 + 1;\n\t\tCubieCube.CornMult(moveCube[m], this.phase1Cubie[this.depth1], this.phase1Cubie[this.depth1 + 1]);\n\t\tCubieCube.EdgeMult(moveCube[m], this.phase1Cubie[this.depth1], this.phase1Cubie[this.depth1 + 1]);\n\n\t\tthis.preMoves[this.preMoveLen - 1] += 2 - this.preMoves[this.preMoveLen - 1] % 3 * 2;\n\t\tret = this.initPhase2(this.phase1Cubie[this.depth1 + 1]);\n\t\tthis.preMoves[this.preMoveLen - 1] += 2 - this.preMoves[this.preMoveLen - 1] % 3 * 2;\n\t\treturn ret;\n\t}\n\tSearch.prototype.initPhase2 = function(phase2Cubie) {\n\t\tvar p2corn = phase2Cubie.getCPermSym();\n\t\tvar p2csym = p2corn & 0xf;\n\t\tp2corn >>= 4;\n\t\tvar p2edge = phase2Cubie.getEPermSym();\n\t\tvar p2esym = p2edge & 0xf;\n\t\tp2edge >>= 4;\n\t\tvar p2mid = phase2Cubie.getMPerm();\n\t\tvar p2edgei = getPermSymInv(p2edge, p2esym, false);\n\t\tvar p2corni = getPermSymInv(p2corn, p2csym, true);\n\t\tvar prun = Math.max(\n\t\t\tgetPruningMax(MCPermPrunMax, MCPermPrun,\n\t\t\t\tp2corn * N_MPERM + MPermConj[p2mid][p2csym]),\n\t\t\tgetPruningMax(EPermCCombPPrunMax, EPermCCombPPrun,\n\t\t\t\tp2edge * N_COMB + CCombPConj[Perm2CombP[p2corn] & 0xff][SymMultInv[p2esym][p2csym]]),\n\t\t\tgetPruningMax(EPermCCombPPrunMax, EPermCCombPPrun,\n\t\t\t\t(p2edgei >> 4) * N_COMB + CCombPConj[Perm2CombP[p2corni >> 4] & 0xff][SymMultInv[p2edgei & 0xf][p2corni & 0xf]])\n\t\t);\n\t\tvar maxDep2 = Math.min(MAX_DEPTH2, this.sol - this.length1);\n\t\tif (prun >= maxDep2) {\n\t\t\treturn prun > maxDep2 ? 2 : 1;\n\t\t}\n\t\tvar depth2;\n\t\tfor (depth2 = maxDep2 - 1; depth2 >= prun; depth2--) {\n\t\t\tvar ret = this.phase2(p2edge, p2esym, p2corn, p2csym, p2mid, depth2, this.depth1, 10);\n\t\t\tif (ret < 0) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdepth2 -= ret;\n\t\t\tthis.moveSol = [];\n\t\t\tfor (var i = 0; i < this.depth1 + depth2; i++) {\n\t\t\t\tthis.appendSolMove(this.move[i]);\n\t\t\t}\n\t\t\tfor (var i = this.preMoveLen - 1; i >= 0; i--) {\n\t\t\t\tthis.appendSolMove(this.preMoves[i]);\n\t\t\t}\n\t\t\tthis.sol = this.moveSol.length;\n\t\t\tthis.moveSol = this.solutionToString();\n\t\t}\n\t\tif (depth2 != maxDep2 - 1) { //At least one solution has been found.\n\t\t\treturn this.probe >= this.probeMin ? 0 : 1;\n\t\t} else {\n\t\t\treturn 1;\n\t\t}\n\t}\n\tSearch.prototype.phase1 = function(node, maxl, lm) {\n\t\tif (node.prun == 0 && maxl < 5) {\n\t\t\tif (this.allowShorter || maxl == 0) {\n\t\t\t\tthis.depth1 -= maxl;\n\t\t\t\tvar ret = this.initPhase2Pre();\n\t\t\t\tthis.depth1 += maxl;\n\t\t\t\treturn ret;\n\t\t\t} else {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t}\n\t\tfor (var axis = 0; axis < 18; axis += 3) {\n\t\t\tif (axis == lm || axis == lm - 9) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tfor (var power = 0; power < 3; power++) {\n\t\t\t\tvar m = axis + power;\n\n\t\t\t\tif (this.isRec && m != this.move[this.depth1 - maxl]) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tvar prun = this.nodeUD[maxl].doMovePrun(node, m, true);\n\t\t\t\tif (prun > maxl) {\n\t\t\t\t\tbreak;\n\t\t\t\t} else if (prun == maxl) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (USE_CONJ_PRUN) {\n\t\t\t\t\tprun = this.nodeUD[maxl].doMovePrunConj(node, m);\n\t\t\t\t\tif (prun > maxl) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} else if (prun == maxl) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.move[this.depth1 - maxl] = m;\n\t\t\t\tthis.valid1 = Math.min(this.valid1, this.depth1 - maxl);\n\t\t\t\tvar ret = this.phase1(this.nodeUD[maxl], maxl - 1, axis);\n\t\t\t\tif (ret == 0) {\n\t\t\t\t\treturn 0;\n\t\t\t\t} else if (ret == 2) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn 1;\n\t}\n\tSearch.prototype.appendSolMove = function(curMove) {\n\t\tif (this.moveSol.length == 0) {\n\t\t\tthis.moveSol.push(curMove);\n\t\t\treturn;\n\t\t}\n\t\tvar axisCur = ~~(curMove / 3);\n\t\tvar axisLast = ~~(this.moveSol[this.moveSol.length - 1] / 3);\n\t\tif (axisCur == axisLast) {\n\t\t\tvar pow = (curMove % 3 + this.moveSol[this.moveSol.length - 1] % 3 + 1) % 4;\n\t\t\tif (pow == 3) {\n\t\t\t\tthis.moveSol.pop();\n\t\t\t} else {\n\t\t\t\tthis.moveSol[this.moveSol.length - 1] = axisCur * 3 + pow;\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tif (this.moveSol.length > 1 &&\n\t\t\taxisCur % 3 == axisLast % 3 &&\n\t\t\taxisCur == ~~(this.moveSol[this.moveSol.length - 2] / 3)) {\n\t\t\tvar pow = (curMove % 3 + this.moveSol[this.moveSol.length - 2] % 3 + 1) % 4;\n\t\t\tif (pow == 3) {\n\t\t\t\tthis.moveSol[this.moveSol.length - 2] = this.moveSol[this.moveSol.length - 1];\n\t\t\t\tthis.moveSol.pop();\n\t\t\t} else {\n\t\t\t\tthis.moveSol[this.moveSol.length - 2] = axisCur * 3 + pow;\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tthis.moveSol.push(curMove);\n\t}\n\tSearch.prototype.phase2 = function(edge, esym, corn, csym, mid, maxl, depth, lm) {\n\t\tif (edge == 0 && corn == 0 && mid == 0) {\n\t\t\treturn maxl;\n\t\t}\n\t\tvar moveMask = ckmv2bit[lm];\n\t\tfor (var m = 0; m < 10; m++) {\n\t\t\tif ((moveMask >> m & 1) != 0) {\n\t\t\t\tm += 0x42 >> m & 3;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tvar midx = MPermMove[mid][m];\n\t\t\tvar cornx = CPermMove[corn][SymMoveUD[csym][m]];\n\t\t\tvar csymx = SymMult[cornx & 0xf][csym];\n\t\t\tcornx >>= 4;\n\t\t\tvar edgex = EPermMove[edge][SymMoveUD[esym][m]];\n\t\t\tvar esymx = SymMult[edgex & 0xf][esym];\n\t\t\tedgex >>= 4;\n\t\t\tvar edgei = getPermSymInv(edgex, esymx, false);\n\t\t\tvar corni = getPermSymInv(cornx, csymx, true);\n\t\t\tvar prun = getPruningMax(EPermCCombPPrunMax, EPermCCombPPrun,\n\t\t\t\t(edgei >> 4) * N_COMB + CCombPConj[Perm2CombP[corni >> 4] & 0xff][SymMultInv[edgei & 0xf][corni & 0xf]]);\n\t\t\tif (prun > maxl + 1) {\n\t\t\t\tbreak;\n\t\t\t} else if (prun >= maxl) {\n\t\t\t\tm += 0x42 >> m & 3 & (maxl - prun);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tprun = Math.max(\n\t\t\t\tgetPruningMax(EPermCCombPPrunMax, EPermCCombPPrun,\n\t\t\t\t\tedgex * N_COMB + CCombPConj[Perm2CombP[cornx] & 0xff][SymMultInv[esymx][csymx]]),\n\t\t\t\tgetPruningMax(MCPermPrunMax, MCPermPrun,\n\t\t\t\t\tcornx * N_MPERM + MPermConj[midx][csymx])\n\t\t\t);\n\t\t\tif (prun >= maxl) {\n\t\t\t\tm += 0x42 >> m & 3 & (maxl - prun);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tvar ret = this.phase2(edgex, esymx, cornx, csymx, midx, maxl - 1, depth + 1, m);\n\t\t\tif (ret >= 0) {\n\t\t\t\tthis.move[depth] = ud2std[m];\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t}\n\tSearch.prototype.solutionToString = function() {\n\t\tvar sb = '';\n\t\tvar urf = (this.verbose & INVERSE_SOLUTION) != 0 ? (this.urfIdx + 3) % 6 : this.urfIdx;\n\t\tif (urf < 3) {\n\t\t\tfor (var s = 0; s < this.moveSol.length; ++s) {\n\t\t\t\tsb += move2str[urfMove[urf][this.moveSol[s]]] + ' ';\n\t\t\t}\n\t\t} else {\n\t\t\tfor (var s = this.moveSol.length - 1; s >= 0; --s) {\n\t\t\t\tsb += move2str[urfMove[urf][this.moveSol[s]]] + ' ';\n\t\t\t}\n\t\t}\n\t\treturn sb;\n\t}\n\n\tvar moveCube = [];\n\tvar SymCube = [];\n\tvar SymMult = [];\n\tvar SymMultInv = [];\n\tvar SymMove = [];\n\tvar SymMoveUD = [];\n\tvar Sym8Move = [];\n\tvar FlipS2R = [];\n\tvar FlipR2S = [];\n\tvar TwistS2R = [];\n\tvar TwistR2S = [];\n\tvar EPermS2R = [];\n\tvar EPermR2S = [];\n\tvar SymStateFlip = [];\n\tvar SymStateTwist = [];\n\tvar SymStatePerm = [];\n\tvar FlipS2RF = [];\n\tvar Perm2CombP = [];\n\tvar PermInvEdgeSym = [];\n\tvar UDSliceMove = [];\n\tvar TwistMove = [];\n\tvar FlipMove = [];\n\tvar UDSliceConj = [];\n\tvar UDSliceTwistPrun = [];\n\tvar UDSliceFlipPrun = [];\n\tvar TwistFlipPrun = [];\n\n\t//phase2\n\tvar CPermMove = [];\n\tvar EPermMove = [];\n\tvar MPermMove = [];\n\tvar MPermConj = [];\n\tvar CCombPMove = []; // = new char[N_COMB][N_MOVES2];\n\tvar CCombPConj = [];\n\tvar MCPermPrun = [];\n\tvar EPermCCombPPrun = [];\n\n\tvar TwistFlipPrunMax = 15;\n\tvar UDSliceTwistPrunMax = 15;\n\tvar UDSliceFlipPrunMax = 15;\n\tvar MCPermPrunMax = 15;\n\tvar EPermCCombPPrunMax = 15;\n\n\t{ //init move cubes\n\t\tfor (var i = 0; i < 18; i++) {\n\t\t\tmoveCube[i] = new CubieCube()\n\t\t}\n\t\tmoveCube[0].initCoord(15120, 0, 119750400, 0);\n\t\tmoveCube[3].initCoord(21021, 1494, 323403417, 0);\n\t\tmoveCube[6].initCoord(8064, 1236, 29441808, 550);\n\t\tmoveCube[9].initCoord(9, 0, 5880, 0);\n\t\tmoveCube[12].initCoord(1230, 412, 2949660, 0);\n\t\tmoveCube[15].initCoord(224, 137, 328552, 137);\n\t\tfor (var a = 0; a < 18; a += 3) {\n\t\t\tfor (var p = 0; p < 2; p++) {\n\t\t\t\tCubieCube.EdgeMult(moveCube[a + p], moveCube[a], moveCube[a + p + 1]);\n\t\t\t\tCubieCube.CornMult(moveCube[a + p], moveCube[a], moveCube[a + p + 1]);\n\t\t\t}\n\t\t}\n\t\tCubieCube.urf1 = new CubieCube().initCoord(2531, 1373, 67026819, 1367);\n\t\tCubieCube.urf2 = new CubieCube().initCoord(2089, 1906, 322752913, 2040);\n\t}\n\n\tfunction initBasic() {\n\t\t{ //init sym cubes\n\t\t\tvar c = new CubieCube();\n\t\t\tvar d = new CubieCube();\n\t\t\tvar t;\n\n\t\t\tvar f2 = new CubieCube().initCoord(28783, 0, 259268407, 0);\n\t\t\tvar u4 = new CubieCube().initCoord(15138, 0, 119765538, 7);\n\t\t\tvar lr2 = new CubieCube().initCoord(5167, 0, 83473207, 0);\n\t\t\tfor (var i = 0; i < 8; i++) {\n\t\t\t\tlr2.ca[i] |= 3 << 3;\n\t\t\t}\n\t\t\tfor (var i = 0; i < 16; i++) {\n\t\t\t\tSymCube[i] = new CubieCube().init(c.ca, c.ea);\n\t\t\t\tCubieCube.CornMultFull(c, u4, d);\n\t\t\t\tCubieCube.EdgeMult(c, u4, d);\n\t\t\t\tc.init(d.ca, d.ea);\n\t\t\t\tif (i % 4 == 3) {\n\t\t\t\t\tCubieCube.CornMultFull(c, lr2, d);\n\t\t\t\t\tCubieCube.EdgeMult(c, lr2, d);\n\t\t\t\t\tc.init(d.ca, d.ea);\n\t\t\t\t}\n\t\t\t\tif (i % 8 == 7) {\n\t\t\t\t\tCubieCube.CornMultFull(c, f2, d);\n\t\t\t\t\tCubieCube.EdgeMult(c, f2, d);\n\t\t\t\t\tc.init(d.ca, d.ea);\n\t\t\t\t}\n\t\t\t}\n\t\t} { // gen sym tables\n\n\n\t\t\tfor (var i = 0; i < 16; i++) {\n\t\t\t\tSymMult[i] = [];\n\t\t\t\tSymMultInv[i] = [];\n\t\t\t\tSymMove[i] = [];\n\t\t\t\tSym8Move[i] = [];\n\t\t\t\tSymMoveUD[i] = [];\n\t\t\t}\n\t\t\tfor (var i = 0; i < 16; i++) {\n\t\t\t\tfor (var j = 0; j < 16; j++) {\n\t\t\t\t\tSymMult[i][j] = i ^ j ^ (0x14ab4 >> j & i << 1 & 2); // SymMult[i][j] = (i ^ j ^ (0x14ab4 >> j & i << 1 & 2)));\n\t\t\t\t\tSymMultInv[SymMult[i][j]][j] = i;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar c = new CubieCube();\n\t\t\tfor (var s = 0; s < 16; s++) {\n\t\t\t\tfor (var j = 0; j < 18; j++) {\n\t\t\t\t\tCubieCube.CornConjugate(moveCube[j], SymMultInv[0][s], c);\n\t\t\t\t\toutloop: for (var m = 0; m < 18; m++) {\n\t\t\t\t\t\tfor (var t = 0; t < 8; t++) {\n\t\t\t\t\t\t\tif (moveCube[m].ca[t] != c.ca[t]) {\n\t\t\t\t\t\t\t\tcontinue outloop;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tSymMove[s][j] = m;\n\t\t\t\t\t\tSymMoveUD[s][std2ud[j]] = std2ud[m];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif (s % 2 == 0) {\n\t\t\t\t\t\tSym8Move[j << 3 | s >> 1] = SymMove[s][j];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} { // init sym 2 raw tables\n\t\t\tfunction initSym2Raw(N_RAW, Sym2Raw, Raw2Sym, SymState, coord, setFunc, getFunc) {\n\t\t\t\tvar N_RAW_HALF = (N_RAW + 1) >> 1;\n\t\t\t\tvar c = new CubieCube();\n\t\t\t\tvar d = new CubieCube();\n\t\t\t\tvar count = 0;\n\t\t\t\tvar sym_inc = coord >= 2 ? 1 : 2;\n\t\t\t\tvar conjFunc = coord != 1 ? CubieCube.EdgeConjugate : CubieCube.CornConjugate;\n\n\t\t\t\tfor (var i = 0; i < N_RAW; i++) {\n\t\t\t\t\tif (Raw2Sym[i] !== undefined) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tsetFunc.call(c, i);\n\t\t\t\t\tfor (var s = 0; s < 16; s += sym_inc) {\n\t\t\t\t\t\tconjFunc(c, s, d);\n\t\t\t\t\t\tvar idx = getFunc.call(d);\n\t\t\t\t\t\tif (USE_TWIST_FLIP_PRUN && coord == 0) {\n\t\t\t\t\t\t\tFlipS2RF[count << 3 | s >> 1] = idx;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (idx == i) {\n\t\t\t\t\t\t\tSymState[count] |= 1 << (s / sym_inc);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tRaw2Sym[idx] = (count << 4 | s) / sym_inc;\n\t\t\t\t\t}\n\t\t\t\t\tSym2Raw[count++] = i;\n\t\t\t\t}\n\t\t\t\treturn count;\n\t\t\t}\n\n\t\t\tinitSym2Raw(N_FLIP, FlipS2R, FlipR2S, SymStateFlip, 0, CubieCube.prototype.setFlip, CubieCube.prototype.getFlip);\n\t\t\tinitSym2Raw(N_TWIST, TwistS2R, TwistR2S, SymStateTwist, 1, CubieCube.prototype.setTwist, CubieCube.prototype.getTwist);\n\t\t\tinitSym2Raw(N_PERM, EPermS2R, EPermR2S, SymStatePerm, 2, CubieCube.prototype.setEPerm, CubieCube.prototype.getEPerm);\n\t\t\tvar cc = new CubieCube();\n\t\t\tfor (var i = 0; i < N_PERM_SYM; i++) {\n\t\t\t\tsetNPerm(cc.ea, EPermS2R[i], 8, true);\n\t\t\t\tPerm2CombP[i] = getComb(cc.ea, 0, true) + (USE_COMBP_PRUN ? getNParity(EPermS2R[i], 8) * 70 : 0);\n\t\t\t\tc.invFrom(cc);\n\t\t\t\tPermInvEdgeSym[i] = EPermR2S[c.getEPerm()];\n\t\t\t}\n\t\t} { // init coord tables\n\n\t\t\tvar c = new CubieCube();\n\t\t\tvar d = new CubieCube();\n\n\t\t\tfunction initSymMoveTable(moveTable, SymS2R, N_SIZE, N_MOVES, setFunc, getFunc, multFunc, ud2std) {\n\t\t\t\tfor (var i = 0; i < N_SIZE; i++) {\n\t\t\t\t\tmoveTable[i] = [];\n\t\t\t\t\tsetFunc.call(c, SymS2R[i]);\n\t\t\t\t\tfor (var j = 0; j < N_MOVES; j++) {\n\t\t\t\t\t\tmultFunc(c, moveCube[ud2std ? ud2std[j] : j], d);\n\t\t\t\t\t\tmoveTable[i][j] = getFunc.call(d);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tinitSymMoveTable(FlipMove, FlipS2R, N_FLIP_SYM, N_MOVES,\n\t\t\t\tCubieCube.prototype.setFlip, CubieCube.prototype.getFlipSym, CubieCube.EdgeMult);\n\t\t\tinitSymMoveTable(TwistMove, TwistS2R, N_TWIST_SYM, N_MOVES,\n\t\t\t\tCubieCube.prototype.setTwist, CubieCube.prototype.getTwistSym, CubieCube.CornMult);\n\t\t\tinitSymMoveTable(EPermMove, EPermS2R, N_PERM_SYM, N_MOVES2,\n\t\t\t\tCubieCube.prototype.setEPerm, CubieCube.prototype.getEPermSym, CubieCube.EdgeMult, ud2std);\n\t\t\tinitSymMoveTable(CPermMove, EPermS2R, N_PERM_SYM, N_MOVES2,\n\t\t\t\tCubieCube.prototype.setCPerm, CubieCube.prototype.getCPermSym, CubieCube.CornMult, ud2std);\n\n\t\t\tfor (var i = 0; i < N_SLICE; i++) {\n\t\t\t\tUDSliceMove[i] = [];\n\t\t\t\tUDSliceConj[i] = [];\n\t\t\t\tc.setUDSlice(i);\n\t\t\t\tfor (var j = 0; j < N_MOVES; j++) {\n\t\t\t\t\tCubieCube.EdgeMult(c, moveCube[j], d);\n\t\t\t\t\tUDSliceMove[i][j] = d.getUDSlice();\n\t\t\t\t}\n\t\t\t\tfor (var j = 0; j < 16; j += 2) {\n\t\t\t\t\tCubieCube.EdgeConjugate(c, SymMultInv[0][j], d);\n\t\t\t\t\tUDSliceConj[i][j >> 1] = d.getUDSlice();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (var i = 0; i < N_MPERM; i++) {\n\t\t\t\tMPermMove[i] = [];\n\t\t\t\tMPermConj[i] = [];\n\t\t\t\tc.setMPerm(i);\n\t\t\t\tfor (var j = 0; j < N_MOVES2; j++) {\n\t\t\t\t\tCubieCube.EdgeMult(c, moveCube[ud2std[j]], d);\n\t\t\t\t\tMPermMove[i][j] = d.getMPerm();\n\t\t\t\t}\n\t\t\t\tfor (var j = 0; j < 16; j++) {\n\t\t\t\t\tCubieCube.EdgeConjugate(c, SymMultInv[0][j], d);\n\t\t\t\t\tMPermConj[i][j] = d.getMPerm();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (var i = 0; i < N_COMB; i++) {\n\t\t\t\tCCombPMove[i] = [];\n\t\t\t\tCCombPConj[i] = [];\n\t\t\t\tc.setCComb(i % 70);\n\t\t\t\tfor (var j = 0; j < N_MOVES2; j++) {\n\t\t\t\t\tCubieCube.CornMult(c, moveCube[ud2std[j]], d);\n\t\t\t\t\tCCombPMove[i][j] = d.getCComb() + 70 * ((P2_PARITY_MOVE >> j & 1) ^ ~~(i / 70));\n\t\t\t\t}\n\t\t\t\tfor (var j = 0; j < 16; j++) {\n\t\t\t\t\tCubieCube.CornConjugate(c, SymMultInv[0][j], d);\n\t\t\t\t\tCCombPConj[i][j] = d.getCComb() + 70 * ~~(i / 70);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t//init pruning tables\n\tvar InitPrunProgress = -1;\n\n\tfunction initRawSymPrun(PrunTable, N_RAW, N_SYM, RawMove, RawConj, SymMove, SymState, PrunFlag) {\n\t\tvar SYM_SHIFT = PrunFlag & 0xf;\n\t\tvar SYM_E2C_MAGIC = ((PrunFlag >> 4) & 1) == 1 ? 0x00DDDD00 : 0x00000000;\n\t\tvar IS_PHASE2 = ((PrunFlag >> 5) & 1) == 1;\n\t\tvar INV_DEPTH = PrunFlag >> 8 & 0xf;\n\t\tvar MAX_DEPTH = PrunFlag >> 12 & 0xf;\n\t\tvar MIN_DEPTH = PrunFlag >> 16 & 0xf;\n\n\t\tvar SYM_MASK = (1 << SYM_SHIFT) - 1;\n\t\tvar ISTFP = RawMove == null;\n\t\tvar N_SIZE = N_RAW * N_SYM;\n\t\tvar N_MOVES = IS_PHASE2 ? 10 : 18;\n\t\tvar NEXT_AXIS_MAGIC = N_MOVES == 10 ? 0x42 : 0x92492;\n\n\t\tvar depth = getPruning(PrunTable, N_SIZE) - 1;\n\n\t\tif (depth == -1) {\n\t\t\tfor (var i = 0; i < (N_SIZE >> 3) + 1; i++) {\n\t\t\t\tPrunTable[i] = 0xffffffff;\n\t\t\t}\n\t\t\tsetPruning(PrunTable, 0, 0 ^ 0xf);\n\t\t\tdepth = 0;\n\t\t} else {\n\t\t\tsetPruning(PrunTable, N_SIZE, 0xf ^ (depth + 1));\n\t\t}\n\n\t\tvar SEARCH_DEPTH = PARTIAL_INIT_LEVEL > 0 ?\n\t\t\tMath.min(Math.max(depth + 1, MIN_DEPTH), MAX_DEPTH) : MAX_DEPTH;\n\n\t\twhile (depth < SEARCH_DEPTH) {\n\t\t\tvar inv = depth > INV_DEPTH;\n\t\t\tvar select = inv ? 0xf : depth;\n\t\t\tvar selArrMask = select * 0x11111111;\n\t\t\tvar check = inv ? depth : 0xf;\n\t\t\tdepth++;\n\t\t\tInitPrunProgress++;\n\t\t\tvar xorVal = depth ^ 0xf;\n\t\t\tvar done = 0;\n\t\t\tvar val = 0;\n\t\t\tfor (var i = 0; i < N_SIZE; i++, val >>= 4) {\n\t\t\t\tif ((i & 7) == 0) {\n\t\t\t\t\tval = PrunTable[i >> 3];\n\t\t\t\t\tif (!hasZero(val ^ selArrMask)) {\n\t\t\t\t\t\ti += 7;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif ((val & 0xf) != select) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tvar raw = i % N_RAW;\n\t\t\t\tvar sym = ~~(i / N_RAW);\n\t\t\t\tvar flip = 0,\n\t\t\t\t\tfsym = 0;\n\t\t\t\tif (ISTFP) {\n\t\t\t\t\tflip = FlipR2S[raw];\n\t\t\t\t\tfsym = flip & 7;\n\t\t\t\t\tflip >>= 3;\n\t\t\t\t}\n\n\t\t\t\tfor (var m = 0; m < N_MOVES; m++) {\n\t\t\t\t\tvar symx = SymMove[sym][m];\n\t\t\t\t\tvar rawx;\n\t\t\t\t\tif (ISTFP) {\n\t\t\t\t\t\trawx = FlipS2RF[\n\t\t\t\t\t\t\tFlipMove[flip][Sym8Move[m << 3 | fsym]] ^\n\t\t\t\t\t\t\tfsym ^ (symx & SYM_MASK)];\n\t\t\t\t\t} else {\n\t\t\t\t\t\trawx = RawConj[RawMove[raw][m]][symx & SYM_MASK];\n\t\t\t\t\t}\n\t\t\t\t\tsymx >>= SYM_SHIFT;\n\t\t\t\t\tvar idx = symx * N_RAW + rawx;\n\t\t\t\t\tvar prun = getPruning(PrunTable, idx);\n\t\t\t\t\tif (prun != check) {\n\t\t\t\t\t\tif (prun < depth - 1) {\n\t\t\t\t\t\t\tm += NEXT_AXIS_MAGIC >> m & 3;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tdone++;\n\t\t\t\t\tif (inv) {\n\t\t\t\t\t\tsetPruning(PrunTable, i, xorVal);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tsetPruning(PrunTable, idx, xorVal);\n\t\t\t\t\tfor (var j = 1, symState = SymState[symx];\n\t\t\t\t\t\t(symState >>= 1) != 0; j++) {\n\t\t\t\t\t\tif ((symState & 1) != 1) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar idxx = symx * N_RAW;\n\t\t\t\t\t\tif (ISTFP) {\n\t\t\t\t\t\t\tidxx += FlipS2RF[FlipR2S[rawx] ^ j];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tidxx += RawConj[rawx][j ^ (SYM_E2C_MAGIC >> (j << 1) & 3)];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (getPruning(PrunTable, idxx) == check) {\n\t\t\t\t\t\t\tsetPruning(PrunTable, idxx, xorVal);\n\t\t\t\t\t\t\tdone++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// console.log(depth, done, InitPrunProgress);\n\t\t}\n\t\tsetPruning(PrunTable, N_SIZE, (depth + 1) ^ 0xf);\n\t\treturn depth + 1;\n\t}\n\n\tfunction doInitPrunTables(targetProgress) {\n\t\tif (USE_TWIST_FLIP_PRUN) {\n\t\t\tTwistFlipPrunMax = initRawSymPrun(\n\t\t\t\tTwistFlipPrun, 2048, 324,\n\t\t\t\tnull, null,\n\t\t\t\tTwistMove, SymStateTwist, 0x19603\n\t\t\t);\n\t\t}\n\t\tif (InitPrunProgress > targetProgress) {\n\t\t\treturn;\n\t\t}\n\t\tUDSliceTwistPrunMax = initRawSymPrun(\n\t\t\tUDSliceTwistPrun, 495, 324,\n\t\t\tUDSliceMove, UDSliceConj,\n\t\t\tTwistMove, SymStateTwist, 0x69603\n\t\t);\n\t\tif (InitPrunProgress > targetProgress) {\n\t\t\treturn;\n\t\t}\n\t\tUDSliceFlipPrunMax = initRawSymPrun(\n\t\t\tUDSliceFlipPrun, 495, 336,\n\t\t\tUDSliceMove, UDSliceConj,\n\t\t\tFlipMove, SymStateFlip, 0x69603\n\t\t);\n\t\tif (InitPrunProgress > targetProgress) {\n\t\t\treturn;\n\t\t}\n\t\tMCPermPrunMax = initRawSymPrun(\n\t\t\tMCPermPrun, 24, 2768,\n\t\t\tMPermMove, MPermConj,\n\t\t\tCPermMove, SymStatePerm, 0x8ea34\n\t\t);\n\t\tif (InitPrunProgress > targetProgress) {\n\t\t\treturn;\n\t\t}\n\t\tEPermCCombPPrunMax = initRawSymPrun(\n\t\t\tEPermCCombPPrun, N_COMB, 2768,\n\t\t\tCCombPMove, CCombPConj,\n\t\t\tEPermMove, SymStatePerm, 0x7d824\n\t\t);\n\t}\n\n\tfunction initPrunTables() {\n\t\tif (InitPrunProgress < 0) {\n\t\t\tinitBasic();\n\t\t\tInitPrunProgress = 0;\n\t\t}\n\t\tif (InitPrunProgress == 0) {\n\t\t\tdoInitPrunTables(99);\n\t\t} else if (InitPrunProgress < 54) {\n\t\t\tdoInitPrunTables(InitPrunProgress);\n\t\t} else {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tfunction randomCube() {\n\t\tvar ep, cp;\n\t\tvar eo = ~~(Math.random() * 2048);\n\t\tvar co = ~~(Math.random() * 2187);\n\t\tdo {\n\t\t\tep = ~~(Math.random() * fact[12]);\n\t\t\tcp = ~~(Math.random() * fact[8]);\n\t\t} while (getNParity(cp, 8) != getNParity(ep, 12));\n\t\tvar cc = new CubieCube().initCoord(cp, co, ep, eo);\n\t\treturn cc.toFaceCube();\n\t}\n\n\tfunction fromScramble(s) {\n\t\tvar j = 0;\n\t\tvar axis = -1;\n\t\tvar c1 = new CubieCube();\n\t\tvar c2 = new CubieCube();\n\t\tfor (var i = 0; i < s.length; i++) {\n\t\t\tswitch (s[i]) {\n\t\t\t\tcase 'U':\n\t\t\t\tcase 'R':\n\t\t\t\tcase 'F':\n\t\t\t\tcase 'D':\n\t\t\t\tcase 'L':\n\t\t\t\tcase 'B':\n\t\t\t\t\taxis = \"URFDLB\".indexOf(s[i]) * 3;\n\t\t\t\t\tbreak;\n\t\t\t\tcase ' ':\n\t\t\t\t\tif (axis != -1) {\n\t\t\t\t\t\tCubieCube.CornMult(c1, moveCube[axis], c2);\n\t\t\t\t\t\tCubieCube.EdgeMult(c1, moveCube[axis], c2);\n\t\t\t\t\t\tc1.init(c2.ca, c2.ea);\n\t\t\t\t\t}\n\t\t\t\t\taxis = -1;\n\t\t\t\t\tbreak;\n\t\t\t\tcase '2':\n\t\t\t\t\taxis++;\n\t\t\t\t\tbreak;\n\t\t\t\tcase '\\'':\n\t\t\t\t\taxis += 2;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\t\tif (axis != -1) {\n\t\t\tCubieCube.CornMult(c1, moveCube[axis], c2);\n\t\t\tCubieCube.EdgeMult(c1, moveCube[axis], c2);\n\t\t\tc1.init(c2.ca, c2.ea);\n\t\t}\n\t\treturn c2.toFaceCube();\n\t}\n\n\treturn {\n\t\tSearch: Search,\n\t\tsolve: function(facelet) {\n\t\t\treturn new Search().solution(facelet);\n\t\t},\n\t\trandomCube: randomCube,\n\t\tfromScramble: fromScramble,\n\t\tinitFull: function() {\n\t\t\tPARTIAL_INIT_LEVEL = 0;\n\t\t\tinitPrunTables();\n\t\t}\n\t}\n})();\n\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\n\tmodule.exports = min2phase;\n}","const inverse = (function () {\n    const faceNames = {\n        0: 'U',\n        1: 'R',\n        2: 'F',\n        3: 'D',\n        4: 'L',\n        5: 'B',\n        6: 'E',\n        7: 'M',\n        8: 'S',\n        9: 'x',\n        10: 'y',\n        11: 'z',\n        12: 'u',\n        13: 'r',\n        14: 'f',\n        15: 'd',\n        16: 'l',\n        17: 'b'\n    };\n\n    const faceNums = {\n        U: 0,\n        R: 1,\n        F: 2,\n        D: 3,\n        L: 4,\n        B: 5,\n        E: 6,\n        M: 7,\n        S: 8,\n        x: 9,\n        y: 10,\n        z: 11,\n        u: 12,\n        r: 13,\n        f: 14,\n        d: 15,\n        l: 16,\n        b: 17\n    };\n\n    const inverse = (arg) => {\n        var face, k, len, move, power, result, str;\n        result = (function() {\n            var k, len, ref, results;\n            ref = parseAlg(arg);\n            results = [];\n            for (k = 0, len = ref.length; k < len; k++) {\n                move = ref[k];\n                face = move / 3 | 0;\n                power = move % 3;\n                results.push(face * 3 + -(power - 1) + 1);\n            }\n            return results;\n        })();\n        result.reverse();\n        if (typeof arg === 'string') {\n            str = '';\n            for (k = 0, len = result.length; k < len; k++) {\n                move = result[k];\n                face = move / 3 | 0;\n                power = move % 3;\n                str += faceNames[face];\n                if (power === 1) {\n                    str += '2';\n                } else if (power === 2) {\n                    str += \"'\";\n                }\n                str += ' ';\n            }\n            return str.substring(0, str.length - 1);\n        } else if (arg.length != null) {\n            return result;\n        } else {\n            return result[0];\n        }\n    }\n\n    const parseAlg = (arg) => {\n        var k, len, move, part, power, ref, results;\n        if (typeof arg === 'string') {\n            ref = arg.split(/\\s+/);\n            // String\n            results = [];\n            for (k = 0, len = ref.length; k < len; k++) {\n                part = ref[k];\n                if (part.length === 0) {\n                    // First and last can be empty\n                    continue;\n                }\n                if (part.length > 2) {\n                    throw new Error(`Invalid move: ${part}`);\n                }\n                move = faceNums[part[0]];\n                if (move === void 0) {\n                    throw new Error(`Invalid move: ${part}`);\n                }\n                if (part.length === 1) {\n                    power = 0;\n                } else {\n                    if (part[1] === '2') {\n                        power = 1;\n                    } else if (part[1] === \"'\") {\n                        power = 2;\n                    } else {\n                        throw new Error(`Invalid move: ${part}`);\n                    }\n                }\n                results.push(move * 3 + power);\n            }\n            return results;\n        } else if (arg.length != null) {\n            // Already an array\n            return arg;\n        } else {\n            // A single move\n            return [arg];\n        }\n    }\n\n    return {\n        inverse: inverse\n    }\n})();\n\nmodule.exports = inverse","const scrambleLib = (function () {\n    const makeShortScramble = (len) => {\n        const faceList = [\"U\", \"R\", \"F\", \"D\", \"L\", \"B\"];\n        const turnList = [\"\", \"'\", \"2\"];\n        const scrambleList = [];\n        while (scrambleList.length < len) {\n            const face = faceList[Math.floor(Math.random() * faceList.length)];\n            const turn = turnList[Math.floor(Math.random() * turnList.length)];\n            if (scrambleList.length >= 1) {\n                if (face === scrambleList[scrambleList.length - 1].face) {\n                    continue;\n                }\n            }\n            if (scrambleList.length >= 2) {\n                if (face === scrambleList[scrambleList.length - 2].face && (\n                    (face === \"U\" && scrambleList[scrambleList.length - 1].face === \"D\") ||\n                    (face === \"D\" && scrambleList[scrambleList.length - 1].face === \"U\") ||\n                    (face === \"R\" && scrambleList[scrambleList.length - 1].face === \"L\") ||\n                    (face === \"L\" && scrambleList[scrambleList.length - 1].face === \"R\") ||\n                    (face === \"F\" && scrambleList[scrambleList.length - 1].face === \"B\") ||\n                    (face === \"B\" && scrambleList[scrambleList.length - 1].face === \"F\")\n                )) {\n                    continue;\n                }\n            }\n            scrambleList.push({\n                face: face,\n                turn: turn\n            });\n        }\n        let scrambleText = \"\";\n        scrambleList.forEach((value) => {\n            scrambleText += value.face + value.turn + \" \";\n        });\n        scrambleText = scrambleText.trim();\n        return scrambleText;\n    };\n\n    const makeCorrectScramble = (scr1, scr2) => {\n        const scr1ListTmp = scr1.split(\" \");\n        let scr1List = [];\n        scr1ListTmp.forEach((item) => {\n            const itemTmp = item.split(\"\");\n            if (itemTmp.length === 1) {\n                itemTmp.push(\"\");\n            }\n            scr1List.push(itemTmp);\n        });\n        const scr2ListTmp = scr2.split(\" \");\n        let scr2List = [];\n        scr2ListTmp.forEach((item) => {\n            const itemTmp = item.split(\"\");\n            if (itemTmp.length === 1) {\n                itemTmp.push(\"\");\n            }\n            scr2List.push(itemTmp);\n        });\n        const scr1ListRes = scr1List.slice();\n        const scr2ListRes = scr2List.slice();\n        let flag = true;\n        let count = 0;\n        while(flag) {\n            if (scr1List[scr1List.length - (count + 1)][0] !== scr2List[count][0]) {\n                flag = false;\n            } else {\n                if ((scr1List[scr1List.length - (count + 1)][1] === \"\" && scr2List[count][1] === \"'\")\n                    || (scr1List[scr1List.length - (count + 1)][1] === \"'\" && scr2List[count][1] === \"\")\n                    || (scr1List[scr1List.length - (count + 1)][1] === \"2\" && scr2List[count][1] === \"2\")) {\n                    scr1ListRes.pop();\n                    scr2ListRes.shift();\n                    count++;\n                } else if ((scr1List[scr1List.length - (count + 1)][1] === \"'\" && scr2List[count][1] === \"2\")\n                    || (scr1List[scr1List.length - (count + 1)][1] === \"2\" && scr2List[count][1] === \"'\")) {\n                    scr1ListRes[scr1ListRes.length - (count + 1)][1] = \"\";\n                    scr2ListRes.shift();\n                    flag = false;\n                } else if ((scr1List[scr1List.length - (count + 1)][1] === \"\" && scr2List[count][1] === \"2\")\n                    || (scr1List[scr1List.length - (count + 1)][1] === \"2\" && scr2List[count][1] === \"\")) {\n                    scr1ListRes[scr1ListRes.length - (count + 1)][1] = \"'\";\n                    scr2ListRes.shift();\n                    flag = false;\n                } else if ((scr1List[scr1List.length - (count + 1)][1] === \"\" && scr2List[count][1] === \"\")\n                    || (scr1List[scr1List.length - (count + 1)][1] === \"'\" && scr2List[count][1] === \"'\")) {\n                    scr1ListRes[scr1ListRes.length - (count + 1)][1] = \"2\";\n                    scr2ListRes.shift();\n                    flag = false;\n                }\n            }\n        }\n        const scrList = scr1ListRes.concat(scr2ListRes);\n        let scrStr = \"\";\n        scrList.forEach((item) => {\n            scrStr += item[0] + item[1] + \" \";\n        });\n        return scrStr\n    };\n\n    return {\n        makeShortScramble: makeShortScramble,\n        makeCorrectScramble: makeCorrectScramble\n    }\n})();\n\nmodule.exports = scrambleLib"],"sourceRoot":""}